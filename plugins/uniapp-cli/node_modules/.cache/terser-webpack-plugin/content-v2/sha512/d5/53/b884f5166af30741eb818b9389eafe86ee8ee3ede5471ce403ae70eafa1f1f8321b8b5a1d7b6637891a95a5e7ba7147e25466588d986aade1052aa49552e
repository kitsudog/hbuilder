{"map":{"version":3,"sources":["static/js/pages-API-get-user-info-get-user-info.52a599db.js"],"names":["window","push","3707","module","exports","__webpack_require__","_interopRequireDefault","default","Object","defineProperty","value","_objectSpread2","_vuex","_default","data","title","hasUserInfo","userInfo","btnLoading","computed","mapState","methods","mapActions","getUserInfo","_this","this","isUniverifyLogin","getPhoneNumber","uni","getStorageSync","then","phoneNumber","catch","err","console","error","finally","loginProvider","nickname","nickName","provider","success","result","fail","log","content","errMsg","indexOf","getSetting","res","authStatus","authSetting","showModal","showCancel","confirm","openSetting","complete","mpGetUserInfo","detail","clear","3a40","__webpack_exports__","d","render","staticRenderFns","components","pageHead","_vm","_h","$createElement","_c","_self","attrs","staticClass","staticStyle","background","padding","_v","_e","_s","email","text-align","src","avatarUrl","on","click","$event","arguments","$handleEvent","apply","49e3","r","_node_uniapp_cli_node_modules_babel_loader_lib_index_js_node_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_13_1_node_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_18_0_node_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_using_components_js_node_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_node_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_scoped_loader_index_js_get_user_info_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__","_node_uniapp_cli_node_modules_babel_loader_lib_index_js_node_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_13_1_node_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_18_0_node_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_using_components_js_node_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_node_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_scoped_loader_index_js_get_user_info_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default","n","__WEBPACK_IMPORT_KEY__","key","514c","__esModule","i","locals","add","sourceMap","shadowMode","567d","_get_user_info_vue_vue_type_template_id_497d72d7_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_get_user_info_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__","renderjs","_node_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__","component","737c","___CSS_LOADER_API_IMPORT___","be82","_node_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_h5_vue_style_loader_index_js_ref_6_oneOf_1_0_node_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_node_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_2_node_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_4_node_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_node_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_scoped_loader_index_js_get_user_info_vue_vue_type_style_index_0_id_497d72d7_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_h5_vue_style_loader_index_js_ref_6_oneOf_1_0_node_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_node_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_2_node_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_4_node_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_node_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_scoped_loader_index_js_get_user_info_vue_vue_type_style_index_0_id_497d72d7_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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"},"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"pages-API-get-user-info-get-user-info\"],{3707:function(n,e,t){\"use strict\";t(\"6a54\");var i=t(\"f5bd\").default;Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0,t(\"bf0f\"),t(\"5ef2\");var o=i(t(\"9b1b\")),a=t(\"8f59\"),r={data:function(){return{title:\"getUserInfo\",hasUserInfo:!1,userInfo:{},btnLoading:!1}},computed:(0,o.default)({},(0,a.mapState)([\"loginProvider\",\"isUniverifyLogin\"])),methods:(0,o.default)((0,o.default)({},(0,a.mapActions)([\"getPhoneNumber\"])),{},{getUserInfo:function(){var n=this;if(this.btnLoading=!0,this.isUniverifyLogin)this.getPhoneNumber(uni.getStorageSync(\"univerifyInfo\")).then((function(e){n.hasUserInfo=!0,n.userInfo={phoneNumber:e}})).catch((function(e){console.error(\"getUserInfo fail:\",e),n.hasUserInfo=!1})).finally((function(){n.btnLoading=!1}));else{if(\"apple\"===this.loginProvider){var e=uni.getStorageSync(\"apple_nickname\");if(e)return this.hasUserInfo=!0,this.userInfo={nickName:e},void(this.btnLoading=!1)}uni.getUserInfo({provider:this.loginProvider,success:function(e){n.hasUserInfo=!0,n.userInfo=e.userInfo},fail:function(n){console.log(\"getUserInfo fail\",n);var e=n.errMsg;~e.indexOf(\"uni.login\")&&(e=\"请在登录页面完成登录操作\"),uni.getSetting({success:function(n){var t=n.authSetting[\"scope.userInfo\"];t?uni.showModal({title:\"获取用户信息失败\",content:\"错误原因\"+e,showCancel:!1}):uni.showModal({title:\"授权失败\",content:\"Hello uni-app需要获取您的用户信息，请在设置界面打开相关权限\",success:function(n){n.confirm&&uni.openSetting()}})}})},complete:function(){n.btnLoading=!1}})}},mpGetUserInfo:function(n){console.log(\"mpGetUserInfo\",n),\"getUserInfo:ok\"===n.detail.errMsg?(this.hasUserInfo=!0,this.userInfo=n.detail.userInfo):uni.showModal({title:\"获取用户信息失败\",content:\"错误原因\"+n.detail.errMsg,showCancel:!1})},clear:function(){this.hasUserInfo=!1,this.userInfo={}}})};e.default=r},\"3a40\":function(n,e,t){\"use strict\";t.d(e,\"b\",(function(){return o})),t.d(e,\"c\",(function(){return a})),t.d(e,\"a\",(function(){return i}));var i={pageHead:t(\"5476\").default},o=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t(\"v-uni-view\",[t(\"page-head\",{attrs:{title:n.title}}),t(\"v-uni-view\",{staticClass:\"uni-padding-wrap\"},[t(\"v-uni-view\",{staticStyle:{background:\"#FFF\",padding:\"40rpx\"}},[!1===n.hasUserInfo?[t(\"v-uni-view\",{staticClass:\"uni-hello-text uni-center\"},[t(\"v-uni-text\",[n._v(\"请点击下方按钮获取用户头像及昵称或手机号\")])],1)]:n._e(),!0===n.hasUserInfo?[t(\"v-uni-view\",{staticClass:\"uni-h4 uni-center uni-common-mt\"},[n._v(n._s(n.userInfo.nickName||n.userInfo.email||n.userInfo.phoneNumber))]),n.userInfo.avatarUrl?t(\"v-uni-view\",{staticStyle:{padding:\"30rpx 0\",\"text-align\":\"center\"}},[t(\"v-uni-image\",{staticClass:\"userinfo-avatar\",attrs:{src:n.userInfo.avatarUrl}})],1):n._e()]:n._e()],2),t(\"v-uni-view\",{staticClass:\"uni-btn-v\"},[t(\"v-uni-button\",{on:{click:function(e){arguments[0]=e=n.$handleEvent(e),n.clear.apply(void 0,arguments)}}},[n._v(\"清空\")])],1)],1)],1)},a=[]},\"49e3\":function(n,e,t){\"use strict\";t.r(e);var i=t(\"3707\"),o=t.n(i);for(var a in i)[\"default\"].indexOf(a)<0&&function(n){t.d(e,n,(function(){return i[n]}))}(a);e[\"default\"]=o.a},\"514c\":function(n,e,t){var i=t(\"737c\");i.__esModule&&(i=i.default),\"string\"===typeof i&&(i=[[n.i,i,\"\"]]),i.locals&&(n.exports=i.locals);var o=t(\"967d\").default;o(\"3a9f6e5a\",i,!0,{sourceMap:!1,shadowMode:!1})},\"567d\":function(n,e,t){\"use strict\";t.r(e);var i=t(\"3a40\"),o=t(\"49e3\");for(var a in o)[\"default\"].indexOf(a)<0&&function(n){t.d(e,n,(function(){return o[n]}))}(a);t(\"be82\");var r,s=t(\"828b\"),u=Object(s[\"a\"])(o[\"default\"],i[\"b\"],i[\"c\"],!1,null,\"497d72d7\",null,!1,i[\"a\"],r);e[\"default\"]=u.exports},\"737c\":function(n,e,t){var i=t(\"c86c\");e=i(!1),e.push([n.i,\".userinfo-avatar[data-v-497d72d7]{border-radius:%?128?%;width:%?128?%;height:%?128?%}\",\"\"]),n.exports=e},be82:function(n,e,t){\"use strict\";var i=t(\"514c\"),o=t.n(i);o.a}}]);","extractedComments":[]}