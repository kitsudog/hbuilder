{"map":{"version":3,"sources":["static/js/pages-API-websocket-socketTask-websocket-socketTask.472f31fe.js"],"names":["window","push","0251","module","__webpack_exports__","__webpack_require__","r","_node_uniapp_cli_node_modules_babel_loader_lib_index_js_node_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_13_1_node_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_18_0_node_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_using_components_js_node_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_node_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_scoped_loader_index_js_websocket_socketTask_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__","_node_uniapp_cli_node_modules_babel_loader_lib_index_js_node_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_13_1_node_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_18_0_node_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_using_components_js_node_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_node_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_scoped_loader_index_js_websocket_socketTask_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default","n","__WEBPACK_IMPORT_KEY__","indexOf","key","d","9c06","exports","content","__esModule","default","i","locals","add","sourceMap","shadowMode","acc0","Object","defineProperty","value","platform","uni","getSystemInfoSync","_default","data","connected","connecting","socketTask","msg","computed","showMsg","this","onUnload","hideLoading","close","methods","connect","_this","showModal","showCancel","showLoading","title","connectSocket","url","success","res","fail","err","console","log","onOpen","showToast","icon","onError","onMessage","onClose","startRecive","send","parseInt","Math","random","toString","ce51","render","staticRenderFns","components","pageHead","_vm","_h","$createElement","_c","_self","attrs","staticClass","_v","_s","type","on","click","$event","arguments","$handleEvent","apply","directives","name","rawName","expression","d9b1","_websocket_socketTask_vue_vue_type_template_id_1b5e77b8_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_websocket_socketTask_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__","renderjs","_node_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__","component","e2ca","_node_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_h5_vue_style_loader_index_js_ref_6_oneOf_1_0_node_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_node_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_2_node_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_4_node_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_node_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_scoped_loader_index_js_websocket_socketTask_vue_vue_type_style_index_0_id_1b5e77b8_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_h5_vue_style_loader_index_js_ref_6_oneOf_1_0_node_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_node_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_2_node_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_4_node_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_node_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_scoped_loader_index_js_websocket_socketTask_vue_vue_type_style_index_0_id_1b5e77b8_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","e3df","___CSS_LOADER_API_IMPORT___"],"mappings":"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"},"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"pages-API-websocket-socketTask-websocket-socketTask\"],{\"0251\":function(n,t,e){\"use strict\";e.r(t);var o=e(\"acc0\"),s=e.n(o);for(var c in o)[\"default\"].indexOf(c)<0&&function(n){e.d(t,n,(function(){return o[n]}))}(c);t[\"default\"]=s.a},\"9c06\":function(n,t,e){var o=e(\"e3df\");o.__esModule&&(o=o.default),\"string\"===typeof o&&(o=[[n.i,o,\"\"]]),o.locals&&(n.exports=o.locals);var s=e(\"967d\").default;s(\"389dd152\",o,!0,{sourceMap:!1,shadowMode:!1})},acc0:function(n,t,e){\"use strict\";e(\"6a54\"),Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0,e(\"c9b5\"),e(\"bf0f\"),e(\"ab80\"),e(\"e966\");var o=uni.getSystemInfoSync().platform,s={data:function(){return{connected:!1,connecting:!1,socketTask:!1,msg:!1}},computed:{showMsg:function(){return this.connected?this.msg?\"收到消息：\"+this.msg:\"等待接收消息\":\"尚未连接\"}},onUnload:function(){uni.hideLoading(),this.socketTask&&this.socketTask.close&&this.socketTask.close()},methods:{connect:function(){var n=this;if(this.connected||this.connecting)return uni.showModal({content:\"正在连接或者已经连接，请勿重复连接\",showCancel:!1}),!1;this.connecting=!0,uni.showLoading({title:\"连接中...\"}),this.socketTask=uni.connectSocket({url:\"wss://echo.websocket.org\",data:function(){return{msg:\"Hello\"}},success:function(n){},fail:function(n){}}),console.log(this.socketTask),this.socketTask.onOpen((function(t){n.connecting=!1,n.connected=!0,uni.hideLoading(),uni.showToast({icon:\"none\",title:\"连接成功\"}),console.log(\"onOpen\",t)})),this.socketTask.onError((function(t){n.connecting=!1,n.connected=!1,uni.hideLoading(),uni.showModal({content:\"连接失败，可能是websocket服务不可用，请稍后再试\",showCancel:!1}),console.log(\"onError\",t)})),this.socketTask.onMessage((function(t){n.msg=t.data,console.log(\"onMessage\",t)})),this.socketTask.onClose((function(t){n.connected=!1,n.startRecive=!1,n.socketTask=!1,n.msg=!1,console.log(\"onClose\",t)})),console.log(\"task\",this.socketTask)},send:function(){this.socketTask.send({data:\"from \"+o+\" : \"+parseInt(1e4*Math.random()).toString(),success:function(n){console.log(n)},fail:function(n){console.log(n)}})},close:function(){this.socketTask&&this.socketTask.close&&this.socketTask.close()}}};t.default=s},ce51:function(n,t,e){\"use strict\";e.d(t,\"b\",(function(){return s})),e.d(t,\"c\",(function(){return c})),e.d(t,\"a\",(function(){return o}));var o={pageHead:e(\"5476\").default},s=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e(\"v-uni-view\",[e(\"page-head\",{attrs:{title:\"websocket通讯示例\"}}),e(\"v-uni-view\",{staticClass:\"uni-padding-wrap\"},[e(\"v-uni-view\",{staticClass:\"uni-btn-v\"},[e(\"v-uni-view\",{staticClass:\"websocket-msg\"},[n._v(n._s(n.showMsg))]),e(\"v-uni-button\",{attrs:{type:\"primary\"},on:{click:function(t){arguments[0]=t=n.$handleEvent(t),n.connect.apply(void 0,arguments)}}},[n._v(\"连接websocket服务\")]),e(\"v-uni-button\",{directives:[{name:\"show\",rawName:\"v-show\",value:n.connected,expression:\"connected\"}],attrs:{type:\"primary\"},on:{click:function(t){arguments[0]=t=n.$handleEvent(t),n.send.apply(void 0,arguments)}}},[n._v(\"发送一条消息\")]),e(\"v-uni-button\",{attrs:{type:\"primary\"},on:{click:function(t){arguments[0]=t=n.$handleEvent(t),n.close.apply(void 0,arguments)}}},[n._v(\"断开websocket服务\")]),e(\"v-uni-view\",{staticClass:\"websocket-tips\"},[n._v(\"发送消息后会收到一条服务器返回的消息（与发送的消息内容一致）\")])],1)],1)],1)},c=[]},d9b1:function(n,t,e){\"use strict\";e.r(t);var o=e(\"ce51\"),s=e(\"0251\");for(var c in s)[\"default\"].indexOf(c)<0&&function(n){e.d(t,n,(function(){return s[n]}))}(c);e(\"e2ca\");var i,a=e(\"828b\"),u=Object(a[\"a\"])(s[\"default\"],o[\"b\"],o[\"c\"],!1,null,\"1b5e77b8\",null,!1,o[\"a\"],i);t[\"default\"]=u.exports},e2ca:function(n,t,e){\"use strict\";var o=e(\"9c06\"),s=e.n(o);s.a},e3df:function(n,t,e){var o=e(\"c86c\");t=o(!1),t.push([n.i,\".uni-btn-v[data-v-1b5e77b8]{padding:%?10?% 0}.uni-btn-v uni-button[data-v-1b5e77b8]{margin:%?20?% 0}.websocket-msg[data-v-1b5e77b8]{padding:40px 0;text-align:center;font-size:14px;line-height:40px;color:#666}.websocket-tips[data-v-1b5e77b8]{padding:40px 0;text-align:center;font-size:14px;line-height:24px;color:#666}\",\"\"]),n.exports=t}}]);","extractedComments":[]}