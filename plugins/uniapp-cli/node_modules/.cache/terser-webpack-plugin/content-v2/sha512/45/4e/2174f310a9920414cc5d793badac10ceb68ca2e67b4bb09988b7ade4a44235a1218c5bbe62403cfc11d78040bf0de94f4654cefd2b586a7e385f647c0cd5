{"map":{"version":3,"sources":["static/js/pages-API-request-payment-request-payment.5085e143.js"],"names":["window","push","4a5d","module","__webpack_exports__","__webpack_require__","_node_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_h5_vue_style_loader_index_js_ref_6_oneOf_1_0_node_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_node_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_2_node_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_4_node_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_node_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_scoped_loader_index_js_request_payment_vue_vue_type_style_index_0_id_e6874ce8_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_h5_vue_style_loader_index_js_ref_6_oneOf_1_0_node_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_node_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_2_node_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_4_node_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_node_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_scoped_loader_index_js_request_payment_vue_vue_type_style_index_0_id_e6874ce8_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n","4b02","r","_request_payment_vue_vue_type_template_id_e6874ce8_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_request_payment_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__","__WEBPACK_IMPORT_KEY__","indexOf","key","d","renderjs","_node_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__","component","Object","6d2f","exports","___CSS_LOADER_API_IMPORT___","i","9400","content","__esModule","default","locals","add","sourceMap","shadowMode","c932","_node_uniapp_cli_node_modules_babel_loader_lib_index_js_node_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_13_1_node_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_18_0_node_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_using_components_js_node_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_node_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_scoped_loader_index_js_request_payment_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__","_node_uniapp_cli_node_modules_babel_loader_lib_index_js_node_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_13_1_node_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_18_0_node_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_using_components_js_node_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_node_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_scoped_loader_index_js_request_payment_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default","e1ea","render","staticRenderFns","components","pageHead","_vm","this","_h","$createElement","_c","_self","attrs","title","staticClass","staticStyle","background","padding","_v","type","value","price","maxlength","on","input","$event","arguments","$handleEvent","apply","ec7b","_interopRequireDefault","defineProperty","_regeneratorRuntime2","_objectSpread2","_asyncToGenerator2","_default","data","loading","providerList","onLoad","methods","loginMpWeixin","Promise","resolve","reject","uni","login","provider","success","res","console","warn","request","url","method","action","params","code","platform","setStorageSync","openid","Error","result","msg","fail","err","weixinPay","_this","mark","_callee","orderInfo","wrap","_context","prev","next","getStorageSync","log","sent","t0","error","showModal","showCancel","abrupt","getOrderInfo","requestPayment","showToast","errMsg","complete","stop","e","index","_this2","_callee2","_context2","id","_this3","totalFee","Number","priceChange","detail"],"mappings":"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"},"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"pages-API-request-payment-request-payment\"],{\"4a5d\":function(e,n,t){\"use strict\";var i=t(\"9400\"),a=t.n(i);a.a},\"4b02\":function(e,n,t){\"use strict\";t.r(n);var i=t(\"e1ea\"),a=t(\"c932\");for(var o in a)[\"default\"].indexOf(o)<0&&function(e){t.d(n,e,(function(){return a[e]}))}(o);t(\"4a5d\");var r,u=t(\"828b\"),c=Object(u[\"a\"])(a[\"default\"],i[\"b\"],i[\"c\"],!1,null,\"e6874ce8\",null,!1,i[\"a\"],r);n[\"default\"]=c.exports},\"6d2f\":function(e,n,t){var i=t(\"c86c\");n=i(!1),n.push([e.i,\".rmbLogo[data-v-e6874ce8]{font-size:%?40?%}uni-button[data-v-e6874ce8]{background-color:#007aff;color:#fff}.uni-h1.uni-center[data-v-e6874ce8]{display:flex;flex-direction:row;justify-content:center;align-items:flex-end}.price[data-v-e6874ce8]{border-bottom:1px solid #eee;width:%?200?%;height:%?80?%;padding-bottom:%?4?%}.ipaPayBtn[data-v-e6874ce8]{margin-top:%?30?%}\",\"\"]),e.exports=n},9400:function(e,n,t){var i=t(\"6d2f\");i.__esModule&&(i=i.default),\"string\"===typeof i&&(i=[[e.i,i,\"\"]]),i.locals&&(e.exports=i.locals);var a=t(\"967d\").default;a(\"1ee8e4ae\",i,!0,{sourceMap:!1,shadowMode:!1})},c932:function(e,n,t){\"use strict\";t.r(n);var i=t(\"ec7b\"),a=t.n(i);for(var o in i)[\"default\"].indexOf(o)<0&&function(e){t.d(n,e,(function(){return i[e]}))}(o);n[\"default\"]=a.a},e1ea:function(e,n,t){\"use strict\";t.d(n,\"b\",(function(){return a})),t.d(n,\"c\",(function(){return o})),t.d(n,\"a\",(function(){return i}));var i={pageHead:t(\"5476\").default},a=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t(\"v-uni-view\",[t(\"page-head\",{attrs:{title:e.title}}),t(\"v-uni-view\",{staticClass:\"uni-padding-wrap\"},[t(\"v-uni-view\",{staticStyle:{background:\"#FFF\",padding:\"50rpx 0\"}},[t(\"v-uni-view\",{staticClass:\"uni-hello-text uni-center\"},[t(\"v-uni-text\",[e._v(\"支付金额\")])],1),t(\"v-uni-view\",{staticClass:\"uni-h1 uni-center uni-common-mt\"},[t(\"v-uni-text\",{staticClass:\"rmbLogo\"},[e._v(\"￥\")]),t(\"v-uni-input\",{staticClass:\"price\",attrs:{type:\"digit\",value:e.price,maxlength:\"4\"},on:{input:function(n){arguments[0]=n=e.$handleEvent(n),e.priceChange.apply(void 0,arguments)}}})],1)],1),t(\"v-uni-view\",{staticClass:\"uni-btn-v uni-common-mt\"})],1)],1)},o=[]},ec7b:function(e,n,t){\"use strict\";t(\"6a54\");var i=t(\"f5bd\").default;Object.defineProperty(n,\"__esModule\",{value:!0}),n.default=void 0;var a=i(t(\"2634\")),o=i(t(\"9b1b\")),r=i(t(\"2fdc\"));t(\"bf0f\"),t(\"7a76\"),t(\"c9b5\"),t(\"64aa\");var u={data:function(){return{title:\"request-payment\",loading:!1,price:1,providerList:[]}},onLoad:function(){},methods:{loginMpWeixin:function(){return new Promise((function(e,n){uni.login({provider:\"weixin\",success:function(t){console.warn(\"此处使用uni-id处理微信小程序登录，详情参考: https://uniapp.dcloud.net.cn/uniCloud/uni-id\"),uni.request({url:\"https://97fca9f2-41f6-449f-a35e-3f135d4c3875.bspapp.com/http/user-center\",method:\"POST\",data:{action:\"loginByWeixin\",params:{code:t.code,platform:\"mp-weixin\"}},success:function(t){0===t.data.code?(uni.setStorageSync(\"openid\",t.data.openid),e(t.data.openid)):n(new Error(\"获取openid失败：\",t.result.msg))},fail:function(e){n(new Error(\"获取openid失败：\"+e))}})},fail:function(e){n(e)}})}))},weixinPay:function(){var e=this;return(0,r.default)((0,a.default)().mark((function n(){var t,i;return(0,a.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t=uni.getStorageSync(\"openid\"),console.log(\"发起支付\"),e.loading=!0,t){n.next=17;break}return n.prev=4,n.next=7,e.loginMpWeixin();case 7:t=n.sent,n.next=13;break;case 10:n.prev=10,n.t0=n[\"catch\"](4),console.error(n.t0);case 13:if(t){n.next=17;break}return uni.showModal({content:\"获取openid失败\",showCancel:!1}),e.loading=!1,n.abrupt(\"return\");case 17:return e.openid=t,n.next=20,e.getOrderInfo(\"wxpay\");case 20:if(i=n.sent,i){n.next=24;break}return uni.showModal({content:\"获取支付信息失败\",showCancel:!1}),n.abrupt(\"return\");case 24:uni.requestPayment((0,o.default)((0,o.default)({},i),{},{success:function(e){uni.showToast({title:\"感谢您的赞助!\"})},fail:function(e){uni.showModal({content:\"支付失败,原因为: \"+e.errMsg,showCancel:!1})},complete:function(){e.loading=!1}}));case 25:case\"end\":return n.stop()}}),n,null,[[4,10]])})))()},requestPayment:function(e,n){var t=this;return(0,r.default)((0,a.default)().mark((function i(){var o,r;return(0,a.default)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return t.providerList[n].loading=!0,o=e.id,i.next=4,t.getOrderInfo(o);case 4:if(r=i.sent,r){i.next=8;break}return uni.showModal({content:\"获取支付信息失败\",showCancel:!1}),i.abrupt(\"return\");case 8:console.log(\"--------orderInfo--------\"),console.log(r),uni.requestPayment({provider:o,orderInfo:r,success:function(e){console.log(\"success\",e),uni.showToast({title:\"感谢您的赞助!\"})},fail:function(e){console.log(\"fail\",e),uni.showModal({content:\"支付失败,原因为: \"+e.errMsg,showCancel:!1})},complete:function(){t.providerList[n].loading=!1}});case 11:case\"end\":return i.stop()}}),i)})))()},getOrderInfo:function(e){var n=this;return new Promise((function(t,i){n.price||i(new Error(\"请输入金额\")),console.warn(\"此处使用uni-pay处理支付，详情参考: https://uniapp.dcloud.io/uniCloud/unipay\"),uni.request({method:\"POST\",url:\"https://97fca9f2-41f6-449f-a35e-3f135d4c3875.bspapp.com/http/pay\",data:{provider:e,openid:n.openid,totalFee:100*Number(n.price)},success:function(e){0===e.data.code?t(e.data.orderInfo):i(new Error(\"获取支付信息失败\"+e.data.msg))},fail:function(e){i(new Error(\"请求支付接口失败\"+e))}})}))},priceChange:function(e){console.log(e.detail.value),this.price=e.detail.value}}};n.default=u}}]);","extractedComments":[]}