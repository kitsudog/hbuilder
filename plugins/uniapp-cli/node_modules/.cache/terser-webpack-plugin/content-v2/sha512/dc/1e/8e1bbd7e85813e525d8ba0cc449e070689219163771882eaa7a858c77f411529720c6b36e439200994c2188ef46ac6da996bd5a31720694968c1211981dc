{"map":{"version":3,"sources":["static/js/pages-API-websocket-global-websocket-global.6c7760ee.js"],"names":["window","push","5e63","module","__webpack_exports__","__webpack_require__","r","_node_uniapp_cli_node_modules_babel_loader_lib_index_js_node_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_13_1_node_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_18_0_node_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_using_components_js_node_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_node_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_scoped_loader_index_js_websocket_global_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__","_node_uniapp_cli_node_modules_babel_loader_lib_index_js_node_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_13_1_node_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_18_0_node_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_using_components_js_node_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_node_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_scoped_loader_index_js_websocket_global_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default","n","__WEBPACK_IMPORT_KEY__","indexOf","key","d","5fb3","exports","___CSS_LOADER_API_IMPORT___","i","cfdb","render","staticRenderFns","components","pageHead","default","_vm","this","_h","$createElement","_c","_self","attrs","title","staticClass","_v","_s","showMsg","type","on","click","$event","arguments","$handleEvent","apply","directives","name","rawName","value","expression","d911","_node_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_h5_vue_style_loader_index_js_ref_6_oneOf_1_0_node_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_node_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_2_node_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_4_node_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_node_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_scoped_loader_index_js_websocket_global_vue_vue_type_style_index_0_id_5def3b38_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_h5_vue_style_loader_index_js_ref_6_oneOf_1_0_node_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_node_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_2_node_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_4_node_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_node_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_scoped_loader_index_js_websocket_global_vue_vue_type_style_index_0_id_5def3b38_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","ebad","_websocket_global_vue_vue_type_template_id_5def3b38_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_websocket_global_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__","renderjs","_node_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__","component","Object","f26c","defineProperty","platform","uni","getSystemInfoSync","_default","data","connected","connecting","msg","roomId","computed","onUnload","closeSocket","hideLoading","methods","connect","_this","showModal","content","showCancel","showLoading","connectSocket","url","success","res","fail","err","onSocketOpen","showToast","icon","console","log","onSocketError","onSocketMessage","onSocketClose","startRecive","send","sendSocketMessage","parseInt","Math","random","toString","close","ff43","__esModule","locals","add","sourceMap","shadowMode"],"mappings":"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"},"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"pages-API-websocket-global-websocket-global\"],{\"5e63\":function(n,e,t){\"use strict\";t.r(e);var o=t(\"f26c\"),i=t.n(o);for(var c in o)[\"default\"].indexOf(c)<0&&function(n){t.d(e,n,(function(){return o[n]}))}(c);e[\"default\"]=i.a},\"5fb3\":function(n,e,t){var o=t(\"c86c\");e=o(!1),e.push([n.i,\".uni-btn-v[data-v-5def3b38]{padding:%?10?% 0}.uni-btn-v uni-button[data-v-5def3b38]{margin:%?20?% 0}.websocket-room[data-v-5def3b38]{height:40px;line-height:40px;text-align:center;border-bottom:solid 1px #ddd;margin-bottom:20px}.websocket-msg[data-v-5def3b38]{padding:40px 0;text-align:center;font-size:14px;line-height:40px;color:#666}.websocket-tips[data-v-5def3b38]{padding:40px 0;text-align:center;font-size:14px;line-height:24px;color:#666}\",\"\"]),n.exports=e},cfdb:function(n,e,t){\"use strict\";t.d(e,\"b\",(function(){return i})),t.d(e,\"c\",(function(){return c})),t.d(e,\"a\",(function(){return o}));var o={pageHead:t(\"5476\").default},i=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t(\"v-uni-view\",[t(\"page-head\",{attrs:{title:\"websocket通讯示例\"}}),t(\"v-uni-view\",{staticClass:\"uni-padding-wrap\"},[t(\"v-uni-view\",{staticClass:\"uni-btn-v\"},[t(\"v-uni-view\",{staticClass:\"websocket-msg\"},[n._v(n._s(n.showMsg))]),t(\"v-uni-button\",{attrs:{type:\"primary\"},on:{click:function(e){arguments[0]=e=n.$handleEvent(e),n.connect.apply(void 0,arguments)}}},[n._v(\"连接websocket服务\")]),t(\"v-uni-button\",{directives:[{name:\"show\",rawName:\"v-show\",value:n.connected,expression:\"connected\"}],attrs:{type:\"primary\"},on:{click:function(e){arguments[0]=e=n.$handleEvent(e),n.send.apply(void 0,arguments)}}},[n._v(\"发送一条消息\")]),t(\"v-uni-button\",{attrs:{type:\"primary\"},on:{click:function(e){arguments[0]=e=n.$handleEvent(e),n.close.apply(void 0,arguments)}}},[n._v(\"断开websocket服务\")]),t(\"v-uni-view\",{staticClass:\"websocket-tips\"},[n._v(\"发送消息后会收到一条服务器返回的消息（与发送的消息内容一致）\")])],1)],1)],1)},c=[]},d911:function(n,e,t){\"use strict\";var o=t(\"ff43\"),i=t.n(o);i.a},ebad:function(n,e,t){\"use strict\";t.r(e);var o=t(\"cfdb\"),i=t(\"5e63\");for(var c in i)[\"default\"].indexOf(c)<0&&function(n){t.d(e,n,(function(){return i[n]}))}(c);t(\"d911\");var s,a=t(\"828b\"),u=Object(a[\"a\"])(i[\"default\"],o[\"b\"],o[\"c\"],!1,null,\"5def3b38\",null,!1,o[\"a\"],s);e[\"default\"]=u.exports},f26c:function(n,e,t){\"use strict\";t(\"6a54\"),Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0,t(\"c9b5\"),t(\"bf0f\"),t(\"ab80\"),t(\"e966\");var o=uni.getSystemInfoSync().platform,i={data:function(){return{connected:!1,connecting:!1,msg:!1,roomId:\"\"}},computed:{showMsg:function(){return this.connected?this.msg?\"收到消息：\"+this.msg:\"等待接收消息\":\"尚未连接\"}},onUnload:function(){uni.closeSocket(),uni.hideLoading()},methods:{connect:function(){var n=this;if(this.connected||this.connecting)return uni.showModal({content:\"正在连接或者已经连接，请勿重复连接\",showCancel:!1}),!1;this.connecting=!0,uni.showLoading({title:\"连接中...\"}),uni.connectSocket({url:\"wss://echo.websocket.org\",data:function(){return{msg:\"Hello\"}},success:function(n){},fail:function(n){}}),uni.onSocketOpen((function(e){n.connecting=!1,n.connected=!0,uni.hideLoading(),uni.showToast({icon:\"none\",title:\"连接成功\"}),console.log(\"onOpen\",e)})),uni.onSocketError((function(e){n.connecting=!1,n.connected=!1,uni.hideLoading(),uni.showModal({content:\"连接失败，可能是websocket服务不可用，请稍后再试\",showCancel:!1}),console.log(\"onError\",e)})),uni.onSocketMessage((function(e){n.msg=e.data,console.log(\"onMessage\",e)})),uni.onSocketClose((function(e){n.connected=!1,n.startRecive=!1,n.msg=!1,console.log(\"onClose\",e)}))},send:function(){uni.sendSocketMessage({data:\"from \"+o+\" : \"+parseInt(1e4*Math.random()).toString(),success:function(n){console.log(n)},fail:function(n){console.log(n)}})},close:function(){uni.closeSocket()}}};e.default=i},ff43:function(n,e,t){var o=t(\"5fb3\");o.__esModule&&(o=o.default),\"string\"===typeof o&&(o=[[n.i,o,\"\"]]),o.locals&&(n.exports=o.locals);var i=t(\"967d\").default;i(\"ebbb8d56\",o,!0,{sourceMap:!1,shadowMode:!1})}}]);","extractedComments":[]}