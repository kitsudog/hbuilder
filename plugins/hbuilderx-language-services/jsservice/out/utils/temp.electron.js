"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getTempFile=exports.getInstanceTempDir=void 0;const fs=require("fs"),os=require("os"),path=require("path");function makeRandomHexString(e){const t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];let r="";for(let s=0;s<e;s++){r+=t[Math.floor(t.length*Math.random())]}return r}const getRootTempDir=(()=>{let e;return()=>{if(!e){const t=`vscode-typescript${"win32"!==process.platform&&process.getuid?process.getuid():""}`;e=path.join(os.tmpdir(),t)}return fs.existsSync(e)||fs.mkdirSync(e,{recursive:!0}),e}})();function getTempFile(e){return path.join((0,exports.getInstanceTempDir)(),`${e}-${makeRandomHexString(20)}.tmp`)}exports.getInstanceTempDir=(()=>{let e;return()=>(e||(e=path.join(getRootTempDir(),makeRandomHexString(20))),fs.existsSync(e)||fs.mkdirSync(e,{recursive:!0}),e)})(),exports.getTempFile=getTempFile;