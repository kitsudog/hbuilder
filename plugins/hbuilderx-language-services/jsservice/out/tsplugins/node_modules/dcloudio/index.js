"use strict";
const hx = require("../../../../../core");
const htmlservice_1 = require("../../../../../htmlservice");
const markdownservice_1 = require("../../../../../markdownservice");
const specialStringPlugin_1 = require("../../../../../specialStringPlugin");
const styleservice_1 = require("../../../../../styleservice");
const uniapp_1 = require("../../../../../uniapp");
const vueservice_1 = require("../../../../../vueservice");
// 此处注释的plugin是在工厂里面添加的, 参考core\src\hxPluginCreateFactory.ts
// 调用顺序:
//hx.registerServerPlugin(TsServerBasePlugin);              //        //\\
//hx.registerServerPlugin(TsServerFileReferencesPlugin);    //       //  \\
hx.registerServerPlugin(specialStringPlugin_1.TsServerSpecialStringsPlugin); //      //    \\
hx.registerServerPlugin(styleservice_1.TsServerStylePlugin); //     //      \\
hx.registerServerPlugin(htmlservice_1.TsServerHTMLPlugin); //    //        \\
hx.registerServerPlugin(uniapp_1.uniCloud.uniCloudPlugin); //   //==||  ||==\\
hx.registerServerPlugin(uniapp_1.uniCloudJQLTsServerPlugin); //       ||  ||
hx.registerServerPlugin(uniapp_1.UTSPlugin); //       ||  ||
hx.registerServerPlugin(uniapp_1.cloudObectRunServerPlugin); //       ||  ||
hx.registerServerPlugin(vueservice_1.TsServerVuePlugin); //       ||  ||
hx.registerServerPlugin(markdownservice_1.TsServerMDPlugin); //       ||  ||
hx.registerServerPlugin(uniapp_1.targetSupportPlugin); //       ||  ||
//hx.registerServerPlugin(TsServerApiI18nPlugin);           //       ||==||
function init(modules) {
    function create(info) {
        //@ts-ignore
        return hx.createMainLanguageService(info, modules.typescript);
    }
    function getExternalFiles(proj) {
        //@ts-ignore
        return hx.getMainExternalFiles(proj, modules.typescript);
    }
    return { create, getExternalFiles };
}
module.exports = init;
