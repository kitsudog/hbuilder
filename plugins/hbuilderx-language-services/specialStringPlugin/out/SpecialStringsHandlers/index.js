"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.specialStringDoHover=exports.specialStringDoDefinition=exports.specialStringDoCompleteAsync=exports.hasType=exports.getSpecialTypes=void 0;const path=require("path"),vscode_languageserver_protocol_1=require("vscode-languageserver-protocol"),core_1=require("../../../core"),URIType_1=require("./UriHandler/URIType");function registerSpecialHandler(e,r){specialType2Handler.has(e)||specialType2Handler.set(e,r)}function hasType(e){return specialType2Handler.has(e)}function getSpecialTypes(){return Array.from(specialType2Handler.keys())}exports.hasType=hasType,exports.getSpecialTypes=getSpecialTypes;let specialType2Handler=new Map,handlerMap=new Map;function createHandler(e,r,n,i){if(handlerMap.has(e))return handlerMap.get(e);try{let l=new(0,require(r).default)(n,!!i);return handlerMap.set(e,l),l}catch(e){}}async function specialStringDoCompleteAsync(e,r,n,i,l,t){let a=t;for(let t of e){if(t.startsWith("string.")&&(t=t.replace("string.","HBuilderX.")),!specialType2Handler.has(t))continue;const e=specialType2Handler.get(t)();e&&e.doCompleteAsync&&(a=await e.doCompleteAsync(r,n,i,l,a))}return vscode_languageserver_protocol_1.CompletionList.create(a,!0)}async function specialStringDoHover(e,r,n,i,l){let t,a=!1;for(let d of e){if(d.startsWith("string.")&&(d=d.replace("string.","HBuilderX.")),a)continue;if(!specialType2Handler.has(d))continue;const e=specialType2Handler.get(d)();e&&e.doHoverAsync&&(t=await e.doHoverAsync(r,n,i,l),a=!0)}return t}async function specialStringDoDefinition(e,r,n,i,l,t){const a=[];for(let d of e){if(d.startsWith("string.")&&(d=d.replace("string.","HBuilderX.")),!specialType2Handler.has(d))continue;const e=specialType2Handler.get(d)();e&&e.doDefinitionAsync&&a.push(...await e.doDefinitionAsync(r,n,i,l,t))}return a}!function(){const e=(0,core_1.getExtensionRootPath)();specialType2Handler.set("HBuilderX.ClassString",(()=>createHandler("HBuilderX.ClassString","./DependentIndex/HtmlClassStringHandler"))),specialType2Handler.set("HBuilderX.IDString",(()=>createHandler("HBuilderX.IDString","./DependentIndex/HtmlIDStringHandler"))),specialType2Handler.set("HBuilderX.VideoIdString",(()=>createHandler("HBuilderX.VideoIdString","./DependentIndex/VideoIdStringHandler"))),specialType2Handler.set("HBuilderX.WebviewIdString",(()=>createHandler("HBuilderX.WebviewIdString","./DependentIndex/WebviewIdStringHandler"))),specialType2Handler.set("HBuilderX.cssSelectorString",(()=>createHandler("HBuilderX.cssSelectorString","./DependentIndex/CssSelectorStringHandler"))),specialType2Handler.set("HBuilderX.ColorString",(()=>createHandler("HBuilderX.ColorString","./DependentIndex/ColorStringHandler"))),specialType2Handler.set("HBuilderX.AttrString",(()=>createHandler("HBuilderX.AttrString","./OtherHandler/HtmlAttributeHandler"))),specialType2Handler.set("HBuilderX.AttrValueString",(()=>createHandler("HBuilderX.AttrValueString","./OtherHandler/HtmlAttributeValueHandler"))),specialType2Handler.set("HBuilderX.HTMLEventString",(()=>createHandler("HBuilderX.HTMLEventString","./OtherHandler/HtmlEventStringHandler"))),specialType2Handler.set("HBuilderX.cssPropertyString",(()=>createHandler("HBuilderX.cssPropertyString","./OtherHandler/CssPropertyStringHandler"))),specialType2Handler.set("HBuilderX.cssPropertyValueString",(()=>createHandler("HBuilderX.cssPropertyValueString","./OtherHandler/CssPropertyValueHandler"))),specialType2Handler.set("HBuilderX.ParentFieldString",(()=>createHandler("HBuilderX.ParentFieldString","./OtherHandler/ParentFieldHandler"))),specialType2Handler.set("HBuilderX.ValidateFunctionString",(()=>createHandler("HBuilderX.ValidateFunctionString","./OtherHandler/ValidateFunctionHandler"))),specialType2Handler.set("HBuilderX.SchemaFieldString",(()=>createHandler("HBuilderX.SchemaFieldString","./OtherHandler/SchemaFieldHandler"))),specialType2Handler.set("HBuilderX.URIString",(()=>createHandler("HBuilderX.URIString","./UriHandler/URIHandler",[],!0))),specialType2Handler.set("HBuilderX.CssImportURIString",(()=>createHandler("HBuilderX.CssImportURIString","./UriHandler/URIHandler",URIType_1.CssImportURIString))),specialType2Handler.set("HBuilderX.ScssImportURIString",(()=>createHandler("HBuilderX.ScssImportURIString","./UriHandler/URIHandler",URIType_1.ScssImportURIString))),specialType2Handler.set("HBuilderX.LessImportURIString",(()=>createHandler("HBuilderX.LessImportURIString","./UriHandler/URIHandler",URIType_1.LessImportURIString))),specialType2Handler.set("HBuilderX.ImportURIString",(()=>createHandler("HBuilderX.ImportURIString","./UriHandler/ImportURIHandler",URIType_1.JsImportURIString))),specialType2Handler.set("HBuilderX.PageURIString",(()=>createHandler("HBuilderX.PageURIString","./UriHandler/PageURIHandler",URIType_1.PageURIString))),specialType2Handler.set("HBuilderX.NPageURIString",(()=>createHandler("HBuilderX.NPageURIString","./UriHandler/PageURIHandler",URIType_1.NPageURIString))),specialType2Handler.set("HBuilderX.CSSURIString",(()=>createHandler("HBuilderX.CSSURIString","./UriHandler/URIHandler",URIType_1.CssFileURIString))),specialType2Handler.set("HBuilderX.JSURIString",(()=>createHandler("HBuilderX.JSURIString","./UriHandler/URIHandler",URIType_1.JsFileURIString))),specialType2Handler.set("HBuilderX.HTMLURIString",(()=>createHandler("HBuilderX.HTMLURIString","./UriHandler/URIHandler",URIType_1.HtmlFileURIString))),specialType2Handler.set("HBuilderX.VueFileURIString",(()=>createHandler("HBuilderX.VueFileURIString","./UriHandler/VueUriHandler",URIType_1.VueFileURIString))),specialType2Handler.set("HBuilderX.MarkdownURIString",(()=>createHandler("HBuilderX.MarkdownURIString","./UriHandler/MarkdownHandler",[],!0))),specialType2Handler.set("HBuilderX.MarkdownHashString",(()=>createHandler("HBuilderX.MarkdownHashString","./UriHandler/MarkdownHashString",[],!0))),specialType2Handler.set("HBuilderX.ImageURIString",(()=>createHandler("HBuilderX.ImageURIString","./UriHandler/URIHandler",URIType_1.ImageURIString))),specialType2Handler.set("HBuilderX.AudioURIString",(()=>createHandler("HBuilderX.AudioURIString","./UriHandler/URIHandler",URIType_1.AudioURIString))),specialType2Handler.set("HBuilderX.VideoURIString",(()=>createHandler("HBuilderX.VideoURIString","./UriHandler/URIHandler",URIType_1.VideoURIString))),specialType2Handler.set("HBuilderX.FontURIString",(()=>createHandler("HBuilderX.FontURIString","./UriHandler/URIHandler",URIType_1.FontURIString))),specialType2Handler.set("HBuilderX.ClientDBActionString",(()=>createHandler("HBuilderX.ClientDBActionString",path.join(e,"uniapp/out/specialTypehandler/clientDBActionHandler")))),specialType2Handler.set("HBuilderX.CloudFunctionString",(()=>createHandler("HBuilderX.CloudFunctionString",path.join(e,"uniapp/out/specialTypehandler/cloudFunctionsHandler")))),specialType2Handler.set("HBuilderX.CloudObjectString",(()=>createHandler("HBuilderX.CloudObjectString",path.join(e,"uniapp/out/specialTypehandler/cloudObjectsHandler")))),specialType2Handler.set("HBuilderX.DBCollectionString",(()=>createHandler("HBuilderX.DBCollectionString",path.join(e,"uniapp/out/specialTypehandler/dbCollectionHandler")))),specialType2Handler.set("HBuilderX.DBFieldOrderByString",(()=>createHandler("HBuilderX.DBFieldOrderByString",path.join(e,"uniapp/out/specialTypehandler/dbFieldOrderByHandler")))),specialType2Handler.set("HBuilderX.DBFieldString",(()=>createHandler("HBuilderX.DBFieldString",path.join(e,"uniapp/out/specialTypehandler/dbFieldHandler")))),specialType2Handler.set("HBuilderX.JQLString",(()=>createHandler("HBuilderX.JQLString",path.join(e,"uniapp/out/specialTypehandler/jqlHandler")))),specialType2Handler.set("HBuilderX.RequireCommonString",(()=>createHandler("HBuilderX.RequireCommonString",path.join(e,"uniapp/out/specialTypehandler/RequireCommonHandler")))),specialType2Handler.set("HBuilderX.VueEventString",(()=>createHandler("HBuilderX.VueEventString","./DependentIndex/VueEventHandler"))),specialType2Handler.set("HBuilderX.VueDataString",(()=>createHandler("HBuilderX.VueDataString","./OtherHandler/VueDataHandler"))),specialType2Handler.set("HBuilderX.VueI18NKeyString",(()=>createHandler("HBuilderX.VueI18NKeyString","./OtherHandler/VueI18NKeyHandler"))),specialType2Handler.set("HBuilderX.VuexDispatchString",(()=>createHandler("HBuilderX.VuexDispatchString","./DependentIndex/vuexStoreHandler","dispatch"))),specialType2Handler.set("HBuilderX.VuexCommitString",(()=>createHandler("HBuilderX.VuexCommitString","./DependentIndex/vuexStoreHandler","commit")))}(),exports.specialStringDoCompleteAsync=specialStringDoCompleteAsync,exports.specialStringDoHover=specialStringDoHover,exports.specialStringDoDefinition=specialStringDoDefinition;