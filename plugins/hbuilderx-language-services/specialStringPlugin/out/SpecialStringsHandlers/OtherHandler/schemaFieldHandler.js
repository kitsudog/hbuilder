"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const vscode_languageserver_protocol_1=require("vscode-languageserver-protocol"),handlerType_1=require("../handlerType"),BaseHandler_1=require("./BaseHandler");class SchemaFieldHandler extends BaseHandler_1.BaseHandler{async doCompleteAsync(e,r,l,o,t){var a,d;let n=[];if(l.kind===handlerType_1.StringLocationInfoKind.IN_JSON_LIKE){let o=l.ast.getNodeFromOffset(e.offsetAt(r)),t=null==o?void 0:o.parent;if("array"===(null==t?void 0:t.type)&&(t=t.parent,"property"===(null==t?void 0:t.type)&&(t=t.parent,"object"===(null==t?void 0:t.type))))for(let e of t.properties)"properties"==e.keyNode.value&&(null===(d=null===(a=null==e?void 0:e.valueNode)||void 0===a?void 0:a.children)||void 0===d||d.forEach((e=>{if("property"===e.type){let r=e.keyNode.value;"_id"!==r&&n.push({label:r,kind:vscode_languageserver_protocol_1.CompletionItemKind.Property})}})))}return n}}exports.default=SchemaFieldHandler;