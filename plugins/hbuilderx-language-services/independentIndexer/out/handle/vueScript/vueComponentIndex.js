"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.hasVueComponentIndexRef=exports.createVueComponentData=void 0;const tsserverlibrary_1=__importDefault(require("typescript/lib/tsserverlibrary")),vscode_languageserver_protocol_1=require("vscode-languageserver-protocol"),core_1=require("../../../../core");function createdVueComponentIndexValue(e,t,r,n){if(!tsserverlibrary_1.default.isStringLiteral(r))return;const o=r.text,s=e.positionAt(r.pos),a=e.positionAt(r.end),i=vscode_languageserver_protocol_1.Range.create(s,a),u=(0,core_1.getContextLineText)(e,i),p=core_1.targetUtils.indexGetTarget(e,i,t);return{value:o,lineText:u,kind:core_1.IndexItemType.DEF,range:i,context:n,platforms:p}}function hasVueComponentIndexRef(e,t,r){return r||(tsserverlibrary_1.default.isPropertyAccessExpression(e)&&"component"===e.name.text&&tsserverlibrary_1.default.isIdentifier(e.expression)&&"Vue"===e.expression.text&&(r=!0),r)}function createVueComponentData(e,t,r,n){const o=[];if(tsserverlibrary_1.default.isPropertyAccessExpression(r)&&"component"===r.name.text&&tsserverlibrary_1.default.isIdentifier(r.expression)&&"Vue"===r.expression.text){const r=n;if(r.arguments.length<=0)return;const s=createdVueComponentIndexValue(e,t,r.arguments[0],"component");s&&o.push(s)}return o}exports.hasVueComponentIndexRef=hasVueComponentIndexRef,exports.createVueComponentData=createVueComponentData;