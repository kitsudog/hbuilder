"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.hasVueDirectiveIndexRef=exports.createVueDirectiveData=void 0;const tsserverlibrary_1=__importDefault(require("typescript/lib/tsserverlibrary")),vscode_languageserver_protocol_1=require("vscode-languageserver-protocol"),core_1=require("../../../../core");function createdVueDirectiveIndexValue(e,r,t,i){if(!tsserverlibrary_1.default.isStringLiteral(t))return;const s=`${t.text}`,a=e.positionAt(t.pos),n=e.positionAt(t.end),o=vscode_languageserver_protocol_1.Range.create(a,n),c=(0,core_1.getContextLineText)(e,o),u=core_1.targetUtils.indexGetTarget(e,o,r);return{value:s,lineText:c,kind:core_1.IndexItemType.DEF,range:o,context:i,platforms:u}}function hasVueDirectiveIndexRef(e,r,t){return t||(tsserverlibrary_1.default.isPropertyAccessExpression(e)&&"directive"===e.name.text&&tsserverlibrary_1.default.isIdentifier(e.expression)&&"Vue"===e.expression.text&&(t=!0),t)}function createVueDirectiveData(e,r,t,i){const s=[];if(tsserverlibrary_1.default.isPropertyAccessExpression(t)&&"directive"===t.name.text&&tsserverlibrary_1.default.isIdentifier(t.expression)&&"Vue"===t.expression.text){const t=i;if(t.arguments.length<=0)return;const a=createdVueDirectiveIndexValue(e,r,t.arguments[0],"directive");a&&s.push(a)}return s}exports.hasVueDirectiveIndexRef=hasVueDirectiveIndexRef,exports.createVueDirectiveData=createVueDirectiveData;