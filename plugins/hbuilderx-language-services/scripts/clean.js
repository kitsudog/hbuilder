const chalk=require("chalk"),path=require("path"),execa=require("execa"),fs=require("fs-extra");function traverseFolder(e){const r=[];return function e(t){fs.readdirSync(t).forEach((n=>{const a=path.join(t,n);fs.statSync(a).isDirectory()&&(n.includes("node_modules")||("out"===n?r.push(a):e(a)))}))}(e),r}async function deleteOutFolders(){const e=traverseFolder(path.join(__dirname,"../"));for(const r of e)await fs.remove(r)}async function run(){let e;try{const r=["-b","--clean"];e=await execa("tsc",r,{stdio:"inherit",cwd:path.dirname(__dirname)})}catch(e){console.log(`${chalk.redBright("[TsServer]: "+chalk.red("Clean Failed!"))}\n`),console.log(e)}}run(),deleteOutFolders();