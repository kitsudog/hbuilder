"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getSelectionRanges=void 0;const cssLanguageTypes_1=require("../cssLanguageTypes"),cssNodes_1=require("../parser/cssNodes");function getSelectionRanges(e,t,s){return t.map((function(t){const n=function(t){const n=e.offsetAt(t);let o=s.findChildAtOffset(n,!0);if(!o)return[];const a=[];for(;o;)o.parent&&o.offset===o.parent.offset&&o.end===o.parent.end||(o.type===cssNodes_1.NodeType.Declarations&&n>o.offset&&n<o.end&&a.push([o.offset+1,o.end-1]),a.push([o.offset,o.end])),o=o.parent;return a}(t);let o;for(let t=n.length-1;t>=0;t--)o=cssLanguageTypes_1.SelectionRange.create(cssLanguageTypes_1.Range.create(e.positionAt(n[t][0]),e.positionAt(n[t][1])),o);return o||(o=cssLanguageTypes_1.SelectionRange.create(cssLanguageTypes_1.Range.create(t,t))),o}))}exports.getSelectionRanges=getSelectionRanges;