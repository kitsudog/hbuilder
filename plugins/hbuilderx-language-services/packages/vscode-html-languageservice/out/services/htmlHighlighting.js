"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.findDocumentHighlights=void 0;const htmlScanner_1=require("../parser/htmlScanner"),htmlLanguageTypes_1=require("../htmlLanguageTypes");function findDocumentHighlights(e,n,t){const a=e.offsetAt(n),r=t.findNodeAt(a);if(!r.tag)return[];const g=[],i=getTagNameRange(htmlLanguageTypes_1.TokenType.StartTag,e,r.start),o="number"==typeof r.endTagStart&&getTagNameRange(htmlLanguageTypes_1.TokenType.EndTag,e,r.endTagStart);return(i&&covers(i,n)||o&&covers(o,n))&&(i&&g.push({kind:htmlLanguageTypes_1.DocumentHighlightKind.Read,range:i}),o&&g.push({kind:htmlLanguageTypes_1.DocumentHighlightKind.Read,range:o})),g}function isBeforeOrEqual(e,n){return e.line<n.line||e.line===n.line&&e.character<=n.character}function covers(e,n){return isBeforeOrEqual(e.start,n)&&isBeforeOrEqual(n,e.end)}function getTagNameRange(e,n,t){const a=(0,htmlScanner_1.createScanner)(n.getText(),t);let r=a.scan();for(;r!==htmlLanguageTypes_1.TokenType.EOS&&r!==e;)r=a.scan();return r!==htmlLanguageTypes_1.TokenType.EOS?{start:n.positionAt(a.getTokenOffset()),end:n.positionAt(a.getTokenEnd())}:null}exports.findDocumentHighlights=findDocumentHighlights;