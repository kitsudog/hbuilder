"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.VueDataProvider=exports.VueBaseDataProvider=exports.NVueDataProvider=exports.HTMLDataProvider=void 0;const htmlLanguageService_1=require("../htmlLanguageService"),dataProvider_1=require("../languageFacts/dataProvider");Object.defineProperty(exports,"HTMLDataProvider",{enumerable:!0,get:function(){return dataProvider_1.HTMLDataProvider}});const coreData_1=require("./coreData");class VueBaseDataProvider{constructor(e,r,t){this.project=e,this.id=r,this._rawData=t,this._childrenTags=void 0,this._dataProvider=(0,htmlLanguageService_1.newHTMLDataProvider)(r,{version:(null==t?void 0:t.version)||1,tags:(null==t?void 0:t.tags)||[],globalAttributes:(null==t?void 0:t.globalAttributes)||[],valueSets:(null==t?void 0:t.valueSets)||[]})}getId(){return this.id}get golbalAttributes(){var e;return null===(e=this._rawData)||void 0===e?void 0:e.globalAttributes}isApplicable(e){return("vue"!==e||"vue2-base"!==this.id||!(0,coreData_1.isUniAppXProject)(this.project))&&("vue"===e||"nvue"===e)}provideTags(){let e=this._dataProvider.provideTags();return this._childrenTags?(e=e.filter((e=>this._childrenTags.includes(e.name))),e):e}provideAttributes(e){return this._dataProvider.provideAttributes(e)}provideValues(e,r){return this._dataProvider.provideValues(e,r)}setParentTag(e){if(""===e)return void(this._childrenTags=void 0);const r=this._dataProvider.provideTags().find((r=>r.name===e));if(!r)return;const t=r.childrenTags;this._childrenTags=t||void 0}}exports.VueBaseDataProvider=VueBaseDataProvider;class VueDataProvider extends VueBaseDataProvider{isApplicable(e){return!("vue"!==e&&"nvue"!==e||this.project.kind!==coreData_1.HXProjectKind.UniApp&&this.project.kind!==coreData_1.HXProjectKind.UniApp_Cli)}}exports.VueDataProvider=VueDataProvider;class NVueDataProvider extends VueBaseDataProvider{isApplicable(e){return"nvue"===e&&(this.project.kind===coreData_1.HXProjectKind.UniApp||this.project.kind===coreData_1.HXProjectKind.UniApp_Cli)}}exports.NVueDataProvider=NVueDataProvider;