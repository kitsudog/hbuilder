"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.joinPath=exports.normalizePath=exports.resolvePath=exports.extname=exports.basename=exports.dirname=exports.isAbsolutePath=void 0;const vscode_uri_1=require("vscode-uri"),Slash="/".charCodeAt(0),Dot=".".charCodeAt(0);function isAbsolutePath(t){return t.charCodeAt(0)===Slash}function dirname(t){const e=t.lastIndexOf("/");return-1!==e?t.substr(0,e):""}function basename(t){const e=t.lastIndexOf("/");return t.substr(e+1)}function extname(t){for(let e=t.length-1;e>=0;e--){const o=t.charCodeAt(e);if(o===Dot){if(e>0&&t.charCodeAt(e-1)!==Slash)return t.substr(e);break}if(o===Slash)break}return""}function resolvePath(t,e){if(isAbsolutePath(e)){const o=vscode_uri_1.URI.parse(t),r=e.split("/");return o.with({path:normalizePath(r)}).toString()}return joinPath(t,e)}function normalizePath(t){const e=[];for(const o of t)0===o.length||1===o.length&&o.charCodeAt(0)===Dot||(2===o.length&&o.charCodeAt(0)===Dot&&o.charCodeAt(1)===Dot?e.pop():e.push(o));t.length>1&&0===t[t.length-1].length&&e.push("");let o=e.join("/");return 0===t[0].length&&(o="/"+o),o}function joinPath(t,...e){const o=vscode_uri_1.URI.parse(t),r=o.path.split("/");for(let t of e)r.push(...t.split("/"));return o.with({path:normalizePath(r)}).toString()}exports.isAbsolutePath=isAbsolutePath,exports.dirname=dirname,exports.basename=basename,exports.extname=extname,exports.resolvePath=resolvePath,exports.normalizePath=normalizePath,exports.joinPath=joinPath;