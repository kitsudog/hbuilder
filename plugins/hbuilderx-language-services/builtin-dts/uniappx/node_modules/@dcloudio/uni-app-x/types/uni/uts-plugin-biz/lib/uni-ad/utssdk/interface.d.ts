export type UrlCallbackOptions = {
	/**
	 * 透传到服务器端的userId
	 */
	userId ?: string | null,
	/**
	 * 透传到服务器端的extra，不推荐设置过于复杂的字符串
	 */
	extra ?: string | null
}

export type CreateRewardedVideoAdOptions = {
	/**
	 * 广告位 id
	 */
	adpid : string,
	/**
	 * 服务器回调透传参数
	 */
	urlCallback ?: UrlCallbackOptions | null
}

export interface RewardedVideoAd extends IVideoAd, IRewardedVideoAd {

}

export type VideoAdClose = {
	/**
	 * true标识广告播放完毕或者达到发放奖励的条件
	 */
	isEnded : boolean
}

export type RewardedVideoAdClose = VideoAdClose

export type UniAdErrorCode = number;

export interface IUniAdError extends IUniError {
	/**
	 * 错误码
	 * - -5001 广告位标识adpid为空，请传入有效的adpid
	 * - -5002 无效的广告位标识adpid，请使用正确的adpid
	 * - -5003 广告位未开通广告，请在广告平台申请并确保已审核通过
	 * - -5004 无广告模块，打包时请配置要使用的广告模块
	 * - -5005 广告加载失败，请稍后重试
	 * - -5006 广告已经展示过了，请重新加载
	 * - -5007 广告不可用或已过期，请重新请求
	 * - -5008 广告不可用或已过期，请重新请求
	 * - -5009 广告类型不符，请检查后再试
	 * - -5011 打包或开通的渠道，不支持此类型广告
	 * - -5013 广告播放失败，请重新加载
	 */
	errCode : UniAdErrorCode
}

export type AdCallBackEvent = (result : any) => void

export type AdCloseCallBackEvent = (result : RewardedVideoAdClose) => void
export type AdErrorCallBackEvent = (result : IUniAdError) => void
export type AdVerifyCallBackEvent = (result : UTSJSONObject) => void

export interface IVideoAd {
	/**
	 * 广告加载成功之后，调用此方法展示广告
	 */
	show() : Promise<any>
	/**
	 * 加载广告
	 */
	load() : Promise<any>
	/**
	 * 销毁广告
	 */
	destroy() : void
	/**
	 * 绑定广告 load 事件的监听器
	 */
	onLoad(callback : AdCallBackEvent) : void
	/**
	 * 解除绑定 load 事件的监听器
	 */
	offLoad(callback : AdCallBackEvent) : void
	/**
	 * 绑定 error 事件的监听器
	 */
	onError(callback : AdErrorCallBackEvent) : void
	/**
	 * 解除绑定 error 事件的监听器
	 */
	offError(callback : AdErrorCallBackEvent) : void
	/**
	 * 绑定 close 事件的监听器
	 */
	onClose(callback : AdCloseCallBackEvent) : void
	/**
	 * 解除绑定 close 事件的监听器
	 */
	offClose(callback : AdCloseCallBackEvent) : void
	/**
	 * 绑定广告可点击屏幕区域事件的监听器
	 */
	onAdClicked(callback : AdCallBackEvent) : void;
}

export interface IRewardedVideoAd {
	/**
	 * 绑定 verify 事件的监听器
	 */
	onVerify(callback : AdVerifyCallBackEvent) : void;
}

export type CreateRewardedVideoAd = (option : CreateRewardedVideoAdOptions) => RewardedVideoAd

export interface Uni {
	/**
	 * 创建激励视频广告对象
	 * @description 创建激励视频广告对象
	 * @uniPlatform {
	 *	 "app": {
	 *		"android": {
	 *			"osVer": "4.4",
	 *			"uniVer": "√",
	 *			"unixVer": "4.0+"
	 *		}
	 *	}
	 * }
	 * @uniVueVersion 2,3
	 * @autotest {
	   generated:false
	 }
	 */
	createRewardedVideoAd(option : CreateRewardedVideoAdOptions) : RewardedVideoAd;
}