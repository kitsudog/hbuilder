export * from './dist/runtime-core'
import { CreateVueComponent, CreateVueAppComponent, ComponentInternalInstance, VueAppComponent, ComponentPublicInstance, VueApp, VueAppConfig } from './dist/runtime-core'

// TODO use runtime-core.d.ts
type Data = Map<string, any | null>
/**
 * Construct a type with a set of properties K of type T
 */
type Record<K extends keyof any, T> = {
  [P in K]: T
}
/**
 * From T, pick a set of properties whose keys are in the union K
 */
type Pick<T, K extends keyof T> = {
  [P in K]: T[P];
};
/**
 * Exclude from T those types that are assignable to U
 */
type Exclude<T, U> = T extends U ? never : T;
/**
 * Construct a type with the properties of T except for those in type K.
 */
type Omit<T, K extends keyof any> = Pick<T, Exclude<keyof T, K>>;

export type OptionsData = Record<string, any | null>

type ComponentObjectPropsOptions<P = Record<string, unknown>> = {
  [K in keyof P]: Prop<P[K]> | null
}
type Prop<T, D = T> = PropOptions<T, D> | PropType<T>;
type DefaultFactory<T> = (props: Data) => T | null
interface PropOptions<T = any, D = T> {
  type?: T | null
  required?: boolean
  default?: D | DefaultFactory<D> | null
  validator?(value: unknown): boolean
}
export type PropType<T> = PropConstructor<T> | PropConstructor<T>[];
type PropTypeOrigin<T> = PropType<T>
type PropConstructor<T = any> = {
  new(...args: any[]): T & {};
} | {
  (): T;
} | PropMethod<T>;
type PropMethod<T, TConstructor = any> = [T] extends [
  ((...args: any) => any) | undefined
] ? {
  new(): TConstructor;
  (): T;
  readonly prototype: TConstructor;
} : never;
export type IfAny<T, Y, N> = 0 extends 1 & T ? Y : N;
type ComputedGetter<T> = (...args: any[]) => T
export type ComputedOptions = Record<string, ComputedGetter<any> /*| WritableComputedOptions<any>*/>
type OnCleanup = (cleanupFn: () => void) => void
type WatchCallback<V = any, OV = any> = (value: V, oldValue: OV, onCleanup: OnCleanup) => any
type WatchOptionItem = WatchCallback
type ComponentWatchOptionItem = WatchOptionItem
type ComponentWatchOptions = Record<string, ComponentWatchOptionItem>

export interface MethodOptions {
  [key: string]: Function
}

declare const SlotSymbol: unique symbol

export type SlotsType<T extends Record<string, any> = Record<string, any>> = {
  [SlotSymbol]?: T
}

export type ComponentProvideOptions = ObjectProvideOptions | (() => Record<string, unknown>)
type ObjectProvideOptions = Record<string, unknown>

export type ComponentInjectOptions = string[] | ObjectInjectOptions;

type ObjectInjectOptions<P = Record<string, unknown>> = {
  [K in keyof P]: Inject<P[K]>
}
type Inject<T, D = T> = InjectOptions<T, D>
interface InjectOptions<T = any, D = T> {
  type: T
  from?: string
  default?: D | DefaultFactory<D>
}
type InferInjectType<T> = [T] extends [null] ? any : [T] extends [{
  type: null | true;
}] ? any : [T] extends [ObjectConstructor | {
  type: ObjectConstructor;
}] ? Record<string, any> : [T] extends [BooleanConstructor | {
  type: BooleanConstructor;
}] ? boolean : [T] extends [StringConstructor | {
  type: StringConstructor;
}] ? string : [T] extends [NumberConstructor | {
  type: NumberConstructor;
}] ? number : [T] extends [DateConstructor | {
  type: DateConstructor;
}] ? Date : [T] extends [(infer U)[] | {
  type: (infer U)[];
}] ? U extends DateConstructor ? Date | InferInjectType<U> : InferInjectType<U> : [T] extends [Inject<infer V, infer D>] ? unknown extends V ? IfAny<V, V, D> : V : T;
type InjectToObject<T extends ComponentInjectOptions> = T extends string[] ? {
  [K in T[number]]: unknown;
} : T extends ObjectInjectOptions ? {
  [K in keyof T]: InferInjectType<T[K]>;
} : never;

interface LegacyOptions<D extends OptionsData, C extends ComputedOptions, M extends MethodOptions, Mixin extends ComponentOptionsMixin, I extends ComponentInjectOptions, II extends string> {
  /**
    * @uniPlatform {
    * "app": {
    *   "android": {
    *     "osVer": "5.0",
    *     "uniVer": "√",
    *     "unixVer": "3.9"
    *     },
    *     "ios": {
    *       "osVer": "10.0",
    *       "uniVer": "√",
    *       "unixVer": "4.11"
    *     }
    *   },
    *   "mp": {
    *     "weixin": {
    *         "hostVer": "8.0",
    *         "uniVer": "√",
    *         "unixVer": "x"
    *     }
    *   },
    *   "web": {
    *     "uniVer": "√",
    *     "unixVer": "4.0"
    *   }
    * }
    */
  components?: Record<string, CreateVueComponent> | null
  /**
   * @uniPlatform {
   * "app": {
   *   "android": {
   *     "osVer": "5.0",
   *     "uniVer": "√",
   *     "unixVer": "3.9"
   *     },
   *     "ios": {
   *       "osVer": "10.0",
   *       "uniVer": "√",
   *       "unixVer": "4.11"
   *     }
   *   },
   *   "mp": {
   *     "weixin": {
   *         "hostVer": "8.0",
   *         "uniVer": "√",
   *         "unixVer": "x"
   *     }
   *   },
   *   "web": {
   *     "uniVer": "√",
   *     "unixVer": "4.0"
   *   }
   * }
   */
  data?: (() => D) | null
  /**
   * @uniPlatform {
   * "app": {
   *   "android": {
   *     "osVer": "5.0",
   *     "uniVer": "√",
   *     "unixVer": "3.9"
   *     },
   *     "ios": {
   *       "osVer": "10.0",
   *       "uniVer": "√",
   *       "unixVer": "4.11"
   *     }
   *   },
   *   "mp": {
   *     "weixin": {
   *         "hostVer": "8.0",
   *         "uniVer": "√",
   *         "unixVer": "x"
   *     }
   *   },
   *   "web": {
   *     "uniVer": "√",
   *     "unixVer": "4.0"
   *   }
   * }
   */
  props?: ComponentObjectPropsOptions | null
  /**
   * @uniPlatform {
   * "app": {
   *   "android": {
   *     "osVer": "5.0",
   *     "uniVer": "√",
   *     "unixVer": "3.9"
   *     },
   *     "ios": {
   *       "osVer": "10.0",
   *       "uniVer": "√",
   *       "unixVer": "4.11"
   *     }
   *   },
   *   "mp": {
   *     "weixin": {
   *         "hostVer": "8.0",
   *         "uniVer": "√",
   *         "unixVer": "x"
   *     }
   *   },
   *   "web": {
   *     "uniVer": "√",
   *     "unixVer": "4.0"
   *   }
   * }
   */
  computed?: C | null
  /**
   * @uniPlatform {
   * "app": {
   *   "android": {
   *     "osVer": "5.0",
   *     "uniVer": "√",
   *     "unixVer": "3.9"
   *     },
   *     "ios": {
   *       "osVer": "10.0",
   *       "uniVer": "√",
   *       "unixVer": "4.11"
   *     }
   *   },
   *   "mp": {
   *     "weixin": {
   *         "hostVer": "8.0",
   *         "uniVer": "√",
   *         "unixVer": "x"
   *     }
   *   },
   *   "web": {
   *     "uniVer": "√",
   *     "unixVer": "4.0"
   *   }
   * }
   */
  watch?: ComponentWatchOptions | null
  /**
   * @uniPlatform {
   * "app": {
   *   "android": {
   *     "osVer": "5.0",
   *     "uniVer": "√",
   *     "unixVer": "3.9"
   *     },
   *     "ios": {
   *       "osVer": "10.0",
   *       "uniVer": "√",
   *       "unixVer": "4.11"
   *     }
   *   },
   *   "mp": {
   *     "weixin": {
   *         "hostVer": "8.0",
   *         "uniVer": "√",
   *         "unixVer": "x"
   *     }
   *   },
   *   "web": {
   *     "uniVer": "√",
   *     "unixVer": "4.0"
   *   }
   * }
   */
  methods?: M | null
  /**
   * @uniPlatform {
   * "app": {
   *   "android": {
   *     "osVer": "5.0",
   *     "uniVer": "√",
   *     "unixVer": "3.99"
   *     },
   *     "ios": {
   *       "osVer": "10.0",
   *       "uniVer": "√",
   *       "unixVer": "4.11"
   *     }
   *   },
   *   "mp": {
   *     "weixin": {
   *         "hostVer": "8.0",
   *         "uniVer": "√",
   *         "unixVer": "x"
   *     }
   *   },
   *   "web": {
   *     "uniVer": "√",
   *     "unixVer": "4.0"
   *   }
   * }
   */
  mixins?: Mixin[]
  /**
   * @uniPlatform {
   * "app": {
   *   "android": {
   *     "osVer": "5.0",
   *     "uniVer": "√",
   *     "unixVer": "3.99"
   *     },
   *     "ios": {
   *       "osVer": "10.0",
   *       "uniVer": "√",
   *       "unixVer": "4.11"
   *     }
   *   },
   *   "mp": {
   *     "weixin": {
   *         "hostVer": "8.0",
   *         "uniVer": "√",
   *         "unixVer": "x"
   *     }
   *   },
   *   "web": {
   *     "uniVer": "√",
   *     "unixVer": "4.0"
   *   }
   * }
   */
  provide?: ComponentProvideOptions;
  /**
   * @uniPlatform {
   * "app": {
   *   "android": {
   *     "osVer": "5.0",
   *     "uniVer": "√",
   *     "unixVer": "3.99"
   *     },
   *     "ios": {
   *       "osVer": "10.0",
   *       "uniVer": "√",
   *       "unixVer": "4.11"
   *     }
   *   },
   *   "mp": {
   *     "weixin": {
   *         "hostVer": "8.0",
   *         "uniVer": "√",
   *         "unixVer": "x"
   *     }
   *   },
   *   "web": {
   *     "uniVer": "√",
   *     "unixVer": "4.0"
   *   }
   * }
   */
  inject?: I | II[];
  /**
   * @uniPlatform {
   * "app": {
   *   "android": {
   *     "osVer": "5.0",
   *     "uniVer": "√",
   *     "unixVer": "3.9"
   *     },
   *     "ios": {
   *       "osVer": "10.0",
   *       "uniVer": "√",
   *       "unixVer": "4.11"
   *     }
   *   },
   *   "mp": {
   *     "weixin": {
   *         "hostVer": "8.0",
   *         "uniVer": "√",
   *         "unixVer": "x"
   *     }
   *   },
   *   "web": {
   *     "uniVer": "√",
   *     "unixVer": "4.0"
   *   }
   * }
   */
  beforeCreate?(): void
  /**
   * @uniPlatform {
   * "app": {
   *   "android": {
   *     "osVer": "5.0",
   *     "uniVer": "√",
   *     "unixVer": "3.9"
   *     },
   *     "ios": {
   *       "osVer": "10.0",
   *       "uniVer": "√",
   *       "unixVer": "4.11"
   *     }
   *   },
   *   "mp": {
   *     "weixin": {
   *         "hostVer": "8.0",
   *         "uniVer": "√",
   *         "unixVer": "x"
   *     }
   *   },
   *   "web": {
   *     "uniVer": "√",
   *     "unixVer": "4.0"
   *   }
   * }
   */
  created?(): void
  /**
   * @uniPlatform {
   * "app": {
   *   "android": {
   *     "osVer": "5.0",
   *     "uniVer": "√",
   *     "unixVer": "3.9"
   *     },
   *     "ios": {
   *       "osVer": "10.0",
   *       "uniVer": "√",
   *       "unixVer": "4.11"
   *     }
   *   },
   *   "mp": {
   *     "weixin": {
   *         "hostVer": "8.0",
   *         "uniVer": "√",
   *         "unixVer": "x"
   *     }
   *   },
   *   "web": {
   *     "uniVer": "√",
   *     "unixVer": "4.0"
   *   }
   * }
   */
  beforeMount?(): void
  /**
   * @uniPlatform {
   * "app": {
   *   "android": {
   *     "osVer": "5.0",
   *     "uniVer": "√",
   *     "unixVer": "3.9"
   *     },
   *     "ios": {
   *       "osVer": "10.0",
   *       "uniVer": "√",
   *       "unixVer": "4.11"
   *     }
   *   },
   *   "mp": {
   *     "weixin": {
   *         "hostVer": "8.0",
   *         "uniVer": "√",
   *         "unixVer": "x"
   *     }
   *   },
   *   "web": {
   *     "uniVer": "√",
   *     "unixVer": "4.0"
   *   }
   * }
   */
  mounted?(): void
  /**
   * @uniPlatform {
   * "app": {
   *   "android": {
   *     "osVer": "5.0",
   *     "uniVer": "√",
   *     "unixVer": "3.9"
   *     },
   *     "ios": {
   *       "osVer": "10.0",
   *       "uniVer": "√",
   *       "unixVer": "4.11"
   *     }
   *   },
   *   "mp": {
   *     "weixin": {
   *         "hostVer": "8.0",
   *         "uniVer": "√",
   *         "unixVer": "x"
   *     }
   *   },
   *   "web": {
   *     "uniVer": "√",
   *     "unixVer": "4.0"
   *   }
   * }
   */
  beforeUpdate?(): void
  /**
   * @uniPlatform {
   * "app": {
   *   "android": {
   *     "osVer": "5.0",
   *     "uniVer": "√",
   *     "unixVer": "3.9"
   *     },
   *     "ios": {
   *       "osVer": "10.0",
   *       "uniVer": "√",
   *       "unixVer": "4.11"
   *     }
   *   },
   *   "mp": {
   *     "weixin": {
   *         "hostVer": "8.0",
   *         "uniVer": "√",
   *         "unixVer": "x"
   *     }
   *   },
   *   "web": {
   *     "uniVer": "√",
   *     "unixVer": "4.0"
   *   }
   * }
   */
  updated?(): void
  /** @deprecated use `beforeUnmount` instead
   * @uniPlatform {
   * "app": {
   *   "android": {
   *     "osVer": "5.0",
   *     "uniVer": "√",
   *     "unixVer": "x"
   *     },
   *     "ios": {
   *       "osVer": "10.0",
   *       "uniVer": "√",
   *       "unixVer": "x"
   *     }
   *   },
   *   "mp": {
   *     "weixin": {
   *         "hostVer": "8.0",
   *         "uniVer": "√",
   *         "unixVer": "x"
   *     }
   *   },
   *   "web": {
   *     "uniVer": "√",
   *     "unixVer": "4.0"
   *   }
   * }
   */
  beforeDestroy?(): void
  /**
   * @uniPlatform {
   * "app": {
   *   "android": {
   *     "osVer": "5.0",
   *     "uniVer": "√",
   *     "unixVer": "3.9"
   *     },
   *     "ios": {
   *       "osVer": "10.0",
   *       "uniVer": "√",
   *       "unixVer": "4.11"
   *     }
   *   },
   *   "mp": {
   *     "weixin": {
   *         "hostVer": "8.0",
   *         "uniVer": "√",
   *         "unixVer": "x"
   *     }
   *   },
   *   "web": {
   *     "uniVer": "√",
   *     "unixVer": "4.0"
   *   }
   * }
   */
  beforeUnmount?(): void
  /** @deprecated use `unmounted` instead
   * @uniPlatform {
   * "app": {
   *   "android": {
   *     "osVer": "5.0",
   *     "uniVer": "√",
   *     "unixVer": "x"
   *     },
   *     "ios": {
   *       "osVer": "10.0",
   *       "uniVer": "√",
   *       "unixVer": "x"
   *     }
   *   },
   *   "mp": {
   *     "weixin": {
   *         "hostVer": "8.0",
   *         "uniVer": "√",
   *         "unixVer": "x"
   *     }
   *   },
   *   "web": {
   *     "uniVer": "√",
   *     "unixVer": "4.0"
   *   }
   * }
   */
  destroyed?(): void
  /**
   * @uniPlatform {
   * "app": {
   *   "android": {
   *     "osVer": "5.0",
   *     "uniVer": "√",
   *     "unixVer": "3.9"
   *     },
   *     "ios": {
   *       "osVer": "10.0",
   *       "uniVer": "√",
   *       "unixVer": "4.11"
   *     }
   *   },
   *   "mp": {
   *     "weixin": {
   *         "hostVer": "8.0",
   *         "uniVer": "√",
   *         "unixVer": "x"
   *     }
   *   },
   *   "web": {
   *     "uniVer": "√",
   *     "unixVer": "4.0"
   *   }
   * }
   */
  unmounted?(): void
  /**
   * @uniPlatform {
   * "app": {
   *   "android": {
   *     "osVer": "5.0",
   *     "uniVer": "√",
   *     "unixVer": "4.0"
   *     },
   *     "ios": {
   *       "osVer": "10.0",
   *       "uniVer": "√",
   *       "unixVer": "4.11"
   *     }
   *   },
   *   "mp": {
   *     "weixin": {
   *         "hostVer": "8.0",
   *         "uniVer": "x",
   *         "unixVer": "x"
   *     }
   *   },
   *   "web": {
   *     "uniVer": "√",
   *     "unixVer": "4.0"
   *   }
   * }
   */
  activated?(): void
  /**
   * @uniPlatform {
   * "app": {
   *   "android": {
   *     "osVer": "5.0",
   *     "uniVer": "√",
   *     "unixVer": "4.0"
   *     },
   *     "ios": {
   *       "osVer": "10.0",
   *       "uniVer": "√",
   *       "unixVer": "4.11"
   *     }
   *   },
   *   "mp": {
   *     "weixin": {
   *         "hostVer": "8.0",
   *         "uniVer": "x",
   *         "unixVer": "x"
   *     }
   *   },
   *   "web": {
   *     "uniVer": "√",
   *     "unixVer": "4.0"
   *   }
   * }
   */
  deactivated?(): void
  /**
   * @uniPlatform {
   * "app": {
   *   "android": {
   *     "osVer": "5.0",
   *     "uniVer": "√",
   *     "unixVer": "x"
   *     },
   *     "ios": {
   *       "osVer": "10.0",
   *       "uniVer": "√",
   *       "unixVer": "x"
   *     }
   *   },
   *   "mp": {
   *     "weixin": {
   *         "hostVer": "8.0",
   *         "uniVer": "√",
   *         "unixVer": "x"
   *     }
   *   },
   *   "web": {
   *     "uniVer": "√",
   *     "unixVer": "4.0"
   *   }
   * }
   */
  renderTracked?(e: any): void
  /**
   * @uniPlatform {
   * "app": {
   *   "android": {
   *     "osVer": "5.0",
   *     "uniVer": "√",
   *     "unixVer": "x"
   *     },
   *     "ios": {
   *       "osVer": "10.0",
   *       "uniVer": "√",
   *       "unixVer": "x"
   *     }
   *   },
   *   "mp": {
   *     "weixin": {
   *         "hostVer": "8.0",
   *         "uniVer": "√",
   *         "unixVer": "x"
   *     }
   *   },
   *   "web": {
   *     "uniVer": "√",
   *     "unixVer": "4.0"
   *   }
   * }
   */
  renderTriggered?(e: any): void
  /**
   * @uniPlatform {
   * "app": {
   *   "android": {
   *     "osVer": "5.0",
   *     "uniVer": "√",
   *     "unixVer": "x"
   *     },
   *     "ios": {
   *       "osVer": "10.0",
   *       "uniVer": "√",
   *       "unixVer": "x"
   *     }
   *   },
   *   "mp": {
   *     "weixin": {
   *         "hostVer": "8.0",
   *         "uniVer": "√",
   *         "unixVer": "x"
   *     }
   *   },
   *   "web": {
   *     "uniVer": "√",
   *     "unixVer": "4.0"
   *   }
   * }
   */
  errorCaptured?(err: any, instance: ComponentPublicInstance | null, info: string): boolean | void
}

export interface ComponentCustomOptions {
}

export type EmitsOptions = string[]

/**
 * Subset of compiler options that makes sense for the runtime.
 */
export interface RuntimeCompilerOptions {
  isCustomElement?: (tag: string) => boolean
  whitespace?: 'preserve' | 'condense'
  comments?: boolean
  delimiters?: [string, string]
}

export interface ComponentOptionsBase<D extends OptionsData, C extends ComputedOptions, M extends MethodOptions, Mixin extends ComponentOptionsMixin, I extends ComponentInjectOptions = {}, II extends string = string> extends LegacyOptions<D, C, M, Mixin, I, II>, ComponentCustomOptions {
  /**
   * @uniPlatform {
   * "app": {
   *   "android": {
   *     "osVer": "5.0",
   *     "uniVer": "√",
   *     "unixVer": "3.9"
   *     },
   *     "ios": {
   *       "osVer": "10.0",
   *       "uniVer": "√",
   *       "unixVer": "4.11"
   *     }
   *   },
   *   "mp": {
   *     "weixin": {
   *         "hostVer": "8.0",
   *         "uniVer": "√",
   *         "unixVer": "x"
   *     }
   *   },
   *   "web": {
   *     "uniVer": "√",
   *     "unixVer": "4.0"
   *   }
   * }
   */
  name?: string;
  /**
   * @uniPlatform {
   * "app": {
   *   "android": {
   *     "osVer": "5.0",
   *     "uniVer": "√",
   *     "unixVer": "3.9"
   *     },
   *     "ios": {
   *       "osVer": "10.0",
   *       "uniVer": "√",
   *       "unixVer": "4.11"
   *     }
   *   },
   *   "mp": {
   *     "weixin": {
   *         "hostVer": "8.0",
   *         "uniVer": "√",
   *         "unixVer": "x"
   *     }
   *   },
   *   "web": {
   *     "uniVer": "√",
   *     "unixVer": "4.0"
   *   }
   * }
   */
  inheritAttrs?: boolean;
  /**
   * @uniPlatform {
   * "app": {
   *   "android": {
   *     "osVer": "5.0",
   *     "uniVer": "√",
   *     "unixVer": "3.9"
   *     },
   *     "ios": {
   *       "osVer": "10.0",
   *       "uniVer": "√",
   *       "unixVer": "4.11"
   *     }
   *   },
   *   "mp": {
   *     "weixin": {
   *         "hostVer": "8.0",
   *         "uniVer": "√",
   *         "unixVer": "x"
   *     }
   *   },
   *   "web": {
   *     "uniVer": "√",
   *     "unixVer": "4.0"
   *   }
   * }
   */
  emits?: EmitsOptions
  /**
   * @uniPlatform {
   * "app": {
   *   "android": {
   *     "osVer": "5.0",
   *     "uniVer": "√",
   *     "unixVer": "3.9"
   *     },
   *     "ios": {
   *       "osVer": "10.0",
   *       "uniVer": "√",
   *       "unixVer": "4.11"
   *     }
   *   },
   *   "mp": {
   *     "weixin": {
   *         "hostVer": "8.0",
   *         "uniVer": "√",
   *         "unixVer": "x"
   *     }
   *   },
   *   "web": {
   *     "uniVer": "√",
   *     "unixVer": "4.0"
   *   }
   * }
   */
  slots?: SlotsType
  /**
   * @uniPlatform {
   * "app": {
   *   "android": {
   *     "osVer": "5.0",
   *     "uniVer": "√",
   *     "unixVer": "3.9"
   *     },
   *     "ios": {
   *       "osVer": "10.0",
   *       "uniVer": "√",
   *       "unixVer": "4.11"
   *     }
   *   },
   *   "mp": {
   *     "weixin": {
   *         "hostVer": "8.0",
   *         "uniVer": "√",
   *         "unixVer": "x"
   *     }
   *   },
   *   "web": {
   *     "uniVer": "√",
   *     "unixVer": "4.0"
   *   }
   * }
   */
  render?: Function;
  /**
   * @uniPlatform {
   * "app": {
   *   "android": {
   *     "osVer": "5.0",
   *     "uniVer": "√",
   *     "unixVer": "x"
   *     },
   *     "ios": {
   *       "osVer": "10.0",
   *       "uniVer": "√",
   *       "unixVer": "x"
   *     }
   *   },
   *   "mp": {
   *     "weixin": {
   *         "hostVer": "8.0",
   *         "uniVer": "√",
   *         "unixVer": "x"
   *     }
   *   },
   *   "web": {
   *     "uniVer": "√",
   *     "unixVer": "x"
   *   }
   * }
   */
  template?: string | object
  /**
   * @uniPlatform {
   * "app": {
   *   "android": {
   *     "osVer": "5.0",
   *     "uniVer": "√",
   *     "unixVer": "x"
   *     },
   *     "ios": {
   *       "osVer": "10.0",
   *       "uniVer": "√",
   *       "unixVer": "x"
   *     }
   *   },
   *   "mp": {
   *     "weixin": {
   *         "hostVer": "8.0",
   *         "uniVer": "√",
   *         "unixVer": "x"
   *     }
   *   },
   *   "web": {
   *     "uniVer": "√",
   *     "unixVer": "x"
   *   }
   * }
   */
  compilerOptions?: RuntimeCompilerOptions
  /**
   * @uniPlatform {
   * "app": {
   *   "android": {
   *     "osVer": "5.0",
   *     "uniVer": "√",
   *     "unixVer": "x"
   *     },
   *     "ios": {
   *       "osVer": "10.0",
   *       "uniVer": "√",
   *       "unixVer": "x"
   *     }
   *   },
   *   "mp": {
   *     "weixin": {
   *         "hostVer": "8.0",
   *         "uniVer": "√",
   *         "unixVer": "x"
   *     }
   *   },
   *   "web": {
   *     "uniVer": "√",
   *     "unixVer": "4.0"
   *   }
   * }
   */
  expose?: string[]
}

export type DefineComponent<D extends OptionsData = OptionsData, C extends ComputedOptions = ComputedOptions, M extends MethodOptions = MethodOptions, Mixin extends ComponentOptionsMixin = ComponentOptionsMixin, I extends ComponentInjectOptions = {}, II extends string = string> = ComponentOptionsBase<D, C, M, Mixin, I, II>
/**
 * @uniPlatform {
 * "app": {
 *   "android": {
 *     "osVer": "5.0",
 *     "uniVer": "x",
 *     "unixVer": "x"
 *     },
 *     "ios": {
 *       "osVer": "10.0",
 *       "uniVer": "x",
 *       "unixVer": "x"
 *     }
 *   },
 *   "mp": {
 *     "weixin": {
 *         "hostVer": "8.0",
 *         "uniVer": "x",
 *         "unixVer": "x"
 *     }
 *   },
 *   "web": {
 *     "uniVer": "√",
 *     "unixVer": "4.0"
 *   }
 * }
 */
export function defineComponent<D extends OptionsData = OptionsData, C extends ComputedOptions = ComputedOptions, M extends MethodOptions = MethodOptions, Mixin extends ComponentOptionsMixin = ComponentOptionsMixin, I extends ComponentInjectOptions = {}, II extends string = string>(options: DefineComponent<D, C, M, Mixin, I, II>): CreateVueComponent

export interface AppCustomOptions {
}

export interface AppLegacyOptions<D extends OptionsData, C extends ComputedOptions, M extends MethodOptions, I extends ComponentInjectOptions, II extends string> extends Omit<LegacyOptions<D, C, M, any, I, II>, 'data' | 'mixins'> {
  /**
   * @uniPlatform {
   * "app": {
   *   "android": {
   *     "osVer": "5.0",
   *     "uniVer": "√",
   *     "unixVer": "x"
   *     },
   *     "ios": {
   *       "osVer": "10.0",
   *       "uniVer": "√",
   *       "unixVer": "x"
   *     }
   *   },
   *   "mp": {
   *     "weixin": {
   *         "hostVer": "8.0",
   *         "uniVer": "√",
   *         "unixVer": "x"
   *     }
   *   },
   *   "web": {
   *     "uniVer": "√",
   *     "unixVer": "4.0"
   *   }
   * }
   */
  data?: LegacyOptions<D, C, M, any, I, II>['data']
  /**
   * @uniPlatform {
   * "app": {
   *   "android": {
   *     "osVer": "5.0",
   *     "uniVer": "√",
   *     "unixVer": "x"
   *     },
   *     "ios": {
   *       "osVer": "10.0",
   *       "uniVer": "√",
   *       "unixVer": "x"
   *     }
   *   },
   *   "mp": {
   *     "weixin": {
   *         "hostVer": "8.0",
   *         "uniVer": "√",
   *         "unixVer": "x"
   *     }
   *   },
   *   "web": {
   *     "uniVer": "√",
   *     "unixVer": "4.0"
   *   }
   * }
   */
  mixins?: LegacyOptions<D, C, M, any, I, II>['mixins']
}

export interface AppOptionsBase<D extends OptionsData, C extends ComputedOptions, M extends MethodOptions, I extends ComponentInjectOptions = {}, II extends string = string> extends AppLegacyOptions<D, C, M, I, II>, AppCustomOptions {

}

export type DefineApp<D extends OptionsData = OptionsData, C extends ComputedOptions = ComputedOptions, M extends MethodOptions = MethodOptions, I extends ComponentInjectOptions = {}, II extends string = string> = AppOptionsBase<D, C, M, I, II>

type ExtractComputedReturns<T extends any> = {
  [key in keyof T]: T[key] extends {
    get: (...args: any[]) => infer TReturn
  } ? TReturn : T[key] extends (...args: any[]) => infer TReturn ? TReturn : never
}

type DataReturns<T extends Record<string, any>> = {
  [K in keyof T]: T[K]
}

export type EditorComponentPublicInstance<D extends OptionsData, C extends ComputedOptions, M extends MethodOptions, I extends ComponentInjectOptions = {}, II extends string = string> = ComponentPublicInstance & {
  [K in keyof M]: M[K]
} & ExtractComputedReturns<C>
  & DataReturns<D>
  & InjectToObject<I>

export type EditorVueAppComponent<D extends OptionsData, C extends ComputedOptions, M extends MethodOptions, I extends ComponentInjectOptions = {}> = VueAppComponent & {
  $: EditorComponentPublicInstance<D, C, M, I>
}

export type EditorCreateVueAppComponent<D extends OptionsData = OptionsData, C extends ComputedOptions = ComputedOptions, M extends MethodOptions = MethodOptions, I extends ComponentInjectOptions = {}, II extends string = string> = CreateVueAppComponent & {
  // 仅用于编辑器提示，TODO 重写 create 方法实现
  create: (instance: ComponentInternalInstance) => EditorVueAppComponent<D, C, M, I>;
}

export function defineApp<D extends OptionsData = OptionsData, C extends ComputedOptions = ComputedOptions, M extends MethodOptions = MethodOptions, I extends ComponentInjectOptions = {}, II extends string = string>(options: DefineApp<D, C, M, I, II>): EditorCreateVueAppComponent<D, C, M, I, II>

type SlotsTypeOrigin<T> = SlotsType<T>

declare class EditorVueAppConfig extends VueAppConfig {
  /**
   * @uniPlatform {
   * "app": {
   *   "android": {
   *     "osVer": "5.0",
   *     "uniVer": "√",
   *     "unixVer": "3.99"
   *     },
   *     "ios": {
   *       "osVer": "10.0",
   *       "uniVer": "√",
   *       "unixVer": "4.11"
   *     }
   *   },
   *   "mp": {
   *     "weixin": {
   *         "hostVer": "8.0",
   *         "uniVer": "√",
   *         "unixVer": "x"
   *     }
   *   },
   *   "web": {
   *     "uniVer": "√",
   *     "unixVer": "4.0"
   *   }
   * }
   */
  globalProperties: Record<string, any>
}

type MixinKeys =
  // 'inheritAttrs' |
  'mixins' |
  'props' |
  'emits' |
  'data' |
  'computed' |
  'watch' |
  'components' |
  'methods'

type ComponentOptionsMixinOrigin = ComponentOptionsBase<any, any, any, any>

export type ComponentOptionsMixin = Pick<ComponentOptionsMixinOrigin, MixinKeys>

type ComponentOptionsOrigin<Props = {}, RawBindings = any, D = OptionsData, C extends ComputedOptions = ComputedOptions, M extends MethodOptions = MethodOptions, Mixin extends ComponentOptionsMixin = ComponentOptionsMixin, Extends extends ComponentOptionsMixin = any, E extends EmitsOptions = any, S extends SlotsType = any> = ComponentOptionsBase<D, C, M, Mixin>

export type ComponentOptions = Pick<ComponentOptionsOrigin, MixinKeys>

export interface InjectionKey<T> extends Symbol {
}

interface EditorVuePlugin {
  install(app: EditorVueApp, ...options: any[]): void
}

declare class VuePlugin {
  installFn: Function;
  constructor(install: VuePluginInstallFunction);
  $constructor(install: Function): void;
  install(app: VueApp, ...options: any[]): void;
}

type VuePluginInstallFunction = (app: VueApp) => void;

type EditorVuePluginInstallFunction = (app: EditorVueApp, ...options: any[]) => void;

declare class EditorVueApp extends VueApp {
  readonly config: EditorVueAppConfig;
  /**
   * @uniPlatform {
   * "app": {
   *   "android": {
   *     "osVer": "5.0",
   *     "uniVer": "√",
   *     "unixVer": "3.99"
   *     },
   *     "ios": {
   *       "osVer": "10.0",
   *       "uniVer": "√",
   *       "unixVer": "4.11"
   *     }
   *   },
   *   "mp": {
   *     "weixin": {
   *         "hostVer": "8.0",
   *         "uniVer": "√",
   *         "unixVer": "x"
   *     }
   *   },
   *   "web": {
   *     "uniVer": "√",
   *     "unixVer": "4.0"
   *   }
   * }
   */
  mixin(mixin: ComponentOptions): void
  /**
   * @uniPlatform {
   * "app": {
   *   "android": {
   *     "osVer": "5.0",
   *     "uniVer": "√",
   *     "unixVer": "3.99"
   *     },
   *     "ios": {
   *       "osVer": "10.0",
   *       "uniVer": "√",
   *       "unixVer": "4.11"
   *     }
   *   },
   *   "mp": {
   *     "weixin": {
   *         "hostVer": "8.0",
   *         "uniVer": "√",
   *         "unixVer": "x"
   *     }
   *   },
   *   "web": {
   *     "uniVer": "√",
   *     "unixVer": "4.0"
   *   }
   * }
   */
  use(plugin: EditorVuePlugin | EditorVuePluginInstallFunction): EditorVueApp
  use(plugin: VuePluginInstallFunction, ...options: any[]): VueApp;
  use(plugin: Function, ...options: any[]): VueApp;
  use(plugin: VuePlugin, ...options: any[]): VueApp;
}

export declare function createSSRApp(type: CreateVueAppComponent): EditorVueApp;

/**
 * @uniPlatform {
 * "app": {
 *   "android": {
 *     "osVer": "5.0",
 *     "uniVer": "√",
 *     "unixVer": "3.99"
 *     },
 *     "ios": {
 *       "osVer": "10.0",
 *       "uniVer": "√",
 *       "unixVer": "4.11"
 *     }
 *   },
 *   "mp": {
 *     "weixin": {
 *         "hostVer": "8.0",
 *         "uniVer": "√",
 *         "unixVer": "x"
 *     }
 *   },
 *   "web": {
 *     "uniVer": "√",
 *     "unixVer": "4.0"
 *   }
 * }
 */
export declare function definePlugin(plugin: EditorVuePlugin | EditorVuePluginInstallFunction): VuePlugin;

type Readonly<T> = {
  readonly [P in keyof T]: T[P];
};

export type Prettify<T> = {
  [K in keyof T]: T[K];
} & {};

export type ExtractPropTypes<O> = {
  [K in keyof Pick<O, RequiredKeys<O>>]: InferPropType<O[K]>;
} & {
    [K in keyof Pick<O, OptionalKeys<O>>]?: InferPropType<O[K]>;
  };

type RequiredKeys<T> = {
  [K in keyof T]: T[K] extends {
    required: true;
  } | {
    default: any;
  } | BooleanConstructor | {
    type: BooleanConstructor;
  } ? T[K] extends {
    default: undefined | (() => undefined);
  } ? never : K : never;
}[keyof T];

type InferPropType<T> = [T] extends [null] ? any : [T] extends [{
  type: null | true;
}] ? any : [T] extends [ObjectConstructor | {
  type: ObjectConstructor;
}] ? Record<string, any> : [T] extends [BooleanConstructor | {
  type: BooleanConstructor;
}] ? boolean : [T] extends [StringConstructor | {
  type: StringConstructor;
}] ? string : [T] extends [NumberConstructor | {
  type: NumberConstructor;
}] ? number : [T] extends [DateConstructor | {
  type: DateConstructor;
}] ? Date : [T] extends [(infer U)[] | {
  type: (infer U)[];
}] ? U extends DateConstructor ? Date | InferPropType<U> : InferPropType<U> : [T] extends [Prop<infer V, infer D>] ? unknown extends V ? IfAny<V, V, D> : V : T;

type OptionalKeys<T> = Exclude<keyof T, RequiredKeys<T>>;

type DefineProps<T, BKeys extends keyof T> = Readonly<T> & {
  readonly [K in BKeys]-?: boolean;
};

type BooleanKey<T, K extends keyof T = keyof T> = K extends any ? [T[K]] extends [boolean | undefined] ? K : never : never;

export type ObjectEmitsOptions = Record<string, ((...args: any[]) => any) | null>;
type EmitFn<Options = ObjectEmitsOptions, Event extends keyof Options = keyof Options> = Options extends Array<infer V> ? (event: V, ...args: any[]) => void : {} extends Options ? (event: string, ...args: any[]) => void : UnionToIntersection<{
  [key in Event]: Options[key] extends (...args: infer Args) => any ? (event: key, ...args: Args) => void : (event: key, ...args: any[]) => void;
}[Event]>;
export type UnionToIntersection<U> = (U extends any ? (k: U) => void : never) extends (k: infer I) => void ? I : never;
type RecordToUnion<T extends Record<string, any>> = T[keyof T];
type ShortEmits<T extends Record<string, any>> = UnionToIntersection<RecordToUnion<{
  [K in keyof T]: (evt: K, ...args: T[K]) => void;
}>>;

type InferDefaults<T> = {
  [K in keyof T]?: InferDefault<T, T[K]>;
};
type NativeType = null | number | string | boolean | symbol | Function;
type InferDefault<P, T> = ((props: P) => T & {}) | (T extends NativeType ? T : never);
type NotUndefined<T> = T extends undefined ? never : T;
type PropsWithDefaults<T, Defaults extends InferDefaults<T>, BKeys extends keyof T> = Readonly<Omit<T, keyof Defaults>> & {
  readonly [K in keyof Defaults]-?: K extends keyof T ? Defaults[K] extends undefined ? T[K] : NotUndefined<T[K]> : never;
} & {
  readonly [K in BKeys]-?: K extends keyof Defaults ? Defaults[K] extends undefined ? boolean | undefined : boolean : boolean;
};

declare global {
  type SlotsType<T> = SlotsTypeOrigin<T>;
  type PropType<T> = PropTypeOrigin<T>;
  /**
   * @uniPlatform {
   * "app": {
   *   "android": {
   *     "osVer": "5.0",
   *     "uniVer": "√",
   *     "unixVer": "3.99"
   *     },
   *     "ios": {
   *       "osVer": "10.0",
   *       "uniVer": "√",
   *       "unixVer": "4.11"
   *     }
   *   },
   *   "mp": {
   *     "weixin": {
   *         "hostVer": "8.0",
   *         "uniVer": "√",
   *         "unixVer": "x"
   *     }
   *   },
   *   "web": {
   *     "uniVer": "√",
   *     "unixVer": "4.0"
   *   }
   * }
   */
  function defineMixin<T extends ComponentOptions = ComponentOptions>(mixin: T): T;
  /**
   * @uniPlatform {
   * "app": {
   *   "android": {
   *     "osVer": "5.0",
   *     "uniVer": "√",
   *     "unixVer": "4.0"
   *     },
   *     "ios": {
   *       "osVer": "10.0",
   *       "uniVer": "√",
   *       "unixVer": "4.11"
   *     }
   *   },
   *   "mp": {
   *     "weixin": {
   *         "hostVer": "8.0",
   *         "uniVer": "√",
   *         "unixVer": "x"
   *     }
   *   },
   *   "web": {
   *     "uniVer": "√",
   *     "unixVer": "4.0"
   *   }
   * }
   */
  function defineProps<PropNames extends string = string>(
    props: PropNames[]
  ): Prettify<
    Readonly<{
      [key in PropNames]?: any;
    }>
  >;
  function defineProps<PP extends ComponentObjectPropsOptions = ComponentObjectPropsOptions>(props: PP): Prettify<Readonly<ExtractPropTypes<PP>>>;
  function defineProps<TypeProps>(): DefineProps<TypeProps, BooleanKey<TypeProps>>;
  /**
   * @uniPlatform {
   * "app": {
   *   "android": {
   *     "osVer": "5.0",
   *     "uniVer": "√",
   *     "unixVer": "4.0"
   *     },
   *     "ios": {
   *       "osVer": "10.0",
   *       "uniVer": "√",
   *       "unixVer": "4.11"
   *     }
   *   },
   *   "mp": {
   *     "weixin": {
   *         "hostVer": "8.0",
   *         "uniVer": "√",
   *         "unixVer": "x"
   *     }
   *   },
   *   "web": {
   *     "uniVer": "√",
   *     "unixVer": "4.0"
   *   }
   * }
   */
  function defineEmits<EE extends string = string>(emitOptions: EE[]): EmitFn<EE[]>;
  function defineEmits<E extends EmitsOptions = EmitsOptions>(emitOptions: E): EmitFn<E>;
  function defineEmits<T extends Function | Record<string, any[]>>(): T extends Function ? T : ShortEmits<T>;
  /**
   * @uniPlatform {
   * "app": {
   *   "android": {
   *     "osVer": "5.0",
   *     "uniVer": "√",
   *     "unixVer": "4.0"
   *     },
   *     "ios": {
   *       "osVer": "10.0",
   *       "uniVer": "√",
   *       "unixVer": "4.11"
   *     }
   *   },
   *   "mp": {
   *     "weixin": {
   *         "hostVer": "8.0",
   *         "uniVer": "√",
   *         "unixVer": "x"
   *     }
   *   },
   *   "web": {
   *     "uniVer": "√",
   *     "unixVer": "4.0"
   *   }
   * }
   */
  function defineExpose<Exposed extends Record<string, any> = Record<string, any>>(exposed?: Exposed): void;
  /**
   * @uniPlatform {
   * "app": {
   *   "android": {
   *     "osVer": "5.0",
   *     "uniVer": "√",
   *     "unixVer": "4.0"
   *     },
   *     "ios": {
   *       "osVer": "10.0",
   *       "uniVer": "√",
   *       "unixVer": "4.11"
   *     }
   *   },
   *   "mp": {
   *     "weixin": {
   *         "hostVer": "8.0",
   *         "uniVer": "√",
   *         "unixVer": "x"
   *     }
   *   },
   *   "web": {
   *     "uniVer": "4.11",
   *     "unixVer": "4.11"
   *   }
   * }
   */
  function defineOptions<D = {}, C extends ComputedOptions = {}, M extends MethodOptions = {}, Mixin extends ComponentOptionsMixin = ComponentOptionsMixin>(
    options?: DefineComponent<D, C, M, Mixin, {}, string> & {
      emits?: undefined;
      expose?: undefined;
      slots?: undefined;
    }
  ): void;
  /**
   * @uniPlatform {
   * "app": {
   *   "android": {
   *     "osVer": "5.0",
   *     "uniVer": "√",
   *     "unixVer": "4.0"
   *     },
   *     "ios": {
   *       "osVer": "10.0",
   *       "uniVer": "√",
   *       "unixVer": "4.11"
   *     }
   *   },
   *   "mp": {
   *     "weixin": {
   *         "hostVer": "8.0",
   *         "uniVer": "√",
   *         "unixVer": "x"
   *     }
   *   },
   *   "web": {
   *     "uniVer": "√",
   *     "unixVer": "4.0"
   *   }
   * }
   */
  function defineSlots<S extends Record<string, any> = Record<string, any>>(): any;
  /**
   * @uniPlatform {
   * "app": {
   *   "android": {
   *     "osVer": "5.0",
   *     "uniVer": "√",
   *     "unixVer": "4.0"
   *     },
   *     "ios": {
   *       "osVer": "10.0",
   *       "uniVer": "√",
   *       "unixVer": "4.11"
   *     }
   *   },
   *   "mp": {
   *     "weixin": {
   *         "hostVer": "8.0",
   *         "uniVer": "√",
   *         "unixVer": "x"
   *     }
   *   },
   *   "web": {
   *     "uniVer": "4.11",
   *     "unixVer": "4.11"
   *   }
   * }
   */
  function defineModel<T>(options?: PropOptions<T>): Ref<T | null>;
  function defineModel<T>(name: string, options?: PropOptions<T>): Ref<T | null>

  /**
   * @uniPlatform {
   * "app": {
   *   "android": {
   *     "osVer": "5.0",
   *     "uniVer": "√",
   *     "unixVer": "4.0"
   *     },
   *     "ios": {
   *       "osVer": "10.0",
   *       "uniVer": "√",
   *       "unixVer": "4.11"
   *     }
   *   },
   *   "mp": {
   *     "weixin": {
   *         "hostVer": "8.0",
   *         "uniVer": "√",
   *         "unixVer": "x"
   *     }
   *   },
   *   "web": {
   *     "uniVer": "4.11",
   *     "unixVer": "4.11"
   *   }
   * }
   */
  function withDefaults<T, BKeys extends keyof T, Defaults extends InferDefaults<T>>(props: DefineProps<T, BKeys>, defaults: Defaults): PropsWithDefaults<T, Defaults, BKeys>;
}
