"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.IndexEasyComHandle=void 0;const core_1=require("../../../core");class IndexEasyComHandle{async getIndexData(a){return await(0,core_1.getAllKindData)(a,"UNI_EASY_COM",!1)}async isAutoScan(a){let e=!1;const t=await this.getIndexData(a);return t?t.kindMap.forEach(((a,t)=>{a.forEach(((a,t)=>{a.indexValues.forEach((a=>{e||"autoscan"===a.value&&"true"===a.context&&(e=!0)}))}))})):e=!0,e}async getEasyComData(a,e){const t=await this.getIndexData(a);if(!t)return;const s=[],n={canonicalVersion:t.canonicalVersion,projectVersion:t.projectVersion,projectUri:t.projectUri,kindMap:new Map};return t.kindMap.forEach(((a,t)=>{const o=new Map;a.forEach(((a,t)=>{const n={fileVersion:a.fileVersion,indexValues:[]};a.indexValues.forEach((a=>{"autoscan"!==a.value&&(s.includes(a.value)||"autoscan"===e&&"autoscan"!==a.describe||"custom"===e&&"custom"!==a.describe||n.indexValues.push(a))})),o.set(t,n)})),n.kindMap.set(t,o)})),n}getAllEasyComData(a){return this.getEasyComData(a)}getAutoScanEasyComData(a){return this.getEasyComData(a,"autoscan")}getCustomEasyComData(a){return this.getEasyComData(a,"custom")}}exports.IndexEasyComHandle=IndexEasyComHandle;