"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TagUnixPlugin=void 0;const completion_1=require("./completion"),resolve_1=require("./resolve"),validation_1=require("./validation");class TagUnixPlugin{constructor(e,t){this.tsInfo=e,this.dataProviders=t,this._providers=t}create(e){const t=e.languageService,o=new completion_1.TagUnixCompletion(t,this.tsInfo,this._providers),i=new resolve_1.TagUnixResolve(t,this.tsInfo,this._providers),n=new validation_1.TagUnixValidation(t,this.tsInfo,this._providers),a=Object.create(null);for(let e of Object.keys(t)){const o=t[e];a[e]=(...e)=>o.apply(t,e)}return a.doCompleteAsync=async function(e,i,n,a){o.setParentTag(e,i,n);let r=await t.doCompleteAsync(e,i,n,a);return o.delParentTag(),r},a.doResolve=function(e,o,n,a){let r=t.doResolve(e,o,n,a);return r=i.doExtraResolve(r,o,n,a),r},a.doValidation=async function(e,o){let i=await t.doValidation(e,o);return i=await n.doExtraValidation(e,o,i),i},a}}exports.TagUnixPlugin=TagUnixPlugin;