{
  "name": "unicloud-db",
  "type": "UniCloudDBElement",
  "description": {
    "value": "是一个数据库查询组件，它将clientDB的API封装为组件，进一步减少开发者使用所需的代码量。",
    "kind": "markdown"
  },
  "uniPlatform": {
    "app": {
      "android": {
        "osVer": "5.0",
        "uniVer": "√",
        "unixVer": "3.93+"
      },
      "ios": {
        "osVer": "12.0",
        "uniVer": "√",
        "unixVer": "4.11"
      }
    },
    "web": {
      "uniVer": "√",
      "unixVer": "4.0"
    }
  },
  "attributes": [
    {
      "name": "id",
      "description": {
        "value": "唯一标识",
        "kind": "markdown"
      },
      "type": "string",
      "valueSet": "string.IDString"
    },
    {
      "name": "v-slot:default",
      "description": {
        "value": "{data, loading, hasMore, pagination, error}",
        "kind": "markdown"
      },
      "values": [
        {
          "name": "data",
          "type": "Array<UTSJSONObject>",
          "description": "查询结果，类型为Array<UTSJSONObject>"
        },
        {
          "name": "loading",
          "type": "Boolean",
          "description": "查询中的状态。可根据此状态，在template中通过v-if显示等待内容"
        },
        {
          "name": "hasMore",
          "type": "Boolean",
          "description": "是否有更多数据。可根据此状态，在template中通过v-if显示没有更多数据了"
        },
        {
          "name": "error",
          "type": "UniCloudError",
          "description": "查询错误。可根据此状态，在template中通过v-if显示等待内容"
        },
        {
          "name": "pagination",
          "description": "分页属性",
          "values": [
            {
              "name": "current",
              "type": "Number",
              "description": "当前页号"
            },
            {
              "name": "size",
              "type": "Number",
              "description": "分页大小"
            },
            {
              "name": "count",
              "type": "Number",
              "description": "数据库的总数据量, 设置 :getcount=true 时有效"
            }
          ]
        }
      ],
      "uniPlatform": {
        "app": {
          "android": {
            "osVer": "5.0",
            "uniVer": "√",
            "unixVer": "3.93+"
          },
          "ios": {
            "osVer": "12.0",
            "uniVer": "√",
            "unixVer": "4.11"
          }
        },
        "web": {
          "uniVer": "√",
          "unixVer": "4.0"
        }
      },
      "type": "string"
    },
    {
      "name": "collection",
      "description": {
        "value": "表名",
        "kind": "markdown"
      },
      "uniPlatform": {
        "app": {
          "android": {
            "osVer": "5.0",
            "uniVer": "√",
            "unixVer": "3.93+"
          },
          "ios": {
            "osVer": "12.0",
            "uniVer": "√",
            "unixVer": "4.11"
          }
        },
        "web": {
          "uniVer": "√",
          "unixVer": "4.0"
        }
      },
      "type": "string",
      "valueSet": "string.DBCollectionString"
    },
    {
      "name": "field",
      "description": {
        "value": "查询字段，多个字段用 `,` 分割",
        "kind": "markdown"
      },
      "uniPlatform": {
        "app": {
          "android": {
            "osVer": "5.0",
            "uniVer": "√",
            "unixVer": "3.93+"
          },
          "ios": {
            "osVer": "12.0",
            "uniVer": "√",
            "unixVer": "4.11"
          }
        },
        "web": {
          "uniVer": "√",
          "unixVer": "4.0"
        }
      },
      "type": "string",
      "valueSet": "string.DBFieldString"
    },
    {
      "name": "where",
      "description": {
        "value": "查询条件",
        "kind": "markdown"
      },
      "uniPlatform": {
        "app": {
          "android": {
            "osVer": "5.0",
            "uniVer": "√",
            "unixVer": "3.93+"
          },
          "ios": {
            "osVer": "12.0",
            "uniVer": "√",
            "unixVer": "4.11"
          }
        },
        "web": {
          "uniVer": "√",
          "unixVer": "4.0"
        }
      },
      "type": "string",
      "valueSet": "string.JQLString"
    },
    {
      "name": "orderby",
      "description": {
        "value": "排序字段及正序倒叙设置",
        "kind": "markdown"
      },
      "uniPlatform": {
        "app": {
          "android": {
            "osVer": "5.0",
            "uniVer": "√",
            "unixVer": "3.93+"
          },
          "ios": {
            "osVer": "12.0",
            "uniVer": "√",
            "unixVer": "4.11"
          }
        },
        "web": {
          "uniVer": "√",
          "unixVer": "4.0"
        }
      },
      "type": "string"
    },
    {
      "name": "groupby",
      "description": {
        "value": "对数据进行分组",
        "kind": "markdown"
      },
      "uniPlatform": {
        "app": {
          "android": {
            "osVer": "5.0",
            "uniVer": "√",
            "unixVer": "3.93+"
          },
          "ios": {
            "osVer": "12.0",
            "uniVer": "√",
            "unixVer": "4.11"
          }
        },
        "web": {
          "uniVer": "√",
          "unixVer": "4.0"
        }
      },
      "type": "string"
    },
    {
      "name": "group-field",
      "description": {
        "value": "对数据进行分组统计",
        "kind": "markdown"
      },
      "uniPlatform": {
        "app": {
          "android": {
            "osVer": "5.0",
            "uniVer": "√",
            "unixVer": "3.93+"
          },
          "ios": {
            "osVer": "12.0",
            "uniVer": "√",
            "unixVer": "4.11"
          }
        },
        "web": {
          "uniVer": "√",
          "unixVer": "4.0"
        }
      },
      "type": "string"
    },
    {
      "name": "distinct",
      "description": {
        "value": "是否对数据查询结果中重复的记录进行去重",
        "kind": "markdown"
      },
      "values": [
        {
          "name": "true",
          "description": "去重"
        },
        {
          "name": "false",
          "description": "不去重"
        }
      ],
      "uniPlatform": {
        "app": {
          "android": {
            "osVer": "5.0",
            "uniVer": "√",
            "unixVer": "3.93+"
          },
          "ios": {
            "osVer": "12.0",
            "uniVer": "√",
            "unixVer": "4.11"
          }
        },
        "web": {
          "uniVer": "√",
          "unixVer": "4.0"
        }
      },
      "type": "boolean"
    },
    {
      "name": "page-data",
      "description": {
        "value": "add 多次查询的集合, replace 当前查询的集合",
        "kind": "markdown"
      },
      "values": [
        {
          "name": "add",
          "description": "多次查询的集合"
        },
        {
          "name": "replace",
          "description": "当前查询的集合"
        }
      ],
      "uniPlatform": {
        "app": {
          "android": {
            "osVer": "5.0",
            "uniVer": "√",
            "unixVer": "3.93+"
          },
          "ios": {
            "osVer": "12.0",
            "uniVer": "√",
            "unixVer": "4.11"
          }
        },
        "web": {
          "uniVer": "√",
          "unixVer": "4.0"
        }
      },
      "type": "string"
    },
    {
      "name": "page-current",
      "description": {
        "value": "当前页",
        "kind": "markdown"
      },
      "uniPlatform": {
        "app": {
          "android": {
            "osVer": "5.0",
            "uniVer": "√",
            "unixVer": "3.93+"
          },
          "ios": {
            "osVer": "12.0",
            "uniVer": "√",
            "unixVer": "4.11"
          }
        },
        "web": {
          "uniVer": "√",
          "unixVer": "4.0"
        }
      },
      "type": "number"
    },
    {
      "name": "page-size",
      "description": {
        "value": "每页数据数量",
        "kind": "markdown"
      },
      "uniPlatform": {
        "app": {
          "android": {
            "osVer": "5.0",
            "uniVer": "√",
            "unixVer": "3.93+"
          },
          "ios": {
            "osVer": "12.0",
            "uniVer": "√",
            "unixVer": "4.11"
          }
        },
        "web": {
          "uniVer": "√",
          "unixVer": "4.0"
        }
      },
      "type": "number"
    },
    {
      "name": "getone",
      "description": {
        "value": "指定查询结果是否返回数组第一条数据，默认 false。在false情况下返回的是数组，即便只有一条结果，也需要[0]的方式获取。在true下，直接返回结果数据，少一层数组",
        "kind": "markdown"
      },
      "uniPlatform": {
        "app": {
          "android": {
            "osVer": "5.0",
            "uniVer": "√",
            "unixVer": "x"
          },
          "ios": {
            "osVer": "12.0",
            "uniVer": "√",
            "unixVer": "x"
          }
        },
        "web": {
          "uniVer": "√",
          "unixVer": "4.0"
        }
      },
      "type": "boolean"
    },
    {
      "name": "getcount",
      "description": {
        "value": "是否查询总数量",
        "kind": "markdown"
      },
      "uniPlatform": {
        "app": {
          "android": {
            "osVer": "5.0",
            "uniVer": "√",
            "unixVer": "3.93+"
          },
          "ios": {
            "osVer": "12.0",
            "uniVer": "√",
            "unixVer": "4.11"
          }
        },
        "web": {
          "uniVer": "√",
          "unixVer": "4.0"
        }
      },
      "type": "boolean"
    },
    {
      "name": "gettree",
      "description": {
        "value": "是否查询树状结构数据",
        "kind": "markdown"
      },
      "uniPlatform": {
        "app": {
          "android": {
            "osVer": "5.0",
            "uniVer": "√",
            "unixVer": "3.93+"
          },
          "ios": {
            "osVer": "12.0",
            "uniVer": "√",
            "unixVer": "4.11"
          }
        },
        "web": {
          "uniVer": "√",
          "unixVer": "4.0"
        }
      },
      "type": "boolean"
    },
    {
      "name": "startwith",
      "description": {
        "value": "gettree的第一层级条件，此初始条件可以省略，不传startWith时默认从最顶级开始查询",
        "kind": "markdown"
      },
      "uniPlatform": {
        "app": {
          "android": {
            "osVer": "5.0",
            "uniVer": "√",
            "unixVer": "3.93+"
          },
          "ios": {
            "osVer": "12.0",
            "uniVer": "√",
            "unixVer": "4.11"
          }
        },
        "web": {
          "uniVer": "√",
          "unixVer": "4.0"
        }
      },
      "type": "string"
    },
    {
      "name": "limitlevel",
      "description": {
        "value": "gettree查询返回的树的最大层级。超过设定层级的节点不会返回。默认10级，最大15，最小1",
        "kind": "markdown"
      },
      "uniPlatform": {
        "app": {
          "android": {
            "osVer": "5.0",
            "uniVer": "√",
            "unixVer": "3.93+"
          },
          "ios": {
            "osVer": "12.0",
            "uniVer": "√",
            "unixVer": "4.11"
          }
        },
        "web": {
          "uniVer": "√",
          "unixVer": "4.0"
        }
      },
      "type": "number"
    },
    {
      "name": "manual",
      "description": {
        "value": "是否手动加载数据，默认为 false，页面onLoad时自动联网加载数据",
        "kind": "markdown"
      },
      "uniPlatform": {
        "app": {
          "android": {
            "osVer": "5.0",
            "uniVer": "√",
            "unixVer": "3.93+"
          },
          "ios": {
            "osVer": "12.0",
            "uniVer": "√",
            "unixVer": "4.11"
          }
        },
        "web": {
          "uniVer": "√",
          "unixVer": "4.0"
        }
      },
      "type": "boolean"
    },
    {
      "name": "loadtime",
      "description": {
        "value": "加载数据时机，默认auto，可选值 auto|onready|manual",
        "kind": "markdown"
      },
      "values": [
        {
          "name": "auto",
          "description": "页面就绪后或属性变化后加载数据，默认为auto"
        },
        {
          "name": "onready",
          "description": "页面就绪后不自动加载数据，属性变化后加载。适合在onLoad中接收上个页面的参数作为where条件时"
        },
        {
          "name": "manual",
          "description": "手动模式，不自动加载数据。如果涉及到分页，需要先手动修改当前页，在调用加载数据"
        }
      ],
      "uniPlatform": {
        "app": {
          "android": {
            "osVer": "5.0",
            "uniVer": "3.1.10+",
            "unixVer": "3.93+"
          },
          "ios": {
            "osVer": "12.0",
            "uniVer": "3.1.10+",
            "unixVer": "4.11"
          }
        },
        "web": {
          "uniVer": "√",
          "unixVer": "4.0"
        }
      },
      "type": "string"
    },
    {
      "name": "action",
      "description": {
        "value": "云端执行数据库查询的前或后，触发某个action函数操作，进行预处理或后处理",
        "kind": "markdown"
      },
      "uniPlatform": {
        "app": {
          "android": {
            "osVer": "5.0",
            "uniVer": "√",
            "unixVer": "x"
          },
          "ios": {
            "osVer": "12.0",
            "uniVer": "√",
            "unixVer": "x"
          }
        },
        "web": {
          "uniVer": "√",
          "unixVer": "4.0"
        }
      },
      "type": "string",
      "valueSet": "string.ClientDBActionString"
    },
    {
      "name": "[event]load",
      "description": {
        "value": "成功回调。如联网返回结果后，想修改下数据再渲染界面，则在本方法里对data进行修改",
        "kind": "markdown"
      },
      "uniPlatform": {
        "app": {
          "android": {
            "osVer": "5.0",
            "uniVer": "√",
            "unixVer": "3.93+"
          },
          "ios": {
            "osVer": "12.0",
            "uniVer": "√",
            "unixVer": "4.11"
          }
        },
        "web": {
          "uniVer": "√",
          "unixVer": "4.0"
        }
      },
      "type": "(data : Array<UTSJSONObject>, ended : boolean, pagination : UTSJSONObject) => void"
    },
    {
      "name": "[event]error",
      "description": {
        "value": "失败回调",
        "kind": "markdown"
      },
      "uniPlatform": {
        "app": {
          "android": {
            "osVer": "5.0",
            "uniVer": "√",
            "unixVer": "3.93+"
          },
          "ios": {
            "osVer": "12.0",
            "uniVer": "√",
            "unixVer": "4.11"
          }
        },
        "web": {
          "uniVer": "√",
          "unixVer": "4.0"
        }
      },
      "type": "(event: UniEvent) => void"
    }
  ],
  "references": [
    {
      "url": "https://uniapp.dcloud.io/uniCloud/unicloud-db",
      "name": "unicloud-db组件教程"
    },
    {
      "url": "https://doc.dcloud.net.cn/uni-app-x/component/unicloud-db.html",
      "name": "参见uni-app x相关文档"
    }
  ]
}
