"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.HTMLRevisePLugin=void 0;const HTMLRevisePluginHandle_1=require("./HTMLRevisePluginHandle"),completion_1=require("./completion"),symbols_1=require("./symbols");function create(e,t){const o=e.languageService,n=new completion_1.ReviseCompletion(o);let s=new HTMLRevisePluginHandle_1.TsHtmlExtraCompletionHandle(o);const i=new symbols_1.ReviseSymbols,l=Object.create(null);for(let e of Object.keys(o)){const t=o[e];l[e]=(...e)=>t.apply(o,e)}return l.doCompleteAsync=async function(i,l,r,c){const u=await o.doCompleteAsync(i,l,r,c);let a=n.filterUniappxCompletion(u,e.project,t.target);return a=n.doExtraCompletion(a,i,l,r),a=s.htmlVueComplete(a,i,l,r,e),a},l.findDocumentSymbols=function(e,t){const n=o.findDocumentSymbols(e,t);return i.doExtraSymbols(n,e,t)},l}class HTMLRevisePLugin{constructor(e){this.tsInfo=e}create(e){return create(e,this.tsInfo)}}exports.HTMLRevisePLugin=HTMLRevisePLugin;