"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TsServerFileReferencesPlugin=void 0;const converts_1=require("../base/converts"),lspIndexUtils_1=require("../base/lspIndexUtils");function create(e){const r=e.languageService,t=Object.create(null);for(let e of Object.keys(r)){const s=r[e];t[e]=(...e)=>s.apply(r,e)}return t.getFileReferencesAsync=async function(t){if(!isFileRef(t)){const r=await(0,lspIndexUtils_1.createFileRefDataFromIndex)(e.project,t),s=(0,converts_1.fromLspFileReferences)(e,r);return s||[]}return r.getFileReferencesAsync(t)},t}function isFileRef(e){return!(!e.endsWith("ts")&&!e.endsWith("js"))}exports.TsServerFileReferencesPlugin={create:create};