"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.StyleExtraPluginModule=void 0;const core_1=require("../../../../core"),entry_1=require("./lspExtServer/entry/entry");function create(e,t,r,n){const o=e.styleLanguageServiceList,s=o.keys(),c=t.project,i=t.tsinfo.project.projectService;for(let e of s){const s=o.get(e),a=Object.create(null);for(let e of Object.keys(s)){const t=s[e];a[e]=(...e)=>t.apply(s,e)}a.doCompleteAsync=async function(e,o,a){const l=await s.doCompleteAsync(e,o,a);let y=(0,core_1.cloneDeep)(l);const u=(0,entry_1.getExtraServer)(e),d=(0,entry_1.getDataProviderList)(e,r);return y=await u.doExtraCompletion(c,e,o,a,y,i,d,n,t.target),y},a.doResolve=function(e,t,n,o){let i=s.doResolve(e,t,n,o);const a=(0,entry_1.getExtraServer)(t),l=(0,entry_1.getDataProviderList)(t,r);return i=a.doExtraResolve(c,t,n,e,l),i},a.tsFindDefinitionAsync=async function(e,t,r){const n=await s.tsFindDefinitionAsync(e,t,r);return(0,entry_1.getExtraServer)(e).doExtraDefinitionAsync(c,e,t,r,n)},a.findDocumentSymbols=function(e,t){let r=s.findDocumentSymbols(e,t);return r=(0,entry_1.getExtraServer)(e).doExtraDocumentSymbol(c,r),r},a.tsFindReferencesAsync=async function(e,t,r){const n=await s.tsFindReferencesAsync(e,t,r);return(0,entry_1.getExtraServer)(e).doExtraReferencesAsync(c,e,t,r,n)},a.tsGetFileReferencesAsync=async function(e){return(0,entry_1.getExtraServer)(e).doExtraFileReferencesAsync(c,e)},o.set(e,a)}return o}class StyleExtraPluginModule{constructor(e,t,r){this.tsInfo=e,this.dataProviderList=t,this.tagDataProviders=r}create(e){return create(e,this.tsInfo,this.dataProviderList,this.tagDataProviders)}}exports.StyleExtraPluginModule=StyleExtraPluginModule;