"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TsServerMDPlugin=void 0;const core_1=require("../../core"),markdownScriptCache_1=require("./markdownScriptCache"),markdownMode_1=require("./modes/markdownMode");function isMarkdownFile(n){return(0,core_1.fileEndsWith)(n,[".md",".markdown",".markdn",".mdown","mkd"])}function initialize(n){let t=n.languageServiceHost;const e=t.getScriptVersion.bind(t),o=t.getScriptSnapshot.bind(t),i=t.getScriptFileNames.bind(t);t.getScriptFileNames=function(){let n=[];return n=i().filter((n=>!isMarkdownFile(n))),n};return new markdownScriptCache_1.MarkdownScriptCache(n.ts,{getScriptVersion:e,getScriptSnapshot:o})}function create(n){const t=Object.create(null),e=initialize(n);return t.isEnabled=function(n,t){return isMarkdownFile(n)},t.cleanupSemanticCache=function(){},t.getCompilerOptionsDiagnostics=function(){return[]},t.getSyntacticClassifications=function(n,t){return[]},t.getSemanticClassifications=function(n,t){return[]},t.getEncodedSyntacticClassifications=function(n,t){throw new Error("[Markdown] method not implemented")},t.getEncodedSemanticClassifications=function(n,t,e){throw new Error("[Markdown] method not implemented")},t.getCompletionEntrySymbol=function(n,t,e,o){},t.getNameOrDottedNameSpan=function(n,t,e){},t.getBreakpointStatementAtPosition=function(n,t){},t.getSignatureHelpItems=function(n,t,e){},t.getRenameInfo=function(n,t,e){throw new Error("[Markdown] method not implemented")},t.findRenameLocations=function(n,t,e,o,i){},t.getSmartSelectionRange=function(n,t){throw new Error("[Markdown] method not implemented")},t.getDefinitionAtPosition=function(n,t){},t.getTypeDefinitionAtPosition=function(n,t){},t.getImplementationAtPosition=function(n,t){},t.getReferencesAtPosition=function(n,t){},t.findReferences=function(n,t){},t.getDocumentHighlights=function(n,t,e){},t.getFileReferences=function(n){return[]},t.getNavigateToItems=function(n,t,e,o){return[]},t.getNavigationBarItems=function(n){return[]},t.prepareCallHierarchy=function(n,t){},t.provideCallHierarchyIncomingCalls=function(n,t){return[]},t.provideCallHierarchyOutgoingCalls=function(n,t){return[]},t.provideInlayHints=function(n,t,e){return[]},t.getOutliningSpans=function(n){return[]},t.getTodoComments=function(n,t){return[]},t.getBraceMatchingAtPosition=function(n,t){return[]},t.getIndentationAtPosition=function(n,t,e){throw new Error("[Markdown] method not implemented")},t.getFormattingEditsForRange=function(n,t,e,o){return[]},t.getFormattingEditsForDocument=function(n,t){return[]},t.getFormattingEditsAfterKeystroke=function(n,t,e,o){return[]},t.getDocCommentTemplateAtPosition=function(n,t,e){},t.isValidBraceCompletionAtPosition=function(n,t,e){throw new Error("[Markdown] method not implemented")},t.getJsxClosingTagAtPosition=function(n,t){},t.getSpanOfEnclosingComment=function(n,t,e){},t.getCodeFixesAtPosition=function(n,t,e,o,i,r){return[]},t.getCombinedCodeFix=function(n,t,e,o){throw new Error("[Markdown] method not implemented")},t.getApplicableRefactors=function(n,t,e,o,i){return[]},t.getEditsForRefactor=function(n,t,e,o,i,r){},t.organizeImports=function(n,t,e){return[]},t.getEditsForFileRename=function(n,t,e,o){return[]},t.getEmitOutput=function(n,t,e){throw new Error("[Markdown] method not implemented")},t.getProgram=function(){},t.toggleLineComment=function(n,t){return[]},t.toggleMultilineComment=function(n,t){return[]},t.commentSelection=function(n,t){return[]},t.uncommentSelection=function(n,t){return[]},t.dispose=function(){},t.getCompletionsAtPositionAsync=async function(t,o,i){if(!e.getUpToDateInfo(t))return;return new markdownMode_1.MarkdownMode(n,e).getCompletionsAtPositionAsync(t,o,i)},t.getCompletionEntryDetails=function(n,t,e,o,i,r,c){},t.getQuickInfoAtPositionAsync=async function(n,t){},t.getDefinitionAndBoundSpanAsync=async function(n,t){},t.getNavigationTree=function(t){return{text:"",kind:n.ts.ScriptElementKind.alias,kindModifiers:"",spans:[],nameSpan:void 0}},t.getSyntacticDiagnosticsAsync=async function(n){return[]},t.getSemanticDiagnosticsAsync=async function(n){return[]},t.getSuggestionDiagnosticsAsync=async function(n){return[]},t.toLineColumnOffset=function(n,t){let o=e.getUpToDateInfo(n);if(o){let n=o.markdownDocument.positionAt(t);return{line:n.line,character:n.character}}throw new Error("[Markdown] cacheInfo not found")},t}const TsServerMDPlugin={create:n=>n.languageService,createExtService:n=>create(n)};exports.TsServerMDPlugin=TsServerMDPlugin;