"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.uniCopyPlugin = void 0;
const uni_cli_shared_1 = require("@dcloudio/uni-cli-shared");
function uniCopyPlugin({ outputDir, copyOptions, }) {
    const assets = [uni_cli_shared_1.PUBLIC_DIR + '/**/*', 'uni_modules/*/' + uni_cli_shared_1.PUBLIC_DIR + '/**/*'];
    copyOptions.assets.forEach((asset) => {
        assets.push(asset);
    });
    const targets = [
        {
            src: assets,
            dest: outputDir,
        },
    ];
    targets.push(...copyOptions.targets);
    return (0, uni_cli_shared_1.uniViteCopyPlugin)({
        targets,
        verbose: process.env.DEBUG ? true : false,
    });
}
exports.uniCopyPlugin = uniCopyPlugin;
