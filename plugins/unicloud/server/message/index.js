const{getType:getType}=require("../utils/index"),msgBus=require("./msg-bus"),msgHandler=require("./msg-handler");function msgRouter(e){if("object"!==getType(e)||"string"!==getType(e.action))return;const{action:s,data:n}=e;msgBus.emit(s,n)}function handleMsg(){for(const e in msgHandler){const s=msgHandler[e];msgBus.on(e,(function(e){s(e)}))}process.on("message",(function(e){msgRouter(e)}))}module.exports={handleMsg:handleMsg};