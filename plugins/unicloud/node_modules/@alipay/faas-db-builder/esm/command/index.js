var g=function(e,r,n){if(n||arguments.length===2)for(var t=0,a=r.length,m;t<a;t++){if(m||!(t in r)){if(!m)m=Array.prototype.slice.call(r,0,t);m[t]=r[t]}}return e.concat(m||Array.prototype.slice.call(r))};import{Sort as y}from"../common/constant";import{AbsAggregateCommand as f,AddAggregateCommand as c,AddToSetAggregateCommand as d,AllElementsTrueAggregateCommand as A,AndAggregateCommand as w,AnyElementTrueAggregateCommand as C,ArrayElemAtAggregateCommand as s,ArrayToObjectAggregateCommand as l,AvgAggregateCommand as v,CeilAggregateCommand as S,CMPAggregateCommand as h,ConcatAggregateCommand as O,ConcatArraysAggregateCommand as b,CondAggregateCommand as x,CountAggregateCommand as M,DateFromStringAggregateCommand as P,DateToStringAggregateCommand as I,DivideAggregateCommand as T,EqAggregateCommand as L,ExpAggregateCommand as D,FilterAggregateCommand as E,FirstAggregateCommand as q,FloorAggregateCommand as W,GtAggregateCommand as k,GteAggregateCommand as N,IfNullAggregateCommand as F,InAggregateCommand as G,IndexOfArrayAggregateCommand as j,IndexOfBytesAggregateCommand as B,IndexOfCPAggregateCommand as z,IsArrayAggregateCommand as R,ISOWeekAggregateCommand as U,LastAggregateCommand as Y,LetAggregateCommand as H,LiteralAggregateCommand as Q,LnAggregateCommand as J,Log10AggregateCommand as K,LogAggregateCommand as V,LtAggregateCommand as X,LteAggregateCommand as Z,MapAggregateCommand as $,MaxAggregateCommand as _,MergeObjectsAggregateCommand as rr,MinAggregateCommand as er,ModAggregateCommand as tr,MonthAggregateCommand as nr,MultiplyAggregateCommand as or,NeqAggregateCommand as ar,NotAggregateCommand as mr,ObjectToArrayAggregateCommand as gr,OrAggregateCommand as pr,PowAggregateCommand as ur,PushAggregateCommand as ir,RangeAggregateCommand as yr,ReverseArrayAggregateCommand as fr,ReduceAggregateCommand as cr,SetDifferenceAggregateCommand as dr,SetEqualsAggregateCommand as Ar,SetIntersectionAggregateCommand as wr,SetIsSubsetAggregateCommand as Cr,SetUnionAggregateCommand as sr,SizeAggregateCommand as lr,SliceAggregateCommand as vr,SplitAggregateCommand as Sr,SqrtAggregateCommand as hr,StdDevPopAggregateCommand as Or,StdDevSampAggregateCommand as br,StrcasecmpAggregateCommand as xr,StrLenBytesAggregateCommand as Mr,StrLenCPAggregateCommand as Pr,SubstrAggregateCommand as Ir,SubstrBytesAggregateCommand as Tr,SubstrCPAggregateCommand as Lr,SubtractAggregateCommand as Dr,SumAggregateCommand as Er,SwitchAggregateCommand as qr,ToLowerAggregateCommand as Wr,ToUpperAggregateCommand as kr,TruncAggregateCommand as Nr,WeekAggregateCommand as Fr,YearAggregateCommand as Gr,ZipAggregateCommand as jr,DateFromPartsAggregateCommand as Br,DayOfMonthAggregateCommand as zr,DayOfWeekAggregateCommand as Rr,DayOfYearAggregateCommand as Ur,HourAggregateCommand as Yr,ISODayOfWeekAggregateCommand as Hr,ISOWeekYearAggregateCommand as Qr,MillisecondAggregateCommand as Jr,MinuteAggregateCommand as Kr,SecondAggregateCommand as Vr}from"./aggregate";import{AggregatePipeline as Xr}from"./AggregatePipeline";import{AllCommand as Zr}from"./query/all";import{AndCommand as $r,NorCommand as _r,NotCommand as re,OrCommand as ee}from"./query/logic";import{ElemMatchCommand as te}from"./query/elemMatch";import{EqCommand as ne}from"./query/eq";import{ExistsCommand as oe}from"./query/exists";import{ExprCommand as ae}from"./query/expr";import{GtCommand as me}from"./query/gt";import{GteCommand as ge}from"./query/gte";import{InCommand as pe}from"./query/in";import{LtCommand as ue}from"./query/lt";import{LteCommand as ie}from"./query/lte";import{ModCommand as ye}from"./query/mod";import{NeqCommand as fe}from"./query/neq";import{NinCommand as ce}from"./query/nin";import{QueryChain as o}from"./query/QueryChain";import{SizeCommand as de}from"./query/size";import{AddToSetCommand as Ae}from"./update/addToSet";import{IncCommand as we}from"./update/inc";import{MaxCommand as Ce}from"./update/max";import{MinCommand as se}from"./update/min";import{MulCommand as le}from"./update/mul";import{PopCommand as ve}from"./update/pop";import{PullCommand as Se}from"./update/pull";import{PullAllCommand as he}from"./update/pullAll";import{PushCommand as p}from"./update/push";import{RemoveCommand as Oe}from"./update/remove";import{RenameCommand as be}from"./update/rename";import{SetCommand as xe}from"./update/set";import{GeoIntersectsCommand as Me,GeoNearCommand as Pe,GeoWithinCommand as Ie}from"./query/geo";import{UnShiftCommand as Te}from"./update/unshift";import{ShiftCommand as Le}from"./update/shift";var u=function(){function e(){}e.prototype.pipeline=function(){return new Xr};e.prototype.avg=function(r){return new v(r)};e.prototype.count=function(){return new M};e.prototype.max=function(r){return new _(r)};e.prototype.min=function(r){return new er(r)};e.prototype.sum=function(r){return new Er(r)};e.prototype.and=function(r){var n=[];for(var t=1;t<arguments.length;t++){n[t-1]=arguments[t]}var a=Array.isArray(r)?r:g([r],n,true);return new w(a)};e.prototype.or=function(r){var n=[];for(var t=1;t<arguments.length;t++){n[t-1]=arguments[t]}var a=Array.isArray(r)?r:g([r],n,true);return new pr(a)};e.prototype.not=function(r){return new mr(r)};e.prototype.cmp=function(r,n){var t=Array.isArray(r)?r:[r,n];return new h(t)};e.prototype.eq=function(r,n){var t=Array.isArray(r)?r:[r,n];return new L(t)};e.prototype.neq=function(r,n){var t=Array.isArray(r)?r:[r,n];return new ar(t)};e.prototype.lt=function(r,n){var t=Array.isArray(r)?r:[r,n];return new X(t)};e.prototype.lte=function(r,n){var t=Array.isArray(r)?r:[r,n];return new Z(t)};e.prototype.gt=function(r,n){var t=Array.isArray(r)?r:[r,n];return new k(t)};e.prototype.gte=function(r,n){var t=Array.isArray(r)?r:[r,n];return new N(t)};e.prototype.addToSet=function(r){return new d(r)};e.prototype.arrayElemAt=function(r,n){var t=Array.isArray(r)?r:[r,n];return new s(t)};e.prototype.indexOfArray=function(r,n,t,a){var m=Array.isArray(r)?r:[r,n,t,a].filter(function(i){return i!==void 0});return new j(m)};e.prototype.isArray=function(r){return new R(r)};e.prototype.size=function(r){return new lr(r)};e.prototype.in=function(r,n){var t=Array.isArray(r)?r:[r,n];return new G(t)};e.prototype.slice=function(r,n,t){var a=Array.isArray(r)?r:[r,n,t].filter(function(m){return m!==void 0});return new vr(a)};e.prototype.map=function(r){return new $(r)};e.prototype.ifNull=function(r,n){var t=Array.isArray(r)?r:[r,n];return new F(t)};e.prototype.cond=function(r){return new x(r)};e.prototype.switch=function(r){return new qr(r)};e.prototype.concat=function(r){var n=[];for(var t=1;t<arguments.length;t++){n[t-1]=arguments[t]}var a=Array.isArray(r)?r:g([r],n,true);return new O(a)};e.prototype.dateToString=function(r){return new I(r)};e.prototype.toLower=function(r){return new Wr(r)};e.prototype.toUpper=function(r){return new kr(r)};e.prototype.split=function(r,n){var t=Array.isArray(r)?r:[r,n];return new Sr(t)};e.prototype.substr=function(r,n,t){var a=Array.isArray(r)?r:[r,n,t];return new Ir(a)};e.prototype.substrBytes=function(r,n,t){var a=Array.isArray(r)?r:[r,n,t];return new Tr(a)};e.prototype.first=function(r){return new q(r)};e.prototype.last=function(r){return new Y(r)};e.prototype.push=function(r){return new ir(r)};e.prototype.let=function(r){return new H(r)};e.prototype.add=function(r){var n=[];for(var t=1;t<arguments.length;t++){n[t-1]=arguments[t]}var a=Array.isArray(r)?r:g([r],n,true);return new c(a)};e.prototype.subtract=function(r,n){var t=Array.isArray(r)?r:[r,n];return new Dr(t)};e.prototype.multiply=function(r){var n=[];for(var t=1;t<arguments.length;t++){n[t-1]=arguments[t]}var a=Array.isArray(r)?r:g([r],n,true);return new or(a)};e.prototype.divide=function(r,n){var t=Array.isArray(r)?r:[r,n];return new T(t)};e.prototype.abs=function(r){return new f(r)};e.prototype.ceil=function(r){return new S(r)};e.prototype.exp=function(r){return new D(r)};e.prototype.floor=function(r){return new W(r)};e.prototype.ln=function(r){return new J(r)};e.prototype.log=function(r,n){var t=Array.isArray(r)?r:[r,n];return new V(t)};e.prototype.log10=function(r){return new K(r)};e.prototype.mod=function(r,n){var t=Array.isArray(r)?r:[r,n];return new tr(t)};e.prototype.pow=function(r,n){var t=Array.isArray(r)?r:[r,n];return new ur(t)};e.prototype.sqrt=function(r){return new hr(r)};e.prototype.trunc=function(r){return new Nr(r)};e.prototype.mergeObjects=function(r){return new rr(r)};e.prototype.month=function(r){return new nr(r)};e.prototype.year=function(r){return new Gr(r)};e.prototype.week=function(r){return new Fr(r)};e.prototype.isoWeek=function(r){return new U(r)};e.prototype.arrayToObject=function(r){return new l(r)};e.prototype.concatArrays=function(r){return new b(r)};e.prototype.filter=function(r){return new E(r)};e.prototype.objectToArray=function(r){return new gr(r)};e.prototype.range=function(r,n,t){var a=Array.isArray(r)?r:typeof t!=="undefined"?[r,n,t]:[r,n];return new yr(a)};e.prototype.reduce=function(r){return new cr(r)};e.prototype.reverseArray=function(r){return new fr(r)};e.prototype.zip=function(r){return new jr(r)};e.prototype.dateFromString=function(r){return new P(r)};e.prototype.indexOfBytes=function(r){return new B(r)};e.prototype.indexOfCP=function(r){return new z(r)};e.prototype.strLenBytes=function(r){return new Mr(r)};e.prototype.strLenCP=function(r){return new Pr(r)};e.prototype.strcasecmp=function(r){return new xr(r)};e.prototype.substrCP=function(r){return new Lr(r)};e.prototype.stdDevPop=function(r){return new Or(r)};e.prototype.stdDevSamp=function(r){return new br(r)};e.prototype.allElementsTrue=function(r){return new A(r)};e.prototype.anyElementTrue=function(r){return new C(r)};e.prototype.setDifference=function(r){return new dr(r)};e.prototype.setEquals=function(r){return new Ar(r)};e.prototype.setIntersection=function(r){return new wr(r)};e.prototype.setIsSubset=function(r){return new Cr(r)};e.prototype.setUnion=function(r){return new sr(r)};e.prototype.literal=function(r){return new Q(r)};e.prototype.dateFromParts=function(r){return new Br(r)};e.prototype.dayOfMonth=function(r){return new zr(r)};e.prototype.dayOfWeek=function(r){return new Rr(r)};e.prototype.dayOfYear=function(r){return new Ur(r)};e.prototype.hour=function(r){return new Yr(r)};e.prototype.isoDayOfWeek=function(r){return new Hr(r)};e.prototype.isoWeekYear=function(r){return new Qr(r)};e.prototype.millisecond=function(r){return new Jr(r)};e.prototype.minute=function(r){return new Kr(r)};e.prototype.second=function(r){return new Vr(r)};return e}();export{u as AggregateCommandFactory};var De=function(){function e(){this.aggregate=new u;this.Sort=y}e.prototype.addToSet=function(r){return new Ae(r)};e.prototype.inc=function(r){return new we(r)};e.prototype.max=function(r){return new Ce(r)};e.prototype.min=function(r){return new se(r)};e.prototype.mul=function(r){return new le(r)};e.prototype.pop=function(r){return new ve(r)};e.prototype.pull=function(r){return new Se(r)};e.prototype.pullAll=function(r){return new he(r)};e.prototype.push=function(r){var n=[];for(var t=1;t<arguments.length;t++){n[t-1]=arguments[t]}return new(p.bind.apply(p,g([void 0,r],n,false)))};e.prototype.remove=function(){return new Oe};e.prototype.rename=function(r){return new be(r)};e.prototype.set=function(r){return new xe(r)};e.prototype.expr=function(r){return new ae(r)};e.prototype.geoWithin=function(r){return new Ie(r)};e.prototype.geoNear=function(r){return new Pe(r)};e.prototype.geoIntersects=function(r){return new Me(r)};e.prototype.unshift=function(r){return new Te(r)};e.prototype.shift=function(){return new Le};e.prototype.and=function(){var r=[];for(var n=0;n<arguments.length;n++){r[n]=arguments[n]}r=Array.isArray(r[0])?r[0]:r;var t=new $r(r.map(o.unchain));return new o(t)};e.prototype.or=function(){var r=[];for(var n=0;n<arguments.length;n++){r[n]=arguments[n]}r=Array.isArray(r[0])?r[0]:r;var t=new ee(r.map(o.unchain));return new o(t)};e.prototype.not=function(r){var n=new re(o.unchain(r));return new o(n)};e.prototype.nor=function(){var r=[];for(var n=0;n<arguments.length;n++){r[n]=arguments[n]}r=Array.isArray(r[0])?r[0]:r;var t=new _r(r.map(o.unchain));return new o(t)};e.prototype.eq=function(r){return new o(new ne(r))};e.prototype.neq=function(r){return new o(new fe(r))};e.prototype.lt=function(r){return new o(new ue(r))};e.prototype.lte=function(r){return new o(new ie(r))};e.prototype.gt=function(r){return new o(new me(r))};e.prototype.gte=function(r){return new o(new ge(r))};e.prototype.in=function(r){return new o(new pe(r))};e.prototype.nin=function(r){return new o(new ce(r))};e.prototype.exists=function(r){return new o(new oe(r))};e.prototype.mod=function(r,n){return new o(new ye(r,n))};e.prototype.all=function(r){return new o(new Zr(r))};e.prototype.elemMatch=function(r){return new o(new te(o.unchain(r)))};e.prototype.size=function(r){return new o(new de(r))};return e}();export{De as Command};