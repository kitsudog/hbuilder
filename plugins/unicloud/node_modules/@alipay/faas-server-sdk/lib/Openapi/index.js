"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createOpenapi=exports.createOpenapiCaller=exports.OpenapiCaller=void 0;const snake_case_1=require("snake-case"),constant_1=require("../constant"),errors_1=require("../errors"),caller_1=require("./caller");var caller_2=require("./caller");Object.defineProperty(exports,"OpenapiCaller",{enumerable:!0,get:function(){return caller_2.OpenapiCaller}});function createOpenapiCaller(e){return new caller_1.OpenapiCaller(e)}exports.createOpenapiCaller=createOpenapiCaller;const createOpenapiProxy=(e,t)=>new Proxy(e,{get(a,r){if(typeof r!="string"||r.length>constant_1.MAX_OPENAPI_NAME_LENGTH)throw errors_1.errors.INVALID_PARAM("openapi","\u65B9\u6CD5\u540D\u4E0D\u6B63\u786E");const n=(0,snake_case_1.snakeCase)(r,{delimiter:"."});return{request:s=>t.request(n,s)}}});function createOpenapi(e){const t=createOpenapiCaller({config:e});function a(r){const n=createOpenapiCaller({config:e,version:r?.version,sandbox:r?.sandbox});return createOpenapiProxy({},n)}return createOpenapiProxy(a,t)}exports.createOpenapi=createOpenapi;