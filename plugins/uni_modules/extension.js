!function(e,t){for(var n in t)e[n]=t[n];t.__esModule&&Object.defineProperty(e,"__esModule",{value:!0})}(exports,(()=>{var e={5285:(e,t,n)=>{var r=n(5173),i=r.FileSystem.require(),o=n(5622);i.existsSync=i.existsSync||o.existsSync;var s=n(7396),a=n(6333);/^win/.test(process.platform),e.exports=function(e){var t=void 0,n="";if(e&&"string"==typeof e){if(!i.existsSync(e))throw new Error(r.Errors.INVALID_FILENAME);n=e,t=new a(e,r.Constants.FILE)}else t=e&&Buffer.isBuffer(e)?new a(e,r.Constants.BUFFER):new a(null,r.Constants.NONE);function c(e,t){e=o.resolve(o.normalize(e));for(var n=t.split("/"),r=0,i=n.length;r<i;r++){var s=o.normalize(o.join(e,n.slice(r,i).join(o.sep)));if(0===s.indexOf(e))return s}return o.normalize(o.join(e,o.basename(t)))}function l(e){var n;return e&&t&&("string"==typeof e&&(n=t.getEntry(e)),"object"==typeof e&&void 0!==e.entryName&&void 0!==e.header&&(n=t.getEntry(e.entryName)),n)?n:null}function u(e){return"/"!==(e=e.split("\\").join("/")).charAt(e.length-1)&&(e+="/"),e}return{readFile:function(e,t){var n=l(e);return n&&n.getData(t)||null},readFileAsync:function(e,t){var n=l(e);n?n.getDataAsync(t):t(null,"getEntry failed for:"+e)},readAsText:function(e,t){var n=l(e);if(n){var r=n.getData();if(r&&r.length)return r.toString(t||"utf8")}return""},readAsTextAsync:function(e,t,n){var r=l(e);r?r.getDataAsync((function(e,r){r?t(e,r):e&&e.length?t(e.toString(n||"utf8")):t("")})):t("")},deleteFile:function(e){var n=l(e);n&&t.deleteEntry(n.entryName)},addZipComment:function(e){t.comment=e},getZipComment:function(){return t.comment||""},addZipEntryComment:function(e,t){var n=l(e);n&&(n.comment=t)},getZipEntryComment:function(e){var t=l(e);return t&&t.comment||""},updateFile:function(e,t){var n=l(e);n&&n.setData(t)},addLocalFile:function(e,t,n,o){if(!i.existsSync(e))throw new Error(r.Errors.FILE_NOT_FOUND.replace("%s",e));{t=t?u(t):"";var s=e.split("\\").join("/").split("/").pop();t+=n||s;const r=i.statSync(e);this.addFile(t,i.readFileSync(e),o,r)}},addLocalFolder:function(e,t,n){var s;if(n instanceof RegExp?(s=n,n=function(e){return s.test(e)}):"function"!=typeof n&&(n=function(){return!0}),t=t?u(t):"",e=o.normalize(e),!i.existsSync(e))throw new Error(r.Errors.FILE_NOT_FOUND.replace("%s",e));var a=r.findFiles(e),c=this;a.length&&a.forEach((function(r){var s=o.relative(e,r).split("\\").join("/");n(s)&&(r.charAt(r.length-1)!==o.sep?c.addFile(t+s,i.readFileSync(r),"",i.statSync(r)):c.addFile(t+s+"/",Buffer.alloc(0),"",0))}))},addLocalFolderAsync:function(e,t,n,s){void 0===s?s=function(){return!0}:s instanceof RegExp&&(s=function(e){return function(t){return e.test(t)}}(s)),n?"/"!==(n=n.split("\\").join("/")).charAt(n.length-1)&&(n+="/"):n="","/"!==(e=(e=o.normalize(e)).split("\\").join("/")).charAt(e.length-1)&&(e+="/");var a=this;i.open(e,"r",(function(o,c){if(o&&"ENOENT"===o.code)t(void 0,r.Errors.FILE_NOT_FOUND.replace("%s",e));else if(o)t(void 0,o);else{var l=r.findFiles(e),u=-1,d=function(){if((u+=1)<l.length){var r=l[u].split("\\").join("/").replace(new RegExp(e.replace(/(\(|\))/g,"\\$1"),"i"),"");r=r.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\x20-\x7E]/g,""),s(r)?"/"!==r.charAt(r.length-1)?i.readFile(l[u],(function(e,i){e?t(void 0,e):(a.addFile(n+r,i,"",0),d())})):(a.addFile(n+r,Buffer.alloc(0),"",0),d()):d()}else t(!0,void 0)};d()}}))},addFile:function(e,n,r,o){var a=new s;a.entryName=e,a.comment=r||"";var c="object"==typeof o&&o instanceof i.Stats;c&&(a.header.time=o.mtime);var l=a.isDirectory?16:0;if("win32"!==process.platform){var u=a.isDirectory?16384:32768;l=(l|(u|=c?4095&o.mode:"number"==typeof o?4095&o:a.isDirectory?493:420)<<16)>>>0}a.attr=l,a.setData(n),t.setEntry(a)},getEntries:function(){return t?t.entries:[]},getEntry:function(e){return l(e)},getEntryCount:function(){return t.getEntryCount()},forEach:function(e){return t.forEach(e)},extractEntryTo:function(e,n,s,a,u){a=a||!1,s=void 0===s||s;var d=l(e);if(!d)throw new Error(r.Errors.NO_ENTRY);var f=d.entryName,p=c(n,u&&!d.isDirectory?u:s?f:o.basename(f));if(d.isDirectory)return p=o.resolve(p,".."),t.getEntryChildren(d).forEach((function(e){if(!e.isDirectory){var t=e.getData();if(!t)throw new Error(r.Errors.CANT_EXTRACT_FILE);var i=c(n,s?e.entryName:o.basename(e.entryName));r.writeFileTo(i,t,a)}})),!0;var h=d.getData();if(!h)throw new Error(r.Errors.CANT_EXTRACT_FILE);if(i.existsSync(p)&&!a)throw new Error(r.Errors.CANT_OVERRIDE);return r.writeFileTo(p,h,a),!0},test:function(e){if(!t)return!1;for(var n in t.entries)try{if(n.isDirectory)continue;if(!t.entries[n].getData(e))return!1}catch(e){return!1}return!0},extractAllTo:function(e,n,o){if(n=n||!1,!t)throw new Error(r.Errors.NO_ZIP);t.entries.forEach((function(t){var s=c(e,t.entryName.toString());if(t.isDirectory)r.makeDir(s);else{var a=t.getData(o);if(!a)throw new Error(r.Errors.CANT_EXTRACT_FILE);r.writeFileTo(s,a,n);try{i.utimesSync(s,t.header.time,t.header.time)}catch(e){throw new Error(r.Errors.CANT_EXTRACT_FILE)}}}))},extractAllToAsync:function(e,n,s){if(s||(s=function(){}),n=n||!1,t){var a=t.entries,l=a.length;a.forEach((function(t){if(!(l<=0)){var a=o.normalize(t.entryName.toString());if(t.isDirectory)return r.makeDir(c(e,a)),void(0==--l&&s(void 0));t.getDataAsync((function(u,d){if(!(l<=0)){if(!d)return u?void r.writeFileToAsync(c(e,a),u,n,(function(n){try{i.utimesSync(o.resolve(e,a),t.header.time,t.header.time)}catch(e){s(new Error("Unable to set utimes"))}if(!(l<=0))return n?void(0==--l&&s(void 0)):(l=0,void s(new Error("Unable to write")))})):(l=0,void s(new Error(r.Errors.CANT_EXTRACT_FILE)));s(new Error(d))}}))}}))}else s(new Error(r.Errors.NO_ZIP))},writeZip:function(e,i){if(1===arguments.length&&"function"==typeof e&&(i=e,e=""),!e&&n&&(e=n),e){var o=t.compressToBuffer();if(o){var s=r.writeFileTo(e,o,!0);"function"==typeof i&&i(s?null:new Error("failed"),"")}}},toBuffer:function(e,n,r,i){return this.valueOf=2,"function"==typeof e?(t.toAsyncBuffer(e,n,r,i),null):t.compressToBuffer()}}}},2907:(e,t,n)=>{var r=n(5173),i=r.Constants;e.exports=function(){var e=20,t=10,n=0,o=0,s=0,a=0,c=0,l=0,u=0,d=0,f=0,p=0,h=0,m=0,g=0;switch(process.platform){case"win32":e|=2560;case"darwin":e|=4864;default:e|=768}var y={};function v(e){e=new Date(e),s=(e.getFullYear()-1980&127)<<25|e.getMonth()+1<<21|e.getDate()<<16|e.getHours()<<11|e.getMinutes()<<5|e.getSeconds()>>1}return v(+new Date),{get made(){return e},set made(t){e=t},get version(){return t},set version(e){t=e},get flags(){return n},set flags(e){n=e},get method(){return o},set method(e){switch(e){case i.STORED:this.version=10;case i.DEFLATED:default:this.version=20}o=e},get time(){return new Date(1980+(s>>25&127),(s>>21&15)-1,s>>16&31,s>>11&31,s>>5&63,(31&s)<<1)},set time(e){v(e)},get crc(){return a},set crc(e){a=e},get compressedSize(){return c},set compressedSize(e){c=e},get size(){return l},set size(e){l=e},get fileNameLength(){return u},set fileNameLength(e){u=e},get extraLength(){return d},set extraLength(e){d=e},get commentLength(){return f},set commentLength(e){f=e},get diskNumStart(){return p},set diskNumStart(e){p=e},get inAttr(){return h},set inAttr(e){h=e},get attr(){return m},set attr(e){m=e},get offset(){return g},set offset(e){g=e},get encripted(){return 1==(1&n)},get entryHeaderSize(){return i.CENHDR+u+d+f},get realDataOffset(){return g+i.LOCHDR+y.fnameLen+y.extraLen},get dataHeader(){return y},loadDataHeaderFromBinary:function(e){var t=e.slice(g,g+i.LOCHDR);if(t.readUInt32LE(0)!==i.LOCSIG)throw new Error(r.Errors.INVALID_LOC);y={version:t.readUInt16LE(i.LOCVER),flags:t.readUInt16LE(i.LOCFLG),method:t.readUInt16LE(i.LOCHOW),time:t.readUInt32LE(i.LOCTIM),crc:t.readUInt32LE(i.LOCCRC),compressedSize:t.readUInt32LE(i.LOCSIZ),size:t.readUInt32LE(i.LOCLEN),fnameLen:t.readUInt16LE(i.LOCNAM),extraLen:t.readUInt16LE(i.LOCEXT)}},loadFromBinary:function(y){if(y.length!==i.CENHDR||y.readUInt32LE(0)!==i.CENSIG)throw new Error(r.Errors.INVALID_CEN);e=y.readUInt16LE(i.CENVEM),t=y.readUInt16LE(i.CENVER),n=y.readUInt16LE(i.CENFLG),o=y.readUInt16LE(i.CENHOW),s=y.readUInt32LE(i.CENTIM),a=y.readUInt32LE(i.CENCRC),c=y.readUInt32LE(i.CENSIZ),l=y.readUInt32LE(i.CENLEN),u=y.readUInt16LE(i.CENNAM),d=y.readUInt16LE(i.CENEXT),f=y.readUInt16LE(i.CENCOM),p=y.readUInt16LE(i.CENDSK),h=y.readUInt16LE(i.CENATT),m=y.readUInt32LE(i.CENATX),g=y.readUInt32LE(i.CENOFF)},dataHeaderToBinary:function(){var e=Buffer.alloc(i.LOCHDR);return e.writeUInt32LE(i.LOCSIG,0),e.writeUInt16LE(t,i.LOCVER),e.writeUInt16LE(n,i.LOCFLG),e.writeUInt16LE(o,i.LOCHOW),e.writeUInt32LE(s,i.LOCTIM),e.writeUInt32LE(a,i.LOCCRC),e.writeUInt32LE(c,i.LOCSIZ),e.writeUInt32LE(l,i.LOCLEN),e.writeUInt16LE(u,i.LOCNAM),e.writeUInt16LE(d,i.LOCEXT),e},entryHeaderToBinary:function(){var r=Buffer.alloc(i.CENHDR+u+d+f);return r.writeUInt32LE(i.CENSIG,0),r.writeUInt16LE(e,i.CENVEM),r.writeUInt16LE(t,i.CENVER),r.writeUInt16LE(n,i.CENFLG),r.writeUInt16LE(o,i.CENHOW),r.writeUInt32LE(s,i.CENTIM),r.writeUInt32LE(a,i.CENCRC),r.writeUInt32LE(c,i.CENSIZ),r.writeUInt32LE(l,i.CENLEN),r.writeUInt16LE(u,i.CENNAM),r.writeUInt16LE(d,i.CENEXT),r.writeUInt16LE(f,i.CENCOM),r.writeUInt16LE(p,i.CENDSK),r.writeUInt16LE(h,i.CENATT),r.writeUInt32LE(m,i.CENATX),r.writeUInt32LE(g,i.CENOFF),r.fill(0,i.CENHDR),r},toString:function(){return'{\n\t"made" : '+e+',\n\t"version" : '+t+',\n\t"flags" : '+n+',\n\t"method" : '+r.methodToString(o)+',\n\t"time" : '+this.time+',\n\t"crc" : 0x'+a.toString(16).toUpperCase()+',\n\t"compressedSize" : '+c+' bytes,\n\t"size" : '+l+' bytes,\n\t"fileNameLength" : '+u+',\n\t"extraLength" : '+d+' bytes,\n\t"commentLength" : '+f+' bytes,\n\t"diskNumStart" : '+p+',\n\t"inAttr" : '+h+',\n\t"attr" : '+m+',\n\t"offset" : '+g+',\n\t"entryHeaderSize" : '+(i.CENHDR+u+d+f)+" bytes\n}"}}}},3854:(e,t,n)=>{t.EntryHeader=n(2907),t.MainHeader=n(3519)},3519:(e,t,n)=>{var r=n(5173),i=r.Constants;e.exports=function(){var e=0,t=0,n=0,o=0,s=0;return{get diskEntries(){return e},set diskEntries(n){e=t=n},get totalEntries(){return t},set totalEntries(n){t=e=n},get size(){return n},set size(e){n=e},get offset(){return o},set offset(e){o=e},get commentLength(){return s},set commentLength(e){s=e},get mainHeaderSize(){return i.ENDHDR+s},loadFromBinary:function(a){if((a.length!==i.ENDHDR||a.readUInt32LE(0)!==i.ENDSIG)&&(a.length<i.ZIP64HDR||a.readUInt32LE(0)!==i.ZIP64SIG))throw new Error(r.Errors.INVALID_END);a.readUInt32LE(0)===i.ENDSIG?(e=a.readUInt16LE(i.ENDSUB),t=a.readUInt16LE(i.ENDTOT),n=a.readUInt32LE(i.ENDSIZ),o=a.readUInt32LE(i.ENDOFF),s=a.readUInt16LE(i.ENDCOM)):(e=r.readBigUInt64LE(a,i.ZIP64SUB),t=r.readBigUInt64LE(a,i.ZIP64TOT),n=r.readBigUInt64LE(a,i.ZIP64SIZ),o=r.readBigUInt64LE(a,i.ZIP64OFF),s=0)},toBinary:function(){var r=Buffer.alloc(i.ENDHDR+s);return r.writeUInt32LE(i.ENDSIG,0),r.writeUInt32LE(0,4),r.writeUInt16LE(e,i.ENDSUB),r.writeUInt16LE(t,i.ENDTOT),r.writeUInt32LE(n,i.ENDSIZ),r.writeUInt32LE(o,i.ENDOFF),r.writeUInt16LE(s,i.ENDCOM),r.fill(" ",i.ENDHDR),r},toString:function(){return'{\n\t"diskEntries" : '+e+',\n\t"totalEntries" : '+t+',\n\t"size" : '+n+' bytes,\n\t"offset" : 0x'+o.toString(16).toUpperCase()+',\n\t"commentLength" : 0x'+s+"\n}"}}}},753:(e,t,n)=>{e.exports=function(e){var t=n(8761),r={chunkSize:1024*(parseInt(e.length/1024)+1)};return{deflate:function(){return t.deflateRawSync(e,r)},deflateAsync:function(n){var i=t.createDeflateRaw(r),o=[],s=0;i.on("data",(function(e){o.push(e),s+=e.length})),i.on("end",(function(){var e=Buffer.alloc(s),t=0;e.fill(0);for(var r=0;r<o.length;r++){var i=o[r];i.copy(e,t),t+=i.length}n&&n(e)})),i.end(e)}}}},1004:(e,t,n)=>{t.Deflater=n(753),t.Inflater=n(1269),t.ZipCrypto=n(4729)},1269:(e,t,n)=>{e.exports=function(e){var t=n(8761);return{inflate:function(){return t.inflateRawSync(e)},inflateAsync:function(n){var r=t.createInflateRaw(),i=[],o=0;r.on("data",(function(e){i.push(e),o+=e.length})),r.on("end",(function(){var e=Buffer.alloc(o),t=0;e.fill(0);for(var r=0;r<i.length;r++){var s=i[r];s.copy(e,t),t+=s.length}n&&n(e)})),r.end(e)}}}},4729:e=>{const t=new Uint32Array(256).map(((e,t)=>{for(let e=0;e<8;e++)0!=(1&t)?t=t>>>1^3988292384:t>>>=1;return t>>>0}));e.exports={decrypt:function(e,n,r){if(!e||!Buffer.isBuffer(e)||e.length<12)return Buffer.alloc(0);const i=function(e){const n=(e,t)=>Math.imul(e,t)>>>0,r=new Uint32Array([305419896,591751049,878082192]),i=(e,n)=>t[255&(e^n)]^e>>>8,o=e=>{r[0]=i(r[0],e),r[1]+=255&r[0],r[1]=n(r[1],134775813)+1,r[2]=i(r[2],r[1]>>>24)},s=Buffer.isBuffer(e)?e:Buffer.from(e);for(let e=0;e<s.length;e++)o(s[e]);return function(e){if(!Buffer.isBuffer(e))throw"decrypter needs Buffer";const t=Buffer.alloc(e.length);let i=0;for(let s of e){const e=(2|r[2])>>>0;s^=n(e,1^e)>>8&255,t[i++]=s,o(s)}return t}}(r);if(n.crc>>>24!==i(e.slice(0,12))[11])throw"ADM-ZIP: Wrong Password";return i(e.slice(12))}}},5991:e=>{e.exports={LOCHDR:30,LOCSIG:67324752,LOCVER:4,LOCFLG:6,LOCHOW:8,LOCTIM:10,LOCCRC:14,LOCSIZ:18,LOCLEN:22,LOCNAM:26,LOCEXT:28,EXTSIG:134695760,EXTHDR:16,EXTCRC:4,EXTSIZ:8,EXTLEN:12,CENHDR:46,CENSIG:33639248,CENVEM:4,CENVER:6,CENFLG:8,CENHOW:10,CENTIM:12,CENCRC:16,CENSIZ:20,CENLEN:24,CENNAM:28,CENEXT:30,CENCOM:32,CENDSK:34,CENATT:36,CENATX:38,CENOFF:42,ENDHDR:22,ENDSIG:101010256,ENDSUB:8,ENDTOT:10,ENDSIZ:12,ENDOFF:16,ENDCOM:20,END64HDR:20,END64SIG:117853008,END64START:4,END64OFF:8,END64NUMDISKS:16,ZIP64SIG:101075792,ZIP64HDR:56,ZIP64LEAD:12,ZIP64SIZE:4,ZIP64VEM:12,ZIP64VER:14,ZIP64DSK:16,ZIP64DSKDIR:20,ZIP64SUB:24,ZIP64TOT:32,ZIP64SIZB:40,ZIP64OFF:48,ZIP64EXTRA:56,STORED:0,SHRUNK:1,REDUCED1:2,REDUCED2:3,REDUCED3:4,REDUCED4:5,IMPLODED:6,DEFLATED:8,ENHANCED_DEFLATED:9,PKWARE:10,BZIP2:12,LZMA:14,IBM_TERSE:18,IBM_LZ77:19,FLG_ENC:0,FLG_COMP1:1,FLG_COMP2:2,FLG_DESC:4,FLG_ENH:8,FLG_STR:16,FLG_LNG:1024,FLG_MSK:4096,FILE:0,BUFFER:1,NONE:2,EF_ID:0,EF_SIZE:2,ID_ZIP64:1,ID_AVINFO:7,ID_PFS:8,ID_OS2:9,ID_NTFS:10,ID_OPENVMS:12,ID_UNIX:13,ID_FORK:14,ID_PATCH:15,ID_X509_PKCS7:20,ID_X509_CERTID_F:21,ID_X509_CERTID_C:22,ID_STRONGENC:23,ID_RECORD_MGT:24,ID_X509_PKCS7_RL:25,ID_IBM1:101,ID_IBM2:102,ID_POSZIP:18064,EF_ZIP64_OR_32:4294967295,EF_ZIP64_OR_16:65535,EF_ZIP64_SUNCOMP:0,EF_ZIP64_SCOMP:8,EF_ZIP64_RHO:16,EF_ZIP64_DSN:24}},2190:e=>{e.exports={INVALID_LOC:"Invalid LOC header (bad signature)",INVALID_CEN:"Invalid CEN header (bad signature)",INVALID_END:"Invalid END header (bad signature)",NO_DATA:"Nothing to decompress",BAD_CRC:"CRC32 checksum failed",FILE_IN_THE_WAY:"There is a file in the way: %s",UNKNOWN_METHOD:"Invalid/unsupported compression method",AVAIL_DATA:"inflate::Available inflate data did not terminate",INVALID_DISTANCE:"inflate::Invalid literal/length or distance code in fixed or dynamic block",TO_MANY_CODES:"inflate::Dynamic block code description: too many length or distance codes",INVALID_REPEAT_LEN:"inflate::Dynamic block code description: repeat more than specified lengths",INVALID_REPEAT_FIRST:"inflate::Dynamic block code description: repeat lengths with no first length",INCOMPLETE_CODES:"inflate::Dynamic block code description: code lengths codes incomplete",INVALID_DYN_DISTANCE:"inflate::Dynamic block code description: invalid distance code lengths",INVALID_CODES_LEN:"inflate::Dynamic block code description: invalid literal/length code lengths",INVALID_STORE_BLOCK:"inflate::Stored block length did not match one's complement",INVALID_BLOCK_TYPE:"inflate::Invalid block type (type == 3)",CANT_EXTRACT_FILE:"Could not extract the file",CANT_OVERRIDE:"Target file already exists",NO_ZIP:"No zip file was loaded",NO_ENTRY:"Entry doesn't exist",DIRECTORY_CONTENT_ERROR:"A directory cannot have content",FILE_NOT_FOUND:"File not found: %s",NOT_IMPLEMENTED:"Not implemented",INVALID_FILENAME:"Invalid filename",INVALID_FORMAT:"Invalid or unsupported zip format. No END header found"}},3455:(e,t,n)=>{var r=n(5147).require(),i=n(5622);r.existsSync=r.existsSync||i.existsSync,e.exports=function(e){var t=e||"",n={directory:!1,readonly:!1,hidden:!1,executable:!1,mtime:0,atime:0},o=null;return t&&r.existsSync(t)?(o=r.statSync(t),n.directory=o.isDirectory(),n.mtime=o.mtime,n.atime=o.atime,n.executable=0!=(73&o.mode),n.readonly=0==(128&o.mode),n.hidden="."===i.basename(t)[0]):console.warn("Invalid path: "+t),{get directory(){return n.directory},get readOnly(){return n.readonly},get hidden(){return n.hidden},get mtime(){return n.mtime},get atime(){return n.atime},get executable(){return n.executable},decodeAttributes:function(e){},encodeAttributes:function(e){},toString:function(){return'{\n\t"path" : "'+t+',\n\t"isDirectory" : '+n.directory+',\n\t"isReadOnly" : '+n.readonly+',\n\t"isHidden" : '+n.hidden+',\n\t"isExecutable" : '+n.executable+',\n\t"mTime" : '+n.mtime+'\n\t"aTime" : '+n.atime+"\n}"}}}},5147:(e,t,n)=>{t.require=function(){var e=n(5747);if(process&&process.versions&&process.versions.electron)try{originalFs=n(503),Object.keys(originalFs).length>0&&(e=originalFs)}catch(e){}return e}},5173:(e,t,n)=>{e.exports=n(7646),e.exports.FileSystem=n(5147),e.exports.Constants=n(5991),e.exports.Errors=n(2190),e.exports.FileAttr=n(3455)},7646:(e,t,n)=>{var r=n(5147).require(),i=n(5622);r.existsSync=r.existsSync||i.existsSync,e.exports=function(){var e=[],t=n(5991),o=n(2190),s=i.sep;function a(e){var t=e.split(s)[0];e.split(s).forEach((function(e){if(e&&":"!==e.substr(-1,1)){var n;t+=s+e;try{n=r.statSync(t)}catch(e){r.mkdirSync(t)}if(n&&n.isFile())throw o.FILE_IN_THE_WAY.replace("%s",t)}}))}function c(e,t,n){"boolean"==typeof t&&(n=t,t=void 0);var o=[];return r.readdirSync(e).forEach((function(a){var l=i.join(e,a);r.statSync(l).isDirectory()&&n&&(o=o.concat(c(l,t,n))),t&&!t.test(l)||o.push(i.normalize(l)+(r.statSync(l).isDirectory()?s:""))})),o}return{makeDir:function(e){a(e)},crc32:function(t){"string"==typeof t&&(t=Buffer.alloc(t.length,t));var n=Buffer.alloc(4);if(!e.length)for(var r=0;r<256;r++){for(var i=r,o=8;--o>=0;)0!=(1&i)?i=3988292384^i>>>1:i>>>=1;i<0&&(n.writeInt32LE(i,0),i=n.readUInt32LE(0)),e[r]=i}for(var s=0,a=0,c=t.length,l=~s;--c>=0;)l=e[255&(l^t[a++])]^l>>>8;return s=~l,n.writeInt32LE(4294967295&s,0),n.readUInt32LE(0)},methodToString:function(e){switch(e){case t.STORED:return"STORED ("+e+")";case t.DEFLATED:return"DEFLATED ("+e+")";default:return"UNSUPPORTED ("+e+")"}},writeFileTo:function(e,t,n,o){if(r.existsSync(e)){if(!n)return!1;if(r.statSync(e).isDirectory())return!1}var s,c=i.dirname(e);r.existsSync(c)||a(c);try{s=r.openSync(e,"w",438)}catch(t){r.chmodSync(e,438),s=r.openSync(e,"w",438)}if(s)try{r.writeSync(s,t,0,t.length,0)}catch(e){throw e}finally{r.closeSync(s)}return r.chmodSync(e,o||438),!0},writeFileToAsync:function(e,t,n,o,s){"function"==typeof o&&(s=o,o=void 0),r.exists(e,(function(c){if(c&&!n)return s(!1);r.stat(e,(function(n,l){if(c&&l.isDirectory())return s(!1);var u=i.dirname(e);r.exists(u,(function(n){n||a(u),r.open(e,"w",438,(function(n,i){n?r.chmod(e,438,(function(){r.open(e,"w",438,(function(n,i){r.write(i,t,0,t.length,0,(function(){r.close(i,(function(){r.chmod(e,o||438,(function(){s(!0)}))}))}))}))})):i?r.write(i,t,0,t.length,0,(function(){r.close(i,(function(){r.chmod(e,o||438,(function(){s(!0)}))}))})):r.chmod(e,o||438,(function(){s(!0)}))}))}))}))}))},findFiles:function(e){return c(e,!0)},getAttributes:function(e){},setAttributes:function(e){},toBuffer:function(e){return Buffer.isBuffer(e)?e:0===e.length?Buffer.alloc(0):Buffer.from(e,"utf8")},readBigUInt64LE:function(e,t){var n=Buffer.from(e.slice(t,t+8));return n.swap64(),parseInt(`0x${n.toString("hex")}`)},Constants:t,Errors:o}}()},7396:(e,t,n)=>{var r=n(5173),i=n(3854),o=r.Constants,s=n(1004);e.exports=function(e){var t=new i.EntryHeader,n=Buffer.alloc(0),a=Buffer.alloc(0),c=!1,l=null,u=Buffer.alloc(0);function d(){return e&&Buffer.isBuffer(e)?(t.loadDataHeaderFromBinary(e),e.slice(t.realDataOffset,t.realDataOffset+t.compressedSize)):Buffer.alloc(0)}function f(e){return 8==(8&t.flags)||r.crc32(e)===t.dataHeader.crc}function p(e,i,o){if(void 0===i&&"string"==typeof e&&(o=e,e=void 0),c)return e&&i&&i(Buffer.alloc(0),r.Errors.DIRECTORY_CONTENT_ERROR),Buffer.alloc(0);var a=d();if(0===a.length)return e&&i&&i(a),a;if(t.encripted){if("string"!=typeof o&&!Buffer.isBuffer(o))throw new Error("ADM-ZIP: Incompatible password parameter");a=s.ZipCrypto.decrypt(a,t,o)}var l=Buffer.alloc(t.size);switch(t.method){case r.Constants.STORED:if(a.copy(l),f(l))return e&&i&&i(l),l;throw e&&i&&i(l,r.Errors.BAD_CRC),new Error(r.Errors.BAD_CRC);case r.Constants.DEFLATED:var u=new s.Inflater(a);if(!e){if(u.inflate(l).copy(l,0),!f(l))throw new Error(r.Errors.BAD_CRC+" "+n.toString());return l}u.inflateAsync((function(e){e.copy(l,0),f(l)?i&&i(l):i&&i(l,r.Errors.BAD_CRC)}));break;default:throw e&&i&&i(Buffer.alloc(0),r.Errors.UNKNOWN_METHOD),new Error(r.Errors.UNKNOWN_METHOD)}}function h(n,i){if((!l||!l.length)&&Buffer.isBuffer(e))return n&&i&&i(d()),d();if(l.length&&!c){var o;switch(t.method){case r.Constants.STORED:return t.compressedSize=t.size,o=Buffer.alloc(l.length),l.copy(o),n&&i&&i(o),o;default:case r.Constants.DEFLATED:var a=new s.Deflater(l);if(!n){var u=a.deflate();return t.compressedSize=u.length,u}a.deflateAsync((function(e){o=Buffer.alloc(e.length),t.compressedSize=e.length,e.copy(o),i&&i(o)})),a=null}}else{if(!n||!i)return Buffer.alloc(0);i(Buffer.alloc(0))}}function m(e,t){return(e.readUInt32LE(t+4)<<4)+e.readUInt32LE(t)}function g(e){var n,r,i,s;e.length>=o.EF_ZIP64_SCOMP&&(n=m(e,o.EF_ZIP64_SUNCOMP),t.size===o.EF_ZIP64_OR_32&&(t.size=n)),e.length>=o.EF_ZIP64_RHO&&(r=m(e,o.EF_ZIP64_SCOMP),t.compressedSize===o.EF_ZIP64_OR_32&&(t.compressedSize=r)),e.length>=o.EF_ZIP64_DSN&&(i=m(e,o.EF_ZIP64_RHO),t.offset===o.EF_ZIP64_OR_32&&(t.offset=i)),e.length>=o.EF_ZIP64_DSN+4&&(s=e.readUInt32LE(o.EF_ZIP64_DSN),t.diskNumStart===o.EF_ZIP64_OR_16&&(t.diskNumStart=s))}return{get entryName(){return n.toString()},get rawEntryName(){return n},set entryName(e){var i=(n=r.toBuffer(e))[n.length-1];c=47===i||92===i,t.fileNameLength=n.length},get extra(){return u},set extra(e){u=e,t.extraLength=e.length,function(e){for(var t,n,r,i=0;i<e.length;)t=e.readUInt16LE(i),i+=2,n=e.readUInt16LE(i),i+=2,r=e.slice(i,i+n),i+=n,o.ID_ZIP64===t&&g(r)}(e)},get comment(){return a.toString()},set comment(e){a=r.toBuffer(e),t.commentLength=a.length},get name(){var e=n.toString();return c?e.substr(e.length-1).split("/").pop():e.split("/").pop()},get isDirectory(){return c},getCompressedData:function(){return h(!1,null)},getCompressedDataAsync:function(e){h(!0,e)},setData:function(e){l=r.toBuffer(e),!c&&l.length?(t.size=l.length,t.method=r.Constants.DEFLATED,t.crc=r.crc32(e),t.changed=!0):t.method=r.Constants.STORED},getData:function(e){return t.changed?l:p(!1,null,e)},getDataAsync:function(e,n){t.changed?e(l):p(!0,e,n)},set attr(e){t.attr=e},get attr(){return t.attr},set header(e){t.loadFromBinary(e)},get header(){return t},packHeader:function(){var e=t.entryHeaderToBinary();return n.copy(e,r.Constants.CENHDR),t.extraLength&&u.copy(e,r.Constants.CENHDR+n.length),t.commentLength&&a.copy(e,r.Constants.CENHDR+n.length+t.extraLength,a.length),e},toString:function(){return'{\n\t"entryName" : "'+n.toString()+'",\n\t"name" : "'+(c?n.toString().replace(/\/$/,"").split("/").pop():n.toString().split("/").pop())+'",\n\t"comment" : "'+a.toString()+'",\n\t"isDirectory" : '+c+',\n\t"header" : '+t.toString().replace(/\t/gm,"\t\t").replace(/}/gm,"\t}")+',\n\t"compressedData" : <'+(e&&e.length+" bytes buffer"||"null")+'>\n\t"data" : <'+(l&&l.length+" bytes buffer"||"null")+">\n}"}}}},6333:(e,t,n)=>{var r=n(7396),i=n(3854),o=n(5173);e.exports=function(e,t){var n=[],s={},a=Buffer.alloc(0),c="",l=o.FileSystem.require(),u=null,d=new i.MainHeader,f=!1;function p(){f=!0,s={},n=new Array(d.diskEntries);for(var e=d.offset,t=0;t<n.length;t++){var i=e,a=new r(u);a.header=u.slice(i,i+=o.Constants.CENHDR),a.entryName=u.slice(i,i+=a.header.fileNameLength),a.header.extraLength&&(a.extra=u.slice(i,i+=a.header.extraLength)),a.header.commentLength&&(a.comment=u.slice(i,i+a.header.commentLength)),e+=a.header.entryHeaderSize,n[t]=a,s[a.entryName]=a}}function h(){for(var e=u.length-o.Constants.ENDHDR,t=Math.max(0,e-65535),n=t,r=u.length,i=-1,s=0;e>=n;e--)if(80===u[e])if(u.readUInt32LE(e)!==o.Constants.ENDSIG)if(u.readUInt32LE(e)!==o.Constants.END64SIG){if(u.readUInt32LE(e)==o.Constants.ZIP64SIG){i=e,r=e+o.readBigUInt64LE(u,e+o.Constants.ZIP64SIZE)+o.Constants.ZIP64LEAD;break}}else n=t;else i=e,s=e,r=e+o.Constants.ENDHDR,n=e-o.Constants.END64HDR;if(!~i)throw new Error(o.Errors.INVALID_FORMAT);d.loadFromBinary(u.slice(i,r)),d.commentLength&&(a=u.slice(s+o.Constants.ENDHDR))}return t===o.Constants.FILE?(c=e,u=l.readFileSync(c),h()):t===o.Constants.BUFFER?(u=e,h()):f=!0,{get entries(){return f||p(),n},get comment(){return a.toString()},set comment(e){a=o.toBuffer(e),d.commentLength=a.length},getEntryCount:function(){return f?n.length:d.diskEntries},forEach:function(e){f?n.forEach(e):function(e){const t=d.diskEntries;let n=d.offset;for(let i=0;i<t;i++){let t=n;const i=new r(u);i.header=u.slice(t,t+=o.Constants.CENHDR),i.entryName=u.slice(t,t+=i.header.fileNameLength),n+=i.header.entryHeaderSize,e(i)}}(e)},getEntry:function(e){return f||p(),s[e]||null},setEntry:function(e){f||p(),n.push(e),s[e.entryName]=e,d.totalEntries=n.length},deleteEntry:function(e){f||p();var t=s[e];if(t&&t.isDirectory){var r=this;this.getEntryChildren(t).forEach((function(t){t.entryName!==e&&r.deleteEntry(t.entryName)}))}n.splice(n.indexOf(t),1),delete s[e],d.totalEntries=n.length},getEntryChildren:function(e){if(f||p(),e.isDirectory){var t=[],r=e.entryName,i=r.length;return n.forEach((function(e){e.entryName.substr(0,i)===r&&t.push(e)})),t}return[]},compressToBuffer:function(){f||p(),n.length>1&&n.sort((function(e,t){var n=e.entryName.toLowerCase(),r=t.entryName.toLowerCase();return n<r?-1:n>r?1:0}));var e=0,t=[],r=[],i=0;d.size=0,d.offset=0,n.forEach((function(n){var o=n.getCompressedData();n.header.offset=i;var s=n.header.dataHeaderToBinary(),a=n.rawEntryName.length,c=n.extra.toString(),l=Buffer.alloc(a+c.length);n.rawEntryName.copy(l,0),l.fill(c,a);var u=s.length+l.length+o.length;i+=u,t.push(s),t.push(l),t.push(o);var f=n.packHeader();r.push(f),d.size+=f.length,e+=u+f.length})),e+=d.mainHeaderSize,d.offset=i,i=0;var s=Buffer.alloc(e);t.forEach((function(e){e.copy(s,i),i+=e.length})),r.forEach((function(e){e.copy(s,i),i+=e.length}));var c=d.toBinary();return a&&Buffer.from(a).copy(c,o.Constants.ENDHDR),c.copy(s,i),s},toAsyncBuffer:function(e,t,r,i){f||p(),n.length>1&&n.sort((function(e,t){var n=e.entryName.toLowerCase(),r=t.entryName.toLowerCase();return n>r?-1:n<r?1:0}));var s=0,c=[],l=[],u=0;d.size=0,d.offset=0,function(t){var n=arguments.callee;if(t.length){var f=t.pop(),p=f.entryName+f.extra.toString();r&&r(p),f.getCompressedDataAsync((function(r){i&&i(p),f.header.offset=u;var h,m=f.header.dataHeaderToBinary();try{h=Buffer.alloc(p.length,p)}catch(e){h=new Buffer(p)}var g=m.length+h.length+r.length;u+=g,c.push(m),c.push(h),c.push(r);var y=f.packHeader();if(l.push(y),d.size+=y.length,s+=g+y.length,t.length)n(t);else{s+=d.mainHeaderSize,d.offset=u,u=0;var v=Buffer.alloc(s);c.forEach((function(e){e.copy(v,u),u+=e.length})),l.forEach((function(e){e.copy(v,u),u+=e.length}));var E=d.toBinary();a&&a.copy(E,o.Constants.ENDHDR),E.copy(v,u),e(v)}}))}}(n)}}}},5623:e=>{"use strict";function t(e,t,i){e instanceof RegExp&&(e=n(e,i)),t instanceof RegExp&&(t=n(t,i));var o=r(e,t,i);return o&&{start:o[0],end:o[1],pre:i.slice(0,o[0]),body:i.slice(o[0]+e.length,o[1]),post:i.slice(o[1]+t.length)}}function n(e,t){var n=t.match(e);return n?n[0]:null}function r(e,t,n){var r,i,o,s,a,c=n.indexOf(e),l=n.indexOf(t,c+1),u=c;if(c>=0&&l>0){for(r=[],o=n.length;u>=0&&!a;)u==c?(r.push(u),c=n.indexOf(e,u+1)):1==r.length?a=[r.pop(),l]:((i=r.pop())<o&&(o=i,s=l),l=n.indexOf(t,u+1)),u=c<l&&c>=0?c:l;r.length&&(a=[o,s])}return a}e.exports=t,t.range=r},3644:(e,t,n)=>{var r=n(1048),i=n(5623);e.exports=function(e){return e?("{}"===e.substr(0,2)&&(e="\\{\\}"+e.substr(2)),y(function(e){return e.split("\\\\").join(o).split("\\{").join(s).split("\\}").join(a).split("\\,").join(c).split("\\.").join(l)}(e),!0).map(d)):[]};var o="\0SLASH"+Math.random()+"\0",s="\0OPEN"+Math.random()+"\0",a="\0CLOSE"+Math.random()+"\0",c="\0COMMA"+Math.random()+"\0",l="\0PERIOD"+Math.random()+"\0";function u(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function d(e){return e.split(o).join("\\").split(s).join("{").split(a).join("}").split(c).join(",").split(l).join(".")}function f(e){if(!e)return[""];var t=[],n=i("{","}",e);if(!n)return e.split(",");var r=n.pre,o=n.body,s=n.post,a=r.split(",");a[a.length-1]+="{"+o+"}";var c=f(s);return s.length&&(a[a.length-1]+=c.shift(),a.push.apply(a,c)),t.push.apply(t,a),t}function p(e){return"{"+e+"}"}function h(e){return/^-?0\d/.test(e)}function m(e,t){return e<=t}function g(e,t){return e>=t}function y(e,t){var n=[],o=i("{","}",e);if(!o||/\$$/.test(o.pre))return[e];var s,c=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(o.body),l=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(o.body),d=c||l,v=o.body.indexOf(",")>=0;if(!d&&!v)return o.post.match(/,.*\}/)?y(e=o.pre+"{"+o.body+a+o.post):[e];if(d)s=o.body.split(/\.\./);else if(1===(s=f(o.body)).length&&1===(s=y(s[0],!1).map(p)).length)return(b=o.post.length?y(o.post,!1):[""]).map((function(e){return o.pre+s[0]+e}));var E,w=o.pre,b=o.post.length?y(o.post,!1):[""];if(d){var S=u(s[0]),_=u(s[1]),x=Math.max(s[0].length,s[1].length),I=3==s.length?Math.abs(u(s[2])):1,k=m;_<S&&(I*=-1,k=g);var C=s.some(h);E=[];for(var N=S;k(N,_);N+=I){var O;if(l)"\\"===(O=String.fromCharCode(N))&&(O="");else if(O=String(N),C){var A=x-O.length;if(A>0){var T=new Array(A+1).join("0");O=N<0?"-"+T+O.slice(1):T+O}}E.push(O)}}else E=r(s,(function(e){return y(e,!1)}));for(var D=0;D<E.length;D++)for(var L=0;L<b.length;L++){var F=w+E[D]+b[L];(!t||d||F)&&n.push(F)}return n}},3035:function(e){e.exports=function(){"use strict";let e={};const t=new WeakMap;class n{constructor(n,r){r=Object.assign({units:"metric",precision:1},e,r),t.set(this,r);const i={metric:[{from:0,to:1e3,unit:"B",long:"bytes"},{from:1e3,to:1e6,unit:"kB",long:"kilobytes"},{from:1e6,to:1e9,unit:"MB",long:"megabytes"},{from:1e9,to:1e12,unit:"GB",long:"gigabytes"},{from:1e12,to:1e15,unit:"TB",long:"terabytes"},{from:1e15,to:1e18,unit:"PB",long:"petabytes"},{from:1e18,to:1e21,unit:"EB",long:"exabytes"},{from:1e21,to:1e24,unit:"ZB",long:"zettabytes"},{from:1e24,to:1e27,unit:"YB",long:"yottabytes"}],metric_octet:[{from:0,to:1e3,unit:"o",long:"octets"},{from:1e3,to:1e6,unit:"ko",long:"kilooctets"},{from:1e6,to:1e9,unit:"Mo",long:"megaoctets"},{from:1e9,to:1e12,unit:"Go",long:"gigaoctets"},{from:1e12,to:1e15,unit:"To",long:"teraoctets"},{from:1e15,to:1e18,unit:"Po",long:"petaoctets"},{from:1e18,to:1e21,unit:"Eo",long:"exaoctets"},{from:1e21,to:1e24,unit:"Zo",long:"zettaoctets"},{from:1e24,to:1e27,unit:"Yo",long:"yottaoctets"}],iec:[{from:0,to:Math.pow(1024,1),unit:"B",long:"bytes"},{from:Math.pow(1024,1),to:Math.pow(1024,2),unit:"KiB",long:"kibibytes"},{from:Math.pow(1024,2),to:Math.pow(1024,3),unit:"MiB",long:"mebibytes"},{from:Math.pow(1024,3),to:Math.pow(1024,4),unit:"GiB",long:"gibibytes"},{from:Math.pow(1024,4),to:Math.pow(1024,5),unit:"TiB",long:"tebibytes"},{from:Math.pow(1024,5),to:Math.pow(1024,6),unit:"PiB",long:"pebibytes"},{from:Math.pow(1024,6),to:Math.pow(1024,7),unit:"EiB",long:"exbibytes"},{from:Math.pow(1024,7),to:Math.pow(1024,8),unit:"ZiB",long:"zebibytes"},{from:Math.pow(1024,8),to:Math.pow(1024,9),unit:"YiB",long:"yobibytes"}],iec_octet:[{from:0,to:Math.pow(1024,1),unit:"o",long:"octets"},{from:Math.pow(1024,1),to:Math.pow(1024,2),unit:"Kio",long:"kibioctets"},{from:Math.pow(1024,2),to:Math.pow(1024,3),unit:"Mio",long:"mebioctets"},{from:Math.pow(1024,3),to:Math.pow(1024,4),unit:"Gio",long:"gibioctets"},{from:Math.pow(1024,4),to:Math.pow(1024,5),unit:"Tio",long:"tebioctets"},{from:Math.pow(1024,5),to:Math.pow(1024,6),unit:"Pio",long:"pebioctets"},{from:Math.pow(1024,6),to:Math.pow(1024,7),unit:"Eio",long:"exbioctets"},{from:Math.pow(1024,7),to:Math.pow(1024,8),unit:"Zio",long:"zebioctets"},{from:Math.pow(1024,8),to:Math.pow(1024,9),unit:"Yio",long:"yobioctets"}]};Object.assign(i,r.customUnits);const o=n<0?"-":"";n=Math.abs(n);const s=i[r.units];if(!s)throw new Error(`Invalid units specified: ${r.units}`);{const e=s.find((e=>n>=e.from&&n<e.to));if(e){const t=0===e.from?o+n:o+(n/e.from).toFixed(r.precision);this.value=t,this.unit=e.unit,this.long=e.long}else this.value=o+n,this.unit="",this.long=""}}toString(){const e=t.get(this);return e.toStringFn?e.toStringFn.bind(this)():`${this.value} ${this.unit}`}}function r(e,t){return new n(e,t)}return r.defaultOptions=function(t){e=t},r}()},4247:function(e,t){var n,r;void 0===(r="function"==typeof(n=function(){var e=/^v?(?:\d+)(\.(?:[x*]|\d+)(\.(?:[x*]|\d+)(\.(?:[x*]|\d+))?(?:-[\da-z\-]+(?:\.[\da-z\-]+)*)?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i;function t(e){var t,n,r=e.replace(/^v/,"").replace(/\+.*$/,""),i=(n="-",-1===(t=r).indexOf(n)?t.length:t.indexOf(n)),o=r.substring(0,i).split(".");return o.push(r.substring(i+1)),o}function n(e){return isNaN(Number(e))?e:Number(e)}function r(t){if("string"!=typeof t)throw new TypeError("Invalid argument expected string");if(!e.test(t))throw new Error("Invalid argument not valid semver ('"+t+"' received)")}function i(e,i){[e,i].forEach(r);for(var o=t(e),s=t(i),a=0;a<Math.max(o.length-1,s.length-1);a++){var c=parseInt(o[a]||0,10),l=parseInt(s[a]||0,10);if(c>l)return 1;if(l>c)return-1}var u=o[o.length-1],d=s[s.length-1];if(u&&d){var f=u.split(".").map(n),p=d.split(".").map(n);for(a=0;a<Math.max(f.length,p.length);a++){if(void 0===f[a]||"string"==typeof p[a]&&"number"==typeof f[a])return-1;if(void 0===p[a]||"string"==typeof f[a]&&"number"==typeof p[a])return 1;if(f[a]>p[a])return 1;if(p[a]>f[a])return-1}}else if(u||d)return u?-1:1;return 0}var o=[">",">=","=","<","<="],s={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1]};return i.validate=function(t){return"string"==typeof t&&e.test(t)},i.compare=function(e,t,n){!function(e){if("string"!=typeof e)throw new TypeError("Invalid operator type, expected string but got "+typeof e);if(-1===o.indexOf(e))throw new TypeError("Invalid operator, expected one of "+o.join("|"))}(n);var r=i(e,t);return s[n].indexOf(r)>-1},i})?n.apply(t,[]):n)||(e.exports=r)},1048:e=>{e.exports=function(e,n){for(var r=[],i=0;i<e.length;i++){var o=n(e[i],i);t(o)?r.push.apply(r,o):r.push(o)}return r};var t=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},8309:(e,t,n)=>{"use strict";const r=n(3129),i=n(4605),o=n(3743);function s(e,t,n){const s=i(e,t,n),a=r.spawn(s.command,s.args,s.options);return o.hookChildProcess(a,s),a}e.exports=s,e.exports.spawn=s,e.exports.sync=function(e,t,n){const s=i(e,t,n),a=r.spawnSync(s.command,s.args,s.options);return a.error=a.error||o.verifyENOENTSync(a.status,s),a},e.exports._parse=i,e.exports._enoent=o},3743:e=>{"use strict";const t="win32"===process.platform;function n(e,t){return Object.assign(new Error(`${t} ${e.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${t} ${e.command}`,path:e.command,spawnargs:e.args})}function r(e,r){return t&&1===e&&!r.file?n(r.original,"spawn"):null}e.exports={hookChildProcess:function(e,n){if(!t)return;const i=e.emit;e.emit=function(t,o){if("exit"===t){const t=r(o,n);if(t)return i.call(e,"error",t)}return i.apply(e,arguments)}},verifyENOENT:r,verifyENOENTSync:function(e,r){return t&&1===e&&!r.file?n(r.original,"spawnSync"):null},notFoundError:n}},4605:(e,t,n)=>{"use strict";const r=n(5622),i=n(2202),o=n(5081),s=n(7550),a="win32"===process.platform,c=/\.(?:com|exe)$/i,l=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;e.exports=function(e,t,n){t&&!Array.isArray(t)&&(n=t,t=null);const u={command:e,args:t=t?t.slice(0):[],options:n=Object.assign({},n),file:void 0,original:{command:e,args:t}};return n.shell?u:function(e){if(!a)return e;const t=function(e){e.file=i(e);const t=e.file&&s(e.file);return t?(e.args.unshift(e.file),e.command=t,i(e)):e.file}(e),n=!c.test(t);if(e.options.forceShell||n){const n=l.test(t);e.command=r.normalize(e.command),e.command=o.command(e.command),e.args=e.args.map((e=>o.argument(e,n)));const i=[e.command].concat(e.args).join(" ");e.args=["/d","/s","/c",`"${i}"`],e.command=process.env.comspec||"cmd.exe",e.options.windowsVerbatimArguments=!0}return e}(u)}},5081:e=>{"use strict";const t=/([()\][%!^"`<>&|;, *?])/g;e.exports.command=function(e){return e.replace(t,"^$1")},e.exports.argument=function(e,n){return e=(e=`"${e=(e=(e=`${e}`).replace(/(\\*)"/g,'$1$1\\"')).replace(/(\\*)$/,"$1$1")}"`).replace(t,"^$1"),n&&(e=e.replace(t,"^$1")),e}},7550:(e,t,n)=>{"use strict";const r=n(5747),i=n(7139);e.exports=function(e){const t=Buffer.alloc(150);let n;try{n=r.openSync(e,"r"),r.readSync(n,t,0,150,0),r.closeSync(n)}catch(e){}return i(t.toString())}},2202:(e,t,n)=>{"use strict";const r=n(5622),i=n(3500),o=n(7573);function s(e,t){const n=e.options.env||process.env,s=process.cwd(),a=null!=e.options.cwd,c=a&&void 0!==process.chdir&&!process.chdir.disabled;if(c)try{process.chdir(e.options.cwd)}catch(e){}let l;try{l=i.sync(e.command,{path:n[o({env:n})],pathExt:t?r.delimiter:void 0})}catch(e){}finally{c&&process.chdir(s)}return l&&(l=r.resolve(a?e.options.cwd:"",l)),l}e.exports=function(e){return s(e)||s(e,!0)}},7573:e=>{"use strict";const t=(e={})=>{const t=e.env||process.env;return"win32"!==(e.platform||process.platform)?"PATH":Object.keys(t).reverse().find((e=>"PATH"===e.toUpperCase()))||"Path"};e.exports=t,e.exports.default=t},7139:(e,t,n)=>{"use strict";const r=n(3290);e.exports=(e="")=>{const t=e.match(r);if(!t)return null;const[n,i]=t[0].replace(/#! ?/,"").split(" "),o=n.split("/").pop();return"env"===o?i:i?`${o} ${i}`:o}},3290:e=>{"use strict";e.exports=/^#!(.*)/},3500:(e,t,n)=>{const r="win32"===process.platform||"cygwin"===process.env.OSTYPE||"msys"===process.env.OSTYPE,i=n(5622),o=r?";":":",s=n(1959),a=e=>Object.assign(new Error(`not found: ${e}`),{code:"ENOENT"}),c=(e,t)=>{const n=t.colon||o,i=e.match(/\//)||r&&e.match(/\\/)?[""]:[...r?[process.cwd()]:[],...(t.path||process.env.PATH||"").split(n)],s=r?t.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",a=r?s.split(n):[""];return r&&-1!==e.indexOf(".")&&""!==a[0]&&a.unshift(""),{pathEnv:i,pathExt:a,pathExtExe:s}},l=(e,t,n)=>{"function"==typeof t&&(n=t,t={}),t||(t={});const{pathEnv:r,pathExt:o,pathExtExe:l}=c(e,t),u=[],d=n=>new Promise(((o,s)=>{if(n===r.length)return t.all&&u.length?o(u):s(a(e));const c=r[n],l=/^".*"$/.test(c)?c.slice(1,-1):c,d=i.join(l,e),p=!l&&/^\.[\\\/]/.test(e)?e.slice(0,2)+d:d;o(f(p,n,0))})),f=(e,n,r)=>new Promise(((i,a)=>{if(r===o.length)return i(d(n+1));const c=o[r];s(e+c,{pathExt:l},((o,s)=>{if(!o&&s){if(!t.all)return i(e+c);u.push(e+c)}return i(f(e,n,r+1))}))}));return n?d(0).then((e=>n(null,e)),n):d(0)};e.exports=l,l.sync=(e,t)=>{t=t||{};const{pathEnv:n,pathExt:r,pathExtExe:o}=c(e,t),l=[];for(let a=0;a<n.length;a++){const c=n[a],u=/^".*"$/.test(c)?c.slice(1,-1):c,d=i.join(u,e),f=!u&&/^\.[\\\/]/.test(e)?e.slice(0,2)+d:d;for(let e=0;e<r.length;e++){const n=f+r[e];try{if(s.sync(n,{pathExt:o})){if(!t.all)return n;l.push(n)}}catch(e){}}}if(t.all&&l.length)return l;if(t.nothrow)return null;throw a(e)}},7334:(e,t,n)=>{e.exports=u,u.realpath=u,u.sync=d,u.realpathSync=d,u.monkeypatch=function(){r.realpath=u,r.realpathSync=d},u.unmonkeypatch=function(){r.realpath=i,r.realpathSync=o};var r=n(5747),i=r.realpath,o=r.realpathSync,s=process.version,a=/^v[0-5]\./.test(s),c=n(7059);function l(e){return e&&"realpath"===e.syscall&&("ELOOP"===e.code||"ENOMEM"===e.code||"ENAMETOOLONG"===e.code)}function u(e,t,n){if(a)return i(e,t,n);"function"==typeof t&&(n=t,t=null),i(e,t,(function(r,i){l(r)?c.realpath(e,t,n):n(r,i)}))}function d(e,t){if(a)return o(e,t);try{return o(e,t)}catch(n){if(l(n))return c.realpathSync(e,t);throw n}}},7059:(e,t,n)=>{var r=n(5622),i="win32"===process.platform,o=n(5747),s=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);if(r.normalize,i)var a=/(.*?)(?:[\/\\]+|$)/g;else a=/(.*?)(?:[\/]+|$)/g;if(i)var c=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/;else c=/^[\/]*/;t.realpathSync=function(e,t){if(e=r.resolve(e),t&&Object.prototype.hasOwnProperty.call(t,e))return t[e];var n,s,l,u,d=e,f={},p={};function h(){var t=c.exec(e);n=t[0].length,s=t[0],l=t[0],u="",i&&!p[l]&&(o.lstatSync(l),p[l]=!0)}for(h();n<e.length;){a.lastIndex=n;var m=a.exec(e);if(u=s,s+=m[0],l=u+m[1],n=a.lastIndex,!(p[l]||t&&t[l]===l)){var g;if(t&&Object.prototype.hasOwnProperty.call(t,l))g=t[l];else{var y=o.lstatSync(l);if(!y.isSymbolicLink()){p[l]=!0,t&&(t[l]=l);continue}var v=null;if(!i){var E=y.dev.toString(32)+":"+y.ino.toString(32);f.hasOwnProperty(E)&&(v=f[E])}null===v&&(o.statSync(l),v=o.readlinkSync(l)),g=r.resolve(u,v),t&&(t[l]=g),i||(f[E]=v)}e=r.resolve(g,e.slice(n)),h()}}return t&&(t[d]=e),e},t.realpath=function(e,t,n){if("function"!=typeof n&&(n=function(e){return"function"==typeof e?e:function(){var e;if(s){var t=new Error;e=function(e){e&&(t.message=e.message,n(e=t))}}else e=n;return e;function n(e){if(e){if(process.throwDeprecation)throw e;if(!process.noDeprecation){var t="fs: missing callback "+(e.stack||e.message);process.traceDeprecation?console.trace(t):console.error(t)}}}}()}(t),t=null),e=r.resolve(e),t&&Object.prototype.hasOwnProperty.call(t,e))return process.nextTick(n.bind(null,null,t[e]));var l,u,d,f,p=e,h={},m={};function g(){var t=c.exec(e);l=t[0].length,u=t[0],d=t[0],f="",i&&!m[d]?o.lstat(d,(function(e){if(e)return n(e);m[d]=!0,y()})):process.nextTick(y)}function y(){if(l>=e.length)return t&&(t[p]=e),n(null,e);a.lastIndex=l;var r=a.exec(e);return f=u,u+=r[0],d=f+r[1],l=a.lastIndex,m[d]||t&&t[d]===d?process.nextTick(y):t&&Object.prototype.hasOwnProperty.call(t,d)?w(t[d]):o.lstat(d,v)}function v(e,r){if(e)return n(e);if(!r.isSymbolicLink())return m[d]=!0,t&&(t[d]=d),process.nextTick(y);if(!i){var s=r.dev.toString(32)+":"+r.ino.toString(32);if(h.hasOwnProperty(s))return E(null,h[s],d)}o.stat(d,(function(e){if(e)return n(e);o.readlink(d,(function(e,t){i||(h[s]=t),E(e,t)}))}))}function E(e,i,o){if(e)return n(e);var s=r.resolve(f,i);t&&(t[o]=s),w(s)}function w(t){e=r.resolve(t,e.slice(l)),g()}g()}},5105:(e,t,n)=>{"use strict";const{PassThrough:r}=n(2413);e.exports=e=>{e={...e};const{array:t}=e;let{encoding:n}=e;const i="buffer"===n;let o=!1;t?o=!(n||i):n=n||"utf8",i&&(n=null);const s=new r({objectMode:o});n&&s.setEncoding(n);let a=0;const c=[];return s.on("data",(e=>{c.push(e),o?a=c.length:a+=e.length})),s.getBufferedValue=()=>t?c:i?Buffer.concat(c,a):c.join(""),s.getBufferedLength=()=>a,s}},31:(e,t,n)=>{"use strict";const{constants:r}=n(4293),i=n(2413),{promisify:o}=n(1669),s=n(5105),a=o(i.pipeline);class c extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}}async function l(e,t){if(!e)throw new Error("Expected a stream");t={maxBuffer:1/0,...t};const{maxBuffer:n}=t,i=s(t);return await new Promise(((t,o)=>{const s=e=>{e&&i.getBufferedLength()<=r.MAX_LENGTH&&(e.bufferedData=i.getBufferedValue()),o(e)};(async()=>{try{await a(e,i),t()}catch(e){s(e)}})(),i.on("data",(()=>{i.getBufferedLength()>n&&s(new c)}))})),i.getBufferedValue()}e.exports=l,e.exports.buffer=(e,t)=>l(e,{...t,encoding:"buffer"}),e.exports.array=(e,t)=>l(e,{...t,array:!0}),e.exports.MaxBufferError=c},6772:(e,t,n)=>{function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.alphasort=l,t.alphasorti=c,t.setopts=function(e,t,n){if(n||(n={}),n.matchBase&&-1===t.indexOf("/")){if(n.noglobstar)throw new Error("base matching requires globstar");t="**/"+t}e.silent=!!n.silent,e.pattern=t,e.strict=!1!==n.strict,e.realpath=!!n.realpath,e.realpathCache=n.realpathCache||Object.create(null),e.follow=!!n.follow,e.dot=!!n.dot,e.mark=!!n.mark,e.nodir=!!n.nodir,e.nodir&&(e.mark=!0),e.sync=!!n.sync,e.nounique=!!n.nounique,e.nonull=!!n.nonull,e.nosort=!!n.nosort,e.nocase=!!n.nocase,e.stat=!!n.stat,e.noprocess=!!n.noprocess,e.absolute=!!n.absolute,e.maxLength=n.maxLength||1/0,e.cache=n.cache||Object.create(null),e.statCache=n.statCache||Object.create(null),e.symlinks=n.symlinks||Object.create(null),function(e,t){e.ignore=t.ignore||[],Array.isArray(e.ignore)||(e.ignore=[e.ignore]),e.ignore.length&&(e.ignore=e.ignore.map(u))}(e,n),e.changedCwd=!1;var o=process.cwd();r(n,"cwd")?(e.cwd=i.resolve(n.cwd),e.changedCwd=e.cwd!==o):e.cwd=o,e.root=n.root||i.resolve(e.cwd,"/"),e.root=i.resolve(e.root),"win32"===process.platform&&(e.root=e.root.replace(/\\/g,"/")),e.cwdAbs=s(e.cwd)?e.cwd:d(e,e.cwd),"win32"===process.platform&&(e.cwdAbs=e.cwdAbs.replace(/\\/g,"/")),e.nomount=!!n.nomount,n.nonegate=!0,n.nocomment=!0,e.minimatch=new a(t,n),e.options=e.minimatch.options},t.ownProp=r,t.makeAbs=d,t.finish=function(e){for(var t=e.nounique,n=t?[]:Object.create(null),r=0,i=e.matches.length;r<i;r++){var o=e.matches[r];if(o&&0!==Object.keys(o).length){var s=Object.keys(o);t?n.push.apply(n,s):s.forEach((function(e){n[e]=!0}))}else if(e.nonull){var a=e.minimatch.globSet[r];t?n.push(a):n[a]=!0}}if(t||(n=Object.keys(n)),e.nosort||(n=n.sort(e.nocase?c:l)),e.mark){for(r=0;r<n.length;r++)n[r]=e._mark(n[r]);e.nodir&&(n=n.filter((function(t){var n=!/\/$/.test(t),r=e.cache[t]||e.cache[d(e,t)];return n&&r&&(n="DIR"!==r&&!Array.isArray(r)),n})))}e.ignore.length&&(n=n.filter((function(t){return!f(e,t)}))),e.found=n},t.mark=function(e,t){var n=d(e,t),r=e.cache[n],i=t;if(r){var o="DIR"===r||Array.isArray(r),s="/"===t.slice(-1);if(o&&!s?i+="/":!o&&s&&(i=i.slice(0,-1)),i!==t){var a=d(e,i);e.statCache[a]=e.statCache[n],e.cache[a]=e.cache[n]}}return i},t.isIgnored=f,t.childrenIgnored=function(e,t){return!!e.ignore.length&&e.ignore.some((function(e){return!(!e.gmatcher||!e.gmatcher.match(t))}))};var i=n(5622),o=n(1171),s=n(4095),a=o.Minimatch;function c(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}function l(e,t){return e.localeCompare(t)}function u(e){var t=null;if("/**"===e.slice(-3)){var n=e.replace(/(\/\*\*)+$/,"");t=new a(n,{dot:!0})}return{matcher:new a(e,{dot:!0}),gmatcher:t}}function d(e,t){var n=t;return n="/"===t.charAt(0)?i.join(e.root,t):s(t)||""===t?t:e.changedCwd?i.resolve(e.cwd,t):i.resolve(t),"win32"===process.platform&&(n=n.replace(/\\/g,"/")),n}function f(e,t){return!!e.ignore.length&&e.ignore.some((function(e){return e.matcher.match(t)||!(!e.gmatcher||!e.gmatcher.match(t))}))}},2884:(e,t,n)=>{e.exports=E;var r=n(5747),i=n(7334),o=n(1171),s=(o.Minimatch,n(4378)),a=n(8614).EventEmitter,c=n(5622),l=n(2357),u=n(4095),d=n(4751),f=n(6772),p=(f.alphasort,f.alphasorti,f.setopts),h=f.ownProp,m=n(7844),g=(n(1669),f.childrenIgnored),y=f.isIgnored,v=n(778);function E(e,t,n){if("function"==typeof t&&(n=t,t={}),t||(t={}),t.sync){if(n)throw new TypeError("callback provided to sync glob");return d(e,t)}return new b(e,t,n)}E.sync=d;var w=E.GlobSync=d.GlobSync;function b(e,t,n){if("function"==typeof t&&(n=t,t=null),t&&t.sync){if(n)throw new TypeError("callback provided to sync glob");return new w(e,t)}if(!(this instanceof b))return new b(e,t,n);p(this,e,t),this._didRealPath=!1;var r=this.minimatch.set.length;this.matches=new Array(r),"function"==typeof n&&(n=v(n),this.on("error",n),this.on("end",(function(e){n(null,e)})));var i=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(0===r)return s();for(var o=0;o<r;o++)this._process(this.minimatch.set[o],o,!1,s);function s(){--i._processing,i._processing<=0&&i._finish()}}E.glob=E,E.hasMagic=function(e,t){var n=function(e,t){if(null===t||"object"!=typeof t)return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}({},t);n.noprocess=!0;var r=new b(e,n).minimatch.set;if(!e)return!1;if(r.length>1)return!0;for(var i=0;i<r[0].length;i++)if("string"!=typeof r[0][i])return!0;return!1},E.Glob=b,s(b,a),b.prototype._finish=function(){if(l(this instanceof b),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();f.finish(this),this.emit("end",this.found)}},b.prototype._realpath=function(){if(!this._didRealpath){this._didRealpath=!0;var e=this.matches.length;if(0===e)return this._finish();for(var t=this,n=0;n<this.matches.length;n++)this._realpathSet(n,r)}function r(){0==--e&&t._finish()}},b.prototype._realpathSet=function(e,t){var n=this.matches[e];if(!n)return t();var r=Object.keys(n),o=this,s=r.length;if(0===s)return t();var a=this.matches[e]=Object.create(null);r.forEach((function(n,r){n=o._makeAbs(n),i.realpath(n,o.realpathCache,(function(r,i){r?"stat"===r.syscall?a[n]=!0:o.emit("error",r):a[i]=!0,0==--s&&(o.matches[e]=a,t())}))}))},b.prototype._mark=function(e){return f.mark(this,e)},b.prototype._makeAbs=function(e){return f.makeAbs(this,e)},b.prototype.abort=function(){this.aborted=!0,this.emit("abort")},b.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))},b.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var e=this._emitQueue.slice(0);this._emitQueue.length=0;for(var t=0;t<e.length;t++){var n=e[t];this._emitMatch(n[0],n[1])}}if(this._processQueue.length){var r=this._processQueue.slice(0);for(this._processQueue.length=0,t=0;t<r.length;t++){var i=r[t];this._processing--,this._process(i[0],i[1],i[2],i[3])}}}},b.prototype._process=function(e,t,n,r){if(l(this instanceof b),l("function"==typeof r),!this.aborted)if(this._processing++,this.paused)this._processQueue.push([e,t,n,r]);else{for(var i,s=0;"string"==typeof e[s];)s++;switch(s){case e.length:return void this._processSimple(e.join("/"),t,r);case 0:i=null;break;default:i=e.slice(0,s).join("/")}var a,c=e.slice(s);null===i?a=".":u(i)||u(e.join("/"))?(i&&u(i)||(i="/"+i),a=i):a=i;var d=this._makeAbs(a);if(g(this,a))return r();c[0]===o.GLOBSTAR?this._processGlobStar(i,a,d,c,t,n,r):this._processReaddir(i,a,d,c,t,n,r)}},b.prototype._processReaddir=function(e,t,n,r,i,o,s){var a=this;this._readdir(n,o,(function(c,l){return a._processReaddir2(e,t,n,r,i,o,l,s)}))},b.prototype._processReaddir2=function(e,t,n,r,i,o,s,a){if(!s)return a();for(var l=r[0],u=!!this.minimatch.negate,d=l._glob,f=this.dot||"."===d.charAt(0),p=[],h=0;h<s.length;h++)("."!==(g=s[h]).charAt(0)||f)&&(u&&!e?!g.match(l):g.match(l))&&p.push(g);var m=p.length;if(0===m)return a();if(1===r.length&&!this.mark&&!this.stat){for(this.matches[i]||(this.matches[i]=Object.create(null)),h=0;h<m;h++){var g=p[h];e&&(g="/"!==e?e+"/"+g:e+g),"/"!==g.charAt(0)||this.nomount||(g=c.join(this.root,g)),this._emitMatch(i,g)}return a()}for(r.shift(),h=0;h<m;h++)g=p[h],e&&(g="/"!==e?e+"/"+g:e+g),this._process([g].concat(r),i,o,a);a()},b.prototype._emitMatch=function(e,t){if(!this.aborted&&!y(this,t))if(this.paused)this._emitQueue.push([e,t]);else{var n=u(t)?t:this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=n),!this.matches[e][t]){if(this.nodir){var r=this.cache[n];if("DIR"===r||Array.isArray(r))return}this.matches[e][t]=!0;var i=this.statCache[n];i&&this.emit("stat",t,i),this.emit("match",t)}}},b.prototype._readdirInGlobStar=function(e,t){if(!this.aborted){if(this.follow)return this._readdir(e,!1,t);var n=this,i=m("lstat\0"+e,(function(r,i){if(r&&"ENOENT"===r.code)return t();var o=i&&i.isSymbolicLink();n.symlinks[e]=o,o||!i||i.isDirectory()?n._readdir(e,!1,t):(n.cache[e]="FILE",t())}));i&&r.lstat(e,i)}},b.prototype._readdir=function(e,t,n){if(!this.aborted&&(n=m("readdir\0"+e+"\0"+t,n))){if(t&&!h(this.symlinks,e))return this._readdirInGlobStar(e,n);if(h(this.cache,e)){var i=this.cache[e];if(!i||"FILE"===i)return n();if(Array.isArray(i))return n(null,i)}r.readdir(e,function(e,t,n){return function(r,i){r?e._readdirError(t,r,n):e._readdirEntries(t,i,n)}}(this,e,n))}},b.prototype._readdirEntries=function(e,t,n){if(!this.aborted){if(!this.mark&&!this.stat)for(var r=0;r<t.length;r++){var i=t[r];i="/"===e?e+i:e+"/"+i,this.cache[i]=!0}return this.cache[e]=t,n(null,t)}},b.prototype._readdirError=function(e,t,n){if(!this.aborted){switch(t.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(e);if(this.cache[r]="FILE",r===this.cwdAbs){var i=new Error(t.code+" invalid cwd "+this.cwd);i.path=this.cwd,i.code=t.code,this.emit("error",i),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:this.cache[this._makeAbs(e)]=!1,this.strict&&(this.emit("error",t),this.abort()),this.silent||console.error("glob error",t)}return n()}},b.prototype._processGlobStar=function(e,t,n,r,i,o,s){var a=this;this._readdir(n,o,(function(c,l){a._processGlobStar2(e,t,n,r,i,o,l,s)}))},b.prototype._processGlobStar2=function(e,t,n,r,i,o,s,a){if(!s)return a();var c=r.slice(1),l=e?[e]:[],u=l.concat(c);this._process(u,i,!1,a);var d=this.symlinks[n],f=s.length;if(d&&o)return a();for(var p=0;p<f;p++)if("."!==s[p].charAt(0)||this.dot){var h=l.concat(s[p],c);this._process(h,i,!0,a);var m=l.concat(s[p],r);this._process(m,i,!0,a)}a()},b.prototype._processSimple=function(e,t,n){var r=this;this._stat(e,(function(i,o){r._processSimple2(e,t,i,o,n)}))},b.prototype._processSimple2=function(e,t,n,r,i){if(this.matches[t]||(this.matches[t]=Object.create(null)),!r)return i();if(e&&u(e)&&!this.nomount){var o=/[\/\\]$/.test(e);"/"===e.charAt(0)?e=c.join(this.root,e):(e=c.resolve(this.root,e),o&&(e+="/"))}"win32"===process.platform&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e),i()},b.prototype._stat=function(e,t){var n=this._makeAbs(e),i="/"===e.slice(-1);if(e.length>this.maxLength)return t();if(!this.stat&&h(this.cache,n)){var o=this.cache[n];if(Array.isArray(o)&&(o="DIR"),!i||"DIR"===o)return t(null,o);if(i&&"FILE"===o)return t()}var s=this.statCache[n];if(void 0!==s){if(!1===s)return t(null,s);var a=s.isDirectory()?"DIR":"FILE";return i&&"FILE"===a?t():t(null,a,s)}var c=this,l=m("stat\0"+n,(function(i,o){if(o&&o.isSymbolicLink())return r.stat(n,(function(r,i){r?c._stat2(e,n,null,o,t):c._stat2(e,n,r,i,t)}));c._stat2(e,n,i,o,t)}));l&&r.lstat(n,l)},b.prototype._stat2=function(e,t,n,r,i){if(n&&("ENOENT"===n.code||"ENOTDIR"===n.code))return this.statCache[t]=!1,i();var o="/"===e.slice(-1);if(this.statCache[t]=r,"/"===t.slice(-1)&&r&&!r.isDirectory())return i(null,!1,r);var s=!0;return r&&(s=r.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||s,o&&"FILE"===s?i():i(null,s,r)}},4751:(e,t,n)=>{e.exports=h,h.GlobSync=m;var r=n(5747),i=n(7334),o=n(1171),s=(o.Minimatch,n(2884).Glob,n(1669),n(5622)),a=n(2357),c=n(4095),l=n(6772),u=(l.alphasort,l.alphasorti,l.setopts),d=l.ownProp,f=l.childrenIgnored,p=l.isIgnored;function h(e,t){if("function"==typeof t||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");return new m(e,t).found}function m(e,t){if(!e)throw new Error("must provide pattern");if("function"==typeof t||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");if(!(this instanceof m))return new m(e,t);if(u(this,e,t),this.noprocess)return this;var n=this.minimatch.set.length;this.matches=new Array(n);for(var r=0;r<n;r++)this._process(this.minimatch.set[r],r,!1);this._finish()}m.prototype._finish=function(){if(a(this instanceof m),this.realpath){var e=this;this.matches.forEach((function(t,n){var r=e.matches[n]=Object.create(null);for(var o in t)try{o=e._makeAbs(o),r[i.realpathSync(o,e.realpathCache)]=!0}catch(t){if("stat"!==t.syscall)throw t;r[e._makeAbs(o)]=!0}}))}l.finish(this)},m.prototype._process=function(e,t,n){a(this instanceof m);for(var r,i=0;"string"==typeof e[i];)i++;switch(i){case e.length:return void this._processSimple(e.join("/"),t);case 0:r=null;break;default:r=e.slice(0,i).join("/")}var s,l=e.slice(i);null===r?s=".":c(r)||c(e.join("/"))?(r&&c(r)||(r="/"+r),s=r):s=r;var u=this._makeAbs(s);f(this,s)||(l[0]===o.GLOBSTAR?this._processGlobStar(r,s,u,l,t,n):this._processReaddir(r,s,u,l,t,n))},m.prototype._processReaddir=function(e,t,n,r,i,o){var a=this._readdir(n,o);if(a){for(var c=r[0],l=!!this.minimatch.negate,u=c._glob,d=this.dot||"."===u.charAt(0),f=[],p=0;p<a.length;p++)("."!==(g=a[p]).charAt(0)||d)&&(l&&!e?!g.match(c):g.match(c))&&f.push(g);var h=f.length;if(0!==h)if(1!==r.length||this.mark||this.stat)for(r.shift(),p=0;p<h;p++){var m;g=f[p],m=e?[e,g]:[g],this._process(m.concat(r),i,o)}else{this.matches[i]||(this.matches[i]=Object.create(null));for(p=0;p<h;p++){var g=f[p];e&&(g="/"!==e.slice(-1)?e+"/"+g:e+g),"/"!==g.charAt(0)||this.nomount||(g=s.join(this.root,g)),this._emitMatch(i,g)}}}},m.prototype._emitMatch=function(e,t){if(!p(this,t)){var n=this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=n),!this.matches[e][t]){if(this.nodir){var r=this.cache[n];if("DIR"===r||Array.isArray(r))return}this.matches[e][t]=!0,this.stat&&this._stat(t)}}},m.prototype._readdirInGlobStar=function(e){if(this.follow)return this._readdir(e,!1);var t,n;try{n=r.lstatSync(e)}catch(e){if("ENOENT"===e.code)return null}var i=n&&n.isSymbolicLink();return this.symlinks[e]=i,i||!n||n.isDirectory()?t=this._readdir(e,!1):this.cache[e]="FILE",t},m.prototype._readdir=function(e,t){if(t&&!d(this.symlinks,e))return this._readdirInGlobStar(e);if(d(this.cache,e)){var n=this.cache[e];if(!n||"FILE"===n)return null;if(Array.isArray(n))return n}try{return this._readdirEntries(e,r.readdirSync(e))}catch(t){return this._readdirError(e,t),null}},m.prototype._readdirEntries=function(e,t){if(!this.mark&&!this.stat)for(var n=0;n<t.length;n++){var r=t[n];r="/"===e?e+r:e+"/"+r,this.cache[r]=!0}return this.cache[e]=t,t},m.prototype._readdirError=function(e,t){switch(t.code){case"ENOTSUP":case"ENOTDIR":var n=this._makeAbs(e);if(this.cache[n]="FILE",n===this.cwdAbs){var r=new Error(t.code+" invalid cwd "+this.cwd);throw r.path=this.cwd,r.code=t.code,r}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:if(this.cache[this._makeAbs(e)]=!1,this.strict)throw t;this.silent||console.error("glob error",t)}},m.prototype._processGlobStar=function(e,t,n,r,i,o){var s=this._readdir(n,o);if(s){var a=r.slice(1),c=e?[e]:[],l=c.concat(a);this._process(l,i,!1);var u=s.length;if(!this.symlinks[n]||!o)for(var d=0;d<u;d++)if("."!==s[d].charAt(0)||this.dot){var f=c.concat(s[d],a);this._process(f,i,!0);var p=c.concat(s[d],r);this._process(p,i,!0)}}},m.prototype._processSimple=function(e,t){var n=this._stat(e);if(this.matches[t]||(this.matches[t]=Object.create(null)),n){if(e&&c(e)&&!this.nomount){var r=/[\/\\]$/.test(e);"/"===e.charAt(0)?e=s.join(this.root,e):(e=s.resolve(this.root,e),r&&(e+="/"))}"win32"===process.platform&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e)}},m.prototype._stat=function(e){var t=this._makeAbs(e),n="/"===e.slice(-1);if(e.length>this.maxLength)return!1;if(!this.stat&&d(this.cache,t)){var i=this.cache[t];if(Array.isArray(i)&&(i="DIR"),!n||"DIR"===i)return i;if(n&&"FILE"===i)return!1}var o=this.statCache[t];if(!o){var s;try{s=r.lstatSync(t)}catch(e){if(e&&("ENOENT"===e.code||"ENOTDIR"===e.code))return this.statCache[t]=!1,!1}if(s&&s.isSymbolicLink())try{o=r.statSync(t)}catch(e){o=s}else o=s}return this.statCache[t]=o,i=!0,o&&(i=o.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||i,(!n||"FILE"!==i)&&i},m.prototype._mark=function(e){return l.mark(this,e)},m.prototype._makeAbs=function(e){return l.makeAbs(this,e)}},7:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SIGNALS=void 0,t.SIGNALS=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}]},7787:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.signalsByNumber=t.signalsByName=void 0;var r=n(2087),i=n(8699),o=n(7603);const s=(0,i.getSignals)().reduce((function(e,{name:t,number:n,description:r,supported:i,action:o,forced:s,standard:a}){return{...e,[t]:{name:t,number:n,description:r,supported:i,action:o,forced:s,standard:a}}}),{});t.signalsByName=s;const a=function(e,t){const n=t.find((({name:t})=>r.constants.signals[t]===e));return void 0!==n?n:t.find((t=>t.number===e))},c=function(){const e=(0,i.getSignals)(),t=o.SIGRTMAX+1,n=Array.from({length:t},((t,n)=>function(e,t){const n=a(e,t);if(void 0===n)return{};const{name:r,description:i,supported:o,action:s,forced:c,standard:l}=n;return{[e]:{name:r,number:e,description:i,supported:o,action:s,forced:c,standard:l}}}(n,e)));return Object.assign({},...n)}();t.signalsByNumber=c},7603:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SIGRTMAX=t.getRealtimeSignals=void 0,t.getRealtimeSignals=function(){const e=i-r+1;return Array.from({length:e},n)};const n=function(e,t){return{name:`SIGRT${t+1}`,number:r+t,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}},r=34,i=64;t.SIGRTMAX=i},8699:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSignals=void 0;var r=n(2087),i=n(7),o=n(7603);t.getSignals=function(){const e=(0,o.getRealtimeSignals)();return[...i.SIGNALS,...e].map(s)};const s=function({name:e,number:t,description:n,action:i,forced:o=!1,standard:s}){const{signals:{[e]:a}}=r.constants,c=void 0!==a;return{name:e,number:c?a:t,description:n,supported:c,action:i,forced:o,standard:s}}},3065:(e,t,n)=>{"use strict";const r=n(5747),i=n(5622),o=n(8614).EventEmitter,s=n(1171).Minimatch;class a extends o{constructor(e){super(e=e||{}),this.path=e.path||process.cwd(),this.basename=i.basename(this.path),this.ignoreFiles=e.ignoreFiles||[".ignore"],this.ignoreRules={},this.parent=e.parent||null,this.includeEmpty=!!e.includeEmpty,this.root=this.parent?this.parent.root:this.path,this.follow=!!e.follow,this.result=this.parent?this.parent.result:new Set,this.entries=null,this.sawError=!1}sort(e,t){return e.localeCompare(t,"en")}emit(e,t){let n=!1;return this.sawError&&"error"===e||("error"===e?this.sawError=!0:"done"!==e||this.parent||(t=Array.from(t).map((e=>/^@/.test(e)?`./${e}`:e)).sort(this.sort),this.result=t),n="error"===e&&this.parent?this.parent.emit("error",t):super.emit(e,t)),n}start(){return r.readdir(this.path,((e,t)=>e?this.emit("error",e):this.onReaddir(t))),this}isIgnoreFile(e){return"."!==e&&".."!==e&&-1!==this.ignoreFiles.indexOf(e)}onReaddir(e){this.entries=e,0===e.length?(this.includeEmpty&&this.result.add(this.path.substr(this.root.length+1)),this.emit("done",this.result)):this.entries.some((e=>this.isIgnoreFile(e)))?this.addIgnoreFiles():this.filterEntries()}addIgnoreFiles(){const e=this.entries.filter((e=>this.isIgnoreFile(e)));let t=e.length;const n=e=>{0==--t&&this.filterEntries()};e.forEach((e=>this.addIgnoreFile(e,n)))}addIgnoreFile(e,t){const n=i.resolve(this.path,e);r.readFile(n,"utf8",((n,r)=>n?this.emit("error",n):this.onReadIgnoreFile(e,r,t)))}onReadIgnoreFile(e,t,n){const r={matchBase:!0,dot:!0,flipNegate:!0,nocase:!0},i=t.split(/\r?\n/).filter((e=>!/^#|^$/.test(e.trim()))).map((e=>new s(e,r)));this.ignoreRules[e]=i,n()}filterEntries(){const e=this.entries.map((e=>{const t=this.filterEntry(e),n=this.filterEntry(e,!0);return!(!t&&!n)&&[e,t,n]})).filter((e=>e));let t=e.length;if(0===t)this.emit("done",this.result);else{const n=e=>{0==--t&&this.emit("done",this.result)};e.forEach((e=>{const t=e[0],r=e[1],i=e[2];this.stat(t,r,i,n)}))}}onstat(e,t,n,r,i){const o=this.path+"/"+t;e.isDirectory()?r?this.walker(t,i):i():(n&&this.result.add(o.substr(this.root.length+1)),i())}stat(e,t,n,i){const o=this.path+"/"+e;r[this.follow?"stat":"lstat"](o,((r,o)=>{r?this.emit("error",r):this.onstat(o,e,t,n,i)}))}walkerOpt(e){return{path:this.path+"/"+e,parent:this,ignoreFiles:this.ignoreFiles,follow:this.follow,includeEmpty:this.includeEmpty}}walker(e,t){new a(this.walkerOpt(e)).on("done",t).start()}filterEntry(e,t){let n=!0;if(this.parent&&this.parent.filterEntry){var r=this.basename+"/"+e;n=this.parent.filterEntry(r,t)}return this.ignoreFiles.forEach((r=>{this.ignoreRules[r]&&this.ignoreRules[r].forEach((r=>{r.negate!==n&&(r.match("/"+e)||r.match(e)||t&&(r.match("/"+e+"/")||r.match(e+"/"))||t&&r.negate&&(r.match("/"+e,!0)||r.match(e,!0)))&&(n=r.negate)}))})),n}}class c extends a{constructor(e){super(e)}start(){return this.onReaddir(r.readdirSync(this.path)),this}addIgnoreFile(e,t){const n=i.resolve(this.path,e);this.onReadIgnoreFile(e,r.readFileSync(n,"utf8"),t)}stat(e,t,n,i){const o=this.path+"/"+e,s=r[this.follow?"statSync":"lstatSync"](o);this.onstat(s,e,t,n,i)}walker(e,t){new c(this.walkerOpt(e)).start(),t()}}const l=(e,t)=>{const n=new Promise(((t,n)=>{new a(e).on("done",t).on("error",n).start()}));return t?n.then((e=>t(null,e)),t):n};e.exports=l,l.sync=e=>new c(e).start().result,l.Walker=a,l.WalkerSync=c},7844:(e,t,n)=>{var r=n(2479),i=Object.create(null),o=n(778);function s(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r]=e[r];return n}e.exports=r((function(e,t){return i[e]?(i[e].push(t),null):(i[e]=[t],function(e){return o((function t(){var n=i[e],r=n.length,o=s(arguments);try{for(var a=0;a<r;a++)n[a].apply(null,o)}finally{n.length>r?(n.splice(0,r),process.nextTick((function(){t.apply(null,o)}))):delete i[e]}}))}(e))}))},4378:(e,t,n)=>{try{var r=n(1669);if("function"!=typeof r.inherits)throw"";e.exports=r.inherits}catch(t){e.exports=n(5717)}},5717:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},4970:e=>{"use strict";const t=e=>null!==e&&"object"==typeof e&&"function"==typeof e.pipe;t.writable=e=>t(e)&&!1!==e.writable&&"function"==typeof e._write&&"object"==typeof e._writableState,t.readable=e=>t(e)&&!1!==e.readable&&"function"==typeof e._read&&"object"==typeof e._readableState,t.duplex=e=>t.writable(e)&&t.readable(e),t.transform=e=>t.duplex(e)&&"function"==typeof e._transform&&"object"==typeof e._transformState,e.exports=t},1959:(e,t,n)=>{var r;function i(e,t,n){if("function"==typeof t&&(n=t,t={}),!n){if("function"!=typeof Promise)throw new TypeError("callback not provided");return new Promise((function(n,r){i(e,t||{},(function(e,t){e?r(e):n(t)}))}))}r(e,t||{},(function(e,r){e&&("EACCES"===e.code||t&&t.ignoreErrors)&&(e=null,r=!1),n(e,r)}))}n(5747),r="win32"===process.platform||global.TESTING_WINDOWS?n(1429):n(4601),e.exports=i,i.sync=function(e,t){try{return r.sync(e,t||{})}catch(e){if(t&&t.ignoreErrors||"EACCES"===e.code)return!1;throw e}}},4601:(e,t,n)=>{e.exports=i,i.sync=function(e,t){return o(r.statSync(e),t)};var r=n(5747);function i(e,t,n){r.stat(e,(function(e,r){n(e,!e&&o(r,t))}))}function o(e,t){return e.isFile()&&function(e,t){var n=e.mode,r=e.uid,i=e.gid,o=void 0!==t.uid?t.uid:process.getuid&&process.getuid(),s=void 0!==t.gid?t.gid:process.getgid&&process.getgid(),a=parseInt("100",8),c=parseInt("010",8);return n&parseInt("001",8)||n&c&&i===s||n&a&&r===o||n&(a|c)&&0===o}(e,t)}},1429:(e,t,n)=>{e.exports=o,o.sync=function(e,t){return i(r.statSync(e),e,t)};var r=n(5747);function i(e,t,n){return!(!e.isSymbolicLink()&&!e.isFile())&&function(e,t){var n=void 0!==t.pathExt?t.pathExt:process.env.PATHEXT;if(!n)return!0;if(-1!==(n=n.split(";")).indexOf(""))return!0;for(var r=0;r<n.length;r++){var i=n[r].toLowerCase();if(i&&e.substr(-i.length).toLowerCase()===i)return!0}return!1}(t,n)}function o(e,t,n){r.stat(e,(function(r,o){n(r,!r&&i(o,e,t))}))}},4034:(e,t,n)=>{"use strict";const{PassThrough:r}=n(2413);e.exports=function(){var e=[],t=new r({objectMode:!0});return t.setMaxListeners(0),t.add=n,t.isEmpty=i,t.on("unpipe",o),Array.prototype.slice.call(arguments).forEach(n),t;function n(r){return Array.isArray(r)?(r.forEach(n),this):(e.push(r),r.once("end",o.bind(null,r)),r.once("error",t.emit.bind(t,"error")),r.pipe(t,{end:!1}),this)}function i(){return 0==e.length}function o(n){!(e=e.filter((function(e){return e!==n}))).length&&t.readable&&t.end()}}},4341:e=>{"use strict";const t=(e,t)=>{for(const n of Reflect.ownKeys(t))Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n));return e};e.exports=t,e.exports.default=t},1171:(e,t,n)=>{e.exports=f,f.Minimatch=p;var r={sep:"/"};try{r=n(5622)}catch(e){}var i=f.GLOBSTAR=p.GLOBSTAR={},o=n(3644),s={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},a="[^/]",c="[^/]*?",l="().*{}+?[]^$\\!".split("").reduce((function(e,t){return e[t]=!0,e}),{}),u=/\/+/;function d(e,t){e=e||{},t=t||{};var n={};return Object.keys(t).forEach((function(e){n[e]=t[e]})),Object.keys(e).forEach((function(t){n[t]=e[t]})),n}function f(e,t,n){if("string"!=typeof t)throw new TypeError("glob pattern string required");return n||(n={}),!(!n.nocomment&&"#"===t.charAt(0))&&(""===t.trim()?""===e:new p(t,n).match(e))}function p(e,t){if(!(this instanceof p))return new p(e,t);if("string"!=typeof e)throw new TypeError("glob pattern string required");t||(t={}),e=e.trim(),"/"!==r.sep&&(e=e.split(r.sep).join("/")),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}function h(e,t){if(t||(t=this instanceof p?this.options:{}),void 0===(e=void 0===e?this.pattern:e))throw new TypeError("undefined pattern");return t.nobrace||!e.match(/\{.*\}/)?[e]:o(e)}f.filter=function(e,t){return t=t||{},function(n,r,i){return f(n,e,t)}},f.defaults=function(e){if(!e||!Object.keys(e).length)return f;var t=f,n=function(n,r,i){return t.minimatch(n,r,d(e,i))};return n.Minimatch=function(n,r){return new t.Minimatch(n,d(e,r))},n},p.defaults=function(e){return e&&Object.keys(e).length?f.defaults(e).Minimatch:p},p.prototype.debug=function(){},p.prototype.make=function(){if(!this._made){var e=this.pattern,t=this.options;if(t.nocomment||"#"!==e.charAt(0))if(e){this.parseNegate();var n=this.globSet=this.braceExpand();t.debug&&(this.debug=console.error),this.debug(this.pattern,n),n=this.globParts=n.map((function(e){return e.split(u)})),this.debug(this.pattern,n),n=n.map((function(e,t,n){return e.map(this.parse,this)}),this),this.debug(this.pattern,n),n=n.filter((function(e){return-1===e.indexOf(!1)})),this.debug(this.pattern,n),this.set=n}else this.empty=!0;else this.comment=!0}},p.prototype.parseNegate=function(){var e=this.pattern,t=!1,n=0;if(!this.options.nonegate){for(var r=0,i=e.length;r<i&&"!"===e.charAt(r);r++)t=!t,n++;n&&(this.pattern=e.substr(n)),this.negate=t}},f.braceExpand=function(e,t){return h(e,t)},p.prototype.braceExpand=h,p.prototype.parse=function(e,t){if(e.length>65536)throw new TypeError("pattern is too long");var n=this.options;if(!n.noglobstar&&"**"===e)return i;if(""===e)return"";var r,o="",u=!!n.nocase,d=!1,f=[],p=[],h=!1,g=-1,y=-1,v="."===e.charAt(0)?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",E=this;function w(){if(r){switch(r){case"*":o+=c,u=!0;break;case"?":o+=a,u=!0;break;default:o+="\\"+r}E.debug("clearStateChar %j %j",r,o),r=!1}}for(var b,S=0,_=e.length;S<_&&(b=e.charAt(S));S++)if(this.debug("%s\t%s %s %j",e,S,o,b),d&&l[b])o+="\\"+b,d=!1;else switch(b){case"/":return!1;case"\\":w(),d=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",e,S,o,b),h){this.debug("  in class"),"!"===b&&S===y+1&&(b="^"),o+=b;continue}E.debug("call clearStateChar %j",r),w(),r=b,n.noext&&w();continue;case"(":if(h){o+="(";continue}if(!r){o+="\\(";continue}f.push({type:r,start:S-1,reStart:o.length,open:s[r].open,close:s[r].close}),o+="!"===r?"(?:(?!(?:":"(?:",this.debug("plType %j %j",r,o),r=!1;continue;case")":if(h||!f.length){o+="\\)";continue}w(),u=!0;var x=f.pop();o+=x.close,"!"===x.type&&p.push(x),x.reEnd=o.length;continue;case"|":if(h||!f.length||d){o+="\\|",d=!1;continue}w(),o+="|";continue;case"[":if(w(),h){o+="\\"+b;continue}h=!0,y=S,g=o.length,o+=b;continue;case"]":if(S===y+1||!h){o+="\\"+b,d=!1;continue}if(h){var I=e.substring(y+1,S);try{RegExp("["+I+"]")}catch(e){var k=this.parse(I,m);o=o.substr(0,g)+"\\["+k[0]+"\\]",u=u||k[1],h=!1;continue}}u=!0,h=!1,o+=b;continue;default:w(),d?d=!1:!l[b]||"^"===b&&h||(o+="\\"),o+=b}for(h&&(I=e.substr(y+1),k=this.parse(I,m),o=o.substr(0,g)+"\\["+k[0],u=u||k[1]),x=f.pop();x;x=f.pop()){var C=o.slice(x.reStart+x.open.length);this.debug("setting tail",o,x),C=C.replace(/((?:\\{2}){0,64})(\\?)\|/g,(function(e,t,n){return n||(n="\\"),t+t+n+"|"})),this.debug("tail=%j\n   %s",C,C,x,o);var N="*"===x.type?c:"?"===x.type?a:"\\"+x.type;u=!0,o=o.slice(0,x.reStart)+N+"\\("+C}w(),d&&(o+="\\\\");var O=!1;switch(o.charAt(0)){case".":case"[":case"(":O=!0}for(var A=p.length-1;A>-1;A--){var T=p[A],D=o.slice(0,T.reStart),L=o.slice(T.reStart,T.reEnd-8),F=o.slice(T.reEnd-8,T.reEnd),P=o.slice(T.reEnd);F+=P;var R=D.split("(").length-1,j=P;for(S=0;S<R;S++)j=j.replace(/\)[+*?]?/,"");var M="";""===(P=j)&&t!==m&&(M="$"),o=D+L+P+M+F}if(""!==o&&u&&(o="(?=.)"+o),O&&(o=v+o),t===m)return[o,u];if(!u)return e.replace(/\\(.)/g,"$1");var B=n.nocase?"i":"";try{var U=new RegExp("^"+o+"$",B)}catch(e){return new RegExp("$.")}return U._glob=e,U._src=o,U};var m={};f.makeRe=function(e,t){return new p(e,t||{}).makeRe()},p.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var e=this.set;if(!e.length)return this.regexp=!1,this.regexp;var t=this.options,n=t.noglobstar?c:t.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",r=t.nocase?"i":"",o=e.map((function(e){return e.map((function(e){return e===i?n:"string"==typeof e?e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):e._src})).join("\\/")})).join("|");o="^(?:"+o+")$",this.negate&&(o="^(?!"+o+").*$");try{this.regexp=new RegExp(o,r)}catch(e){this.regexp=!1}return this.regexp},f.match=function(e,t,n){var r=new p(t,n=n||{});return e=e.filter((function(e){return r.match(e)})),r.options.nonull&&!e.length&&e.push(t),e},p.prototype.match=function(e,t){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return""===e;if("/"===e&&t)return!0;var n=this.options;"/"!==r.sep&&(e=e.split(r.sep).join("/")),e=e.split(u),this.debug(this.pattern,"split",e);var i,o,s=this.set;for(this.debug(this.pattern,"set",s),o=e.length-1;o>=0&&!(i=e[o]);o--);for(o=0;o<s.length;o++){var a=s[o],c=e;if(n.matchBase&&1===a.length&&(c=[i]),this.matchOne(c,a,t))return!!n.flipNegate||!this.negate}return!n.flipNegate&&this.negate},p.prototype.matchOne=function(e,t,n){var r=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var o=0,s=0,a=e.length,c=t.length;o<a&&s<c;o++,s++){this.debug("matchOne loop");var l,u=t[s],d=e[o];if(this.debug(t,u,d),!1===u)return!1;if(u===i){this.debug("GLOBSTAR",[t,u,d]);var f=o,p=s+1;if(p===c){for(this.debug("** at the end");o<a;o++)if("."===e[o]||".."===e[o]||!r.dot&&"."===e[o].charAt(0))return!1;return!0}for(;f<a;){var h=e[f];if(this.debug("\nglobstar while",e,f,t,p,h),this.matchOne(e.slice(f),t.slice(p),n))return this.debug("globstar found match!",f,a,h),!0;if("."===h||".."===h||!r.dot&&"."===h.charAt(0)){this.debug("dot detected!",e,f,t,p);break}this.debug("globstar swallow a segment, and continue"),f++}return!(!n||(this.debug("\n>>> no match, partial?",e,f,t,p),f!==a))}if("string"==typeof u?(l=r.nocase?d.toLowerCase()===u.toLowerCase():d===u,this.debug("string match",u,d,l)):(l=d.match(u),this.debug("pattern match",u,d,l)),!l)return!1}if(o===a&&s===c)return!0;if(o===a)return n;if(s===c)return o===a-1&&""===e[o];throw new Error("wtf?")}},1890:(e,t,n)=>{var r=n(5622),i=n(5747),o=parseInt("0777",8);function s(e,t,n,a){"function"==typeof t?(n=t,t={}):t&&"object"==typeof t||(t={mode:t});var c=t.mode,l=t.fs||i;void 0===c&&(c=o),a||(a=null);var u=n||function(){};e=r.resolve(e),l.mkdir(e,c,(function(n){if(!n)return u(null,a=a||e);switch(n.code){case"ENOENT":if(r.dirname(e)===e)return u(n);s(r.dirname(e),t,(function(n,r){n?u(n,r):s(e,t,u,r)}));break;default:l.stat(e,(function(e,t){e||!t.isDirectory()?u(n,a):u(null,a)}))}}))}e.exports=s.mkdirp=s.mkdirP=s,s.sync=function e(t,n,s){n&&"object"==typeof n||(n={mode:n});var a=n.mode,c=n.fs||i;void 0===a&&(a=o),s||(s=null),t=r.resolve(t);try{c.mkdirSync(t,a),s=s||t}catch(i){switch(i.code){case"ENOENT":s=e(r.dirname(t),n,s),e(t,n,s);break;default:var l;try{l=c.statSync(t)}catch(e){throw i}if(!l.isDirectory())throw i}}return s}},573:(e,t,n)=>{"use strict";const r=n(5747),i=n(5622),o=n(8614).EventEmitter,s=n(2758);class a extends o{constructor(e){if(super(e=e||{}),this.path=i.resolve(e.path||process.cwd()),this.parent=e.parent||null,this.parent){if(this.result=this.parent.result,!this.parent.parent){const e=i.basename(this.path),t=i.basename(i.dirname(this.path));this.result.add(/^@/.test(t)?t+"/"+e:e)}this.root=this.parent.root,this.packageJsonCache=this.parent.packageJsonCache}else this.result=new Set,this.root=this.path,this.packageJsonCache=e.packageJsonCache||new Map;this.seen=new Set,this.didDone=!1,this.children=0,this.node_modules=[],this.package=null,this.bundle=null}addListener(e,t){return this.on(e,t)}on(e,t){const n=super.on(e,t);return"done"===e&&this.didDone&&this.emit("done",this.result),n}done(){if(!this.didDone)if(this.didDone=!0,this.parent)this.emit("done");else{const e=Array.from(this.result);this.result=e,this.emit("done",e)}}start(){const e=i.resolve(this.path,"package.json");return this.packageJsonCache.has(e)?this.onPackage(this.packageJsonCache.get(e)):this.readPackageJson(e),this}readPackageJson(e){r.readFile(e,((t,n)=>t?this.done():this.onPackageJson(e,n)))}onPackageJson(e,t){try{this.package=s(JSON.parse(t+""))}catch(e){return this.done()}this.packageJsonCache.set(e,this.package),this.onPackage(this.package)}allDepsBundled(e){return Object.keys(e.dependencies||{}).concat(Object.keys(e.optionalDependencies||{}))}onPackage(e){const t=this.parent?this.allDepsBundled(e):e.bundleDependencies||e.bundledDependencies||[],n=Array.from(new Set(Array.isArray(t)?t:!0===t?this.allDepsBundled(e):Object.keys(t)));if(!n.length)return this.done();this.bundle=n,this.path,this.readModules()}readModules(){l(this.path+"/node_modules",((e,t)=>e?this.onReaddir([]):this.onReaddir(t)))}onReaddir(e){this.node_modules=e,this.bundle.forEach((e=>this.childDep(e))),0===this.children&&this.done()}childDep(e){-1!==this.node_modules.indexOf(e)?this.seen.has(e)||(this.seen.add(e),this.child(e)):this.parent&&this.parent.childDep(e)}child(e){const t=this.path+"/node_modules/"+e;this.children+=1;const n=new a({path:t,parent:this});n.on("done",(e=>{0==--this.children&&this.done()})),n.start()}}class c extends a{constructor(e){super(e)}start(){return super.start(),this.done(),this}readPackageJson(e){try{this.onPackageJson(e,r.readFileSync(e))}catch(e){}return this}readModules(){try{this.onReaddir(u(this.path+"/node_modules"))}catch(e){this.onReaddir([])}}child(e){new c({path:this.path+"/node_modules/"+e,parent:this}).start()}}const l=(e,t)=>{r.readdir(e,((n,i)=>{if(n)t(n);else{const n=i.filter((e=>/^@/.test(e)));if(n.length){const o=i.filter((e=>!/^@/.test(e)));let s=n.length;n.forEach((n=>{r.readdir(e+"/"+n,((e,r)=>{e||!r.length?o.push(n):o.push.apply(o,r.map((e=>n+"/"+e))),0==--s&&t(null,o)}))}))}else t(null,i)}}))},u=e=>{const t=r.readdirSync(e),n=t.filter((e=>!/^@/.test(e))),i=t.filter((e=>/^@/.test(e))).map((t=>{try{const n=r.readdirSync(e+"/"+t);return n.length?n.map((e=>t+"/"+e)):[t]}catch(e){return[t]}})).reduce(((e,t)=>e.concat(t)),[]);return n.concat(i)},d=(e,t)=>{const n=new Promise(((t,n)=>{new a(e).on("done",t).on("error",n).start()}));return t?n.then((e=>t(null,e)),t):n};e.exports=d,d.sync=e=>new c(e).start().result,d.BundleWalker=a,d.BundleWalkerSync=c},2758:(e,t,n)=>{const{join:r,basename:i}=n(5622),o=e=>(delete e.bin,e),s=e=>{const t=e.bin,n={};let o=!1;return Object.keys(t).forEach((e=>{const s=r("/",i(e.replace(/\\|:/g,"/"))).substr(1);if("string"!=typeof t[e]||!s)return;const a=r("/",t[e]).replace(/\\/g,"/").substr(1);a&&(n[s]=a,o=!0)})),o?e.bin=n:delete e.bin,e};e.exports=e=>e.bin?"string"==typeof e.bin?(e=>e.name?(e.bin={[e.name]:e.bin},s(e)):o(e))(e):Array.isArray(e.bin)?(e=>(e.bin=e.bin.reduce(((e,t)=>(e[i(t)]=t,e)),{}),s(e)))(e):"object"==typeof e.bin?s(e):o(e):o(e)},353:(e,t,n)=>{"use strict";const r=n(573),i=r.BundleWalker,o=r.BundleWalkerSync,s=n(3065),a=s.Walker,c=s.WalkerSync,l=Symbol("root-builtin-rules"),u=Symbol("package-necessary-rules"),d=n(5622),f=n(2758),p=[".npmignore",".gitignore","**/.git","**/.svn","**/.hg","**/CVS","**/.git/**","**/.svn/**","**/.hg/**","**/CVS/**","/.lock-wscript","/.wafpickle-*","/build/config.gypi","npm-debug.log","**/.npmrc",".*.swp",".DS_Store","**/.DS_Store/**","._*","**/._*/**","*.orig","/package-lock.json","/yarn.lock","archived-packages/**","core","!core/","!**/core/","*.core","*.vgcore","vgcore.*","core.+([0-9])"],h=e=>class extends e{constructor(e){(e=e||{}).ignoreFiles=[l,"package.json",".npmignore",".gitignore",u],e.includeEmpty=!1,e.path=e.path||process.cwd();const t=d.basename(e.path),n=d.basename(d.dirname(e.path));if(e.follow="node_modules"===t||"node_modules"===n&&/^@/.test(t),super(e),this.parent)this.bundled=[],this.bundledScopes=[],this.packageJsonCache=this.parent.packageJsonCache;else{this.bundled=e.bundled||[],this.bundledScopes=Array.from(new Set(this.bundled.filter((e=>/^@/.test(e))).map((e=>e.split("/")[0]))));const t=p.join("\n")+"\n";this.packageJsonCache=e.packageJsonCache||new Map,super.onReadIgnoreFile(l,t,(e=>e))}}onReaddir(e){return this.parent||(e=e.filter((e=>".git"!==e&&!("node_modules"===e&&0===this.bundled.length)))),super.onReaddir(e)}filterEntry(e,t){const n=this.path.substr(this.root.length+1),r=/^node_modules\/(@[^\/]+\/?[^\/]+|[^\/]+)(\/.*)?$/,i=!this.parent,o=i&&r.test(e)?e.replace(r,"$1"):null,s=i&&"node_modules"===e,a=i&&"package.json"===e;return/^node_modules($|\/)/i.test(n)?this.parent.filterEntry(this.basename+"/"+e,t):o?-1!==this.bundled.indexOf(o)||-1!==this.bundledScopes.indexOf(o):s?!!this.bundled.length:!!a||super.filterEntry(e,t)}filterEntries(){this.ignoreRules["package.json"]?this.ignoreRules[".gitignore"]=this.ignoreRules[".npmignore"]=null:this.ignoreRules[".npmignore"]&&(this.ignoreRules[".gitignore"]=null),this.filterEntries=super.filterEntries,super.filterEntries()}addIgnoreFile(e,t){const n=d.resolve(this.path,e);this.packageJsonCache.has(n)?this.onPackageJson(n,this.packageJsonCache.get(n),t):super.addIgnoreFile(e,t)}onPackageJson(e,t,n){this.packageJsonCache.set(e,t);const r=[t.browser?"!"+t.browser:"",t.main?"!"+t.main:"","!package.json","!npm-shrinkwrap.json","!@(readme|copying|license|licence|notice|changes|changelog|history){,.*[^~$]}"];if(t.bin)for(const e in t.bin)r.push("!"+t.bin[e]);const i=r.filter((e=>e)).join("\n")+"\n";super.onReadIgnoreFile(u,i,(e=>e)),Array.isArray(t.files)?super.onReadIgnoreFile("package.json","*\n"+t.files.map((e=>"!"+e+"\n!"+e.replace(/\/+$/,"")+"/**")).join("\n")+"\n",n):n()}stat(e,t,n,r){(e=>/\*/.test(e))(e)?r():super.stat(e,t,n,r)}onstat(e,t,n,r,i){e.isSymbolicLink()?i():super.onstat(e,t,n,r,i)}onReadIgnoreFile(e,t,n){if("package.json"===e)try{const r=d.resolve(this.path,e);this.onPackageJson(r,f(JSON.parse(t)),n)}catch(e){n()}else super.onReadIgnoreFile(e,t,n)}sort(e,t){return v(e,t)}};class m extends(h(a)){walker(e,t){new m(this.walkerOpt(e)).on("done",t).start()}}class g extends(h(c)){walker(e,t){new g(this.walkerOpt(e)).start(),t()}}const y=(e,t)=>{e=e||{};const n=new Promise(((t,n)=>{const r=new i(e);r.on("done",(i=>{e.bundled=i,e.packageJsonCache=r.packageJsonCache,new m(e).on("done",t).on("error",n).start()})),r.start()}));return t?n.then((e=>t(null,e)),t):n},v=(e,t)=>{const n=d.extname(e).toLowerCase(),r=d.extname(t).toLowerCase(),i=d.basename(e).toLowerCase(),o=d.basename(t).toLowerCase();return n.localeCompare(r)||i.localeCompare(o)||e.localeCompare(t)};e.exports=y,y.sync=e=>{const t=new o(e=e||{}).start();e.bundled=t.result,e.packageJsonCache=t.packageJsonCache;const n=new g(e);return n.start(),n.result},y.Walker=m,y.WalkerSync=g},6147:(e,t,n)=>{"use strict";const r=n(5622),i=n(7856),o=e=>{let t;e={cwd:process.cwd(),path:process.env[i()],execPath:process.execPath,...e};let n=r.resolve(e.cwd);const o=[];for(;t!==n;)o.push(r.join(n,"node_modules/.bin")),t=n,n=r.resolve(n,"..");const s=r.resolve(e.cwd,e.execPath,"..");return o.push(s),o.concat(e.path).join(r.delimiter)};e.exports=o,e.exports.default=o,e.exports.env=t=>{const n={...(t={env:process.env,...t}).env},r=i({env:n});return t.path=n[r],n[r]=e.exports(t),n}},7856:e=>{"use strict";const t=(e={})=>{const t=e.env||process.env;return"win32"!==(e.platform||process.platform)?"PATH":Object.keys(t).reverse().find((e=>"PATH"===e.toUpperCase()))||"Path"};e.exports=t,e.exports.default=t},778:(e,t,n)=>{var r=n(2479);function i(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function o(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},n=e.name||"Function wrapped with `once`";return t.onceError=n+" shouldn't be called more than once",t.called=!1,t}e.exports=r(i),e.exports.strict=r(o),i.proto=i((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return i(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return o(this)},configurable:!0})}))},7678:(e,t,n)=>{"use strict";const r=n(4341),i=new WeakMap,o=(e,t={})=>{if("function"!=typeof e)throw new TypeError("Expected a function");let n,o=0;const s=e.displayName||e.name||"<anonymous>",a=function(...r){if(i.set(a,++o),1===o)n=e.apply(this,r),e=null;else if(!0===t.throw)throw new Error(`Function \`${s}\` can only be called once`);return n};return r(a,e),i.set(a,o),a};e.exports=o,e.exports.default=o,e.exports.callCount=e=>{if(!i.has(e))throw new Error(`The given function \`${e.name}\` is not wrapped by the \`onetime\` package`);return i.get(e)}},4095:e=>{"use strict";function t(e){return"/"===e.charAt(0)}function n(e){var t=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/.exec(e),n=t[1]||"",r=Boolean(n&&":"!==n.charAt(1));return Boolean(t[2]||r)}e.exports="win32"===process.platform?n:t,e.exports.posix=t,e.exports.win32=n},1083:(e,t,n)=>{"use strict";const r=n(5622),i=n(3129),o=n(8309),s=n(8150),a=n(6147),c=n(7678),l=n(5162),u=n(5752),{spawnedKill:d,spawnedCancel:f,setupTimeout:p,validateTimeout:h,setExitHandler:m}=n(8225),{handleInput:g,getSpawnedResult:y,makeAllStream:v,validateInputSync:E}=n(7889),{mergePromise:w,getSpawnedPromise:b}=n(4109),{joinCommand:S,parseCommand:_,getEscapedCommand:x}=n(8611),I=(e,t,n={})=>{const i=o._parse(e,t,n);return e=i.command,t=i.args,(n={maxBuffer:1e8,buffer:!0,stripFinalNewline:!0,extendEnv:!0,preferLocal:!1,localDir:(n=i.options).cwd||process.cwd(),execPath:process.execPath,encoding:"utf8",reject:!0,cleanup:!0,all:!1,windowsHide:!0,...n}).env=(({env:e,extendEnv:t,preferLocal:n,localDir:r,execPath:i})=>{const o=t?{...process.env,...e}:e;return n?a.env({env:o,cwd:r,execPath:i}):o})(n),n.stdio=u(n),"win32"===process.platform&&"cmd"===r.basename(e,".exe")&&t.unshift("/q"),{file:e,args:t,options:n,parsed:i}},k=(e,t,n)=>"string"==typeof t||Buffer.isBuffer(t)?e.stripFinalNewline?s(t):t:void 0===n?void 0:"",C=(e,t,n)=>{const r=I(e,t,n),o=S(e,t),s=x(e,t);let a;h(r.options);try{a=i.spawn(r.file,r.args,r.options)}catch(e){const t=new i.ChildProcess,n=Promise.reject(l({error:e,stdout:"",stderr:"",all:"",command:o,escapedCommand:s,parsed:r,timedOut:!1,isCanceled:!1,killed:!1}));return w(t,n)}const u=b(a),E=p(a,r.options,u),_=m(a,r.options,E),C={isCanceled:!1};a.kill=d.bind(null,a.kill.bind(a)),a.cancel=f.bind(null,a,C);const N=c((async()=>{const[{error:e,exitCode:t,signal:n,timedOut:i},c,u,d]=await y(a,r.options,_),f=k(r.options,c),p=k(r.options,u),h=k(r.options,d);if(e||0!==t||null!==n){const c=l({error:e,exitCode:t,signal:n,stdout:f,stderr:p,all:h,command:o,escapedCommand:s,parsed:r,timedOut:i,isCanceled:C.isCanceled,killed:a.killed});if(!r.options.reject)return c;throw c}return{command:o,escapedCommand:s,exitCode:0,stdout:f,stderr:p,all:h,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}}));return g(a,r.options.input),a.all=v(a,r.options),w(a,N)};e.exports=C,e.exports.sync=(e,t,n)=>{const r=I(e,t,n),o=S(e,t),s=x(e,t);let a;E(r.options);try{a=i.spawnSync(r.file,r.args,r.options)}catch(e){throw l({error:e,stdout:"",stderr:"",all:"",command:o,escapedCommand:s,parsed:r,timedOut:!1,isCanceled:!1,killed:!1})}const c=k(r.options,a.stdout,a.error),u=k(r.options,a.stderr,a.error);if(a.error||0!==a.status||null!==a.signal){const e=l({stdout:c,stderr:u,error:a.error,signal:a.signal,exitCode:a.status,command:o,escapedCommand:s,parsed:r,timedOut:a.error&&"ETIMEDOUT"===a.error.code,isCanceled:!1,killed:null!==a.signal});if(!r.options.reject)return e;throw e}return{command:o,escapedCommand:s,exitCode:0,stdout:c,stderr:u,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}},e.exports.command=(e,t)=>{const[n,...r]=_(e);return C(n,r,t)},e.exports.commandSync=(e,t)=>{const[n,...r]=_(e);return C.sync(n,r,t)},e.exports.node=(e,t,n={})=>{t&&!Array.isArray(t)&&"object"==typeof t&&(n=t,t=[]);const r=u.node(n),i=process.execArgv.filter((e=>!e.startsWith("--inspect"))),{nodePath:o=process.execPath,nodeOptions:s=i}=n;return C(o,[...s,e,...Array.isArray(t)?t:[]],{...n,stdin:void 0,stdout:void 0,stderr:void 0,stdio:r,shell:!1})}},8611:e=>{"use strict";const t=(e,t=[])=>Array.isArray(t)?[e,...t]:[e],n=/^[\w.-]+$/,r=/"/g,i=/ +/g;e.exports={joinCommand:(e,n)=>t(e,n).join(" "),getEscapedCommand:(e,i)=>t(e,i).map((e=>(e=>"string"!=typeof e||n.test(e)?e:`"${e.replace(r,'\\"')}"`)(e))).join(" "),parseCommand:e=>{const t=[];for(const n of e.trim().split(i)){const e=t[t.length-1];e&&e.endsWith("\\")?t[t.length-1]=`${e.slice(0,-1)} ${n}`:t.push(n)}return t}}},5162:(e,t,n)=>{"use strict";const{signalsByName:r}=n(7787);e.exports=({stdout:e,stderr:t,all:n,error:i,signal:o,exitCode:s,command:a,escapedCommand:c,timedOut:l,isCanceled:u,killed:d,parsed:{options:{timeout:f}}})=>{s=null===s?void 0:s;const p=void 0===(o=null===o?void 0:o)?void 0:r[o].description,h=`Command ${(({timedOut:e,timeout:t,errorCode:n,signal:r,signalDescription:i,exitCode:o,isCanceled:s})=>e?`timed out after ${t} milliseconds`:s?"was canceled":void 0!==n?`failed with ${n}`:void 0!==r?`was killed with ${r} (${i})`:void 0!==o?`failed with exit code ${o}`:"failed")({timedOut:l,timeout:f,errorCode:i&&i.code,signal:o,signalDescription:p,exitCode:s,isCanceled:u})}: ${a}`,m="[object Error]"===Object.prototype.toString.call(i),g=m?`${h}\n${i.message}`:h,y=[g,t,e].filter(Boolean).join("\n");return m?(i.originalMessage=i.message,i.message=y):i=new Error(y),i.shortMessage=g,i.command=a,i.escapedCommand=c,i.exitCode=s,i.signal=o,i.signalDescription=p,i.stdout=e,i.stderr=t,void 0!==n&&(i.all=n),"bufferedData"in i&&delete i.bufferedData,i.failed=!0,i.timedOut=Boolean(l),i.isCanceled=u,i.killed=d&&!l,i}},8225:(e,t,n)=>{"use strict";const r=n(2087),i=n(7908),o=(e,{forceKillAfterTimeout:t},n)=>s(e)&&!1!==t&&n,s=e=>e===r.constants.signals.SIGTERM||"string"==typeof e&&"SIGTERM"===e.toUpperCase(),a=({forceKillAfterTimeout:e=!0})=>{if(!0===e)return 5e3;if(!Number.isFinite(e)||e<0)throw new TypeError(`Expected the \`forceKillAfterTimeout\` option to be a non-negative integer, got \`${e}\` (${typeof e})`);return e};e.exports={spawnedKill:(e,t="SIGTERM",n={})=>{const r=e(t);return((e,t,n,r)=>{if(!o(t,n,r))return;const i=a(n),s=setTimeout((()=>{e("SIGKILL")}),i);s.unref&&s.unref()})(e,t,n,r),r},spawnedCancel:(e,t)=>{e.kill()&&(t.isCanceled=!0)},setupTimeout:(e,{timeout:t,killSignal:n="SIGTERM"},r)=>{if(0===t||void 0===t)return r;let i;const o=new Promise(((r,o)=>{i=setTimeout((()=>{((e,t,n)=>{e.kill(t),n(Object.assign(new Error("Timed out"),{timedOut:!0,signal:t}))})(e,n,o)}),t)})),s=r.finally((()=>{clearTimeout(i)}));return Promise.race([o,s])},validateTimeout:({timeout:e})=>{if(void 0!==e&&(!Number.isFinite(e)||e<0))throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${e}\` (${typeof e})`)},setExitHandler:async(e,{cleanup:t,detached:n},r)=>{if(!t||n)return r;const o=i((()=>{e.kill()}));return r.finally((()=>{o()}))}}},4109:e=>{"use strict";const t=(async()=>{})().constructor.prototype,n=["then","catch","finally"].map((e=>[e,Reflect.getOwnPropertyDescriptor(t,e)]));e.exports={mergePromise:(e,t)=>{for(const[r,i]of n){const n="function"==typeof t?(...e)=>Reflect.apply(i.value,t(),e):i.value.bind(t);Reflect.defineProperty(e,r,{...i,value:n})}return e},getSpawnedPromise:e=>new Promise(((t,n)=>{e.on("exit",((e,n)=>{t({exitCode:e,signal:n})})),e.on("error",(e=>{n(e)})),e.stdin&&e.stdin.on("error",(e=>{n(e)}))}))}},5752:e=>{"use strict";const t=["stdin","stdout","stderr"],n=e=>{if(!e)return;const{stdio:n}=e;if(void 0===n)return t.map((t=>e[t]));if((e=>t.some((t=>void 0!==e[t])))(e))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${t.map((e=>`\`${e}\``)).join(", ")}`);if("string"==typeof n)return n;if(!Array.isArray(n))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof n}\``);const r=Math.max(n.length,t.length);return Array.from({length:r},((e,t)=>n[t]))};e.exports=n,e.exports.node=e=>{const t=n(e);return"ipc"===t?"ipc":void 0===t||"string"==typeof t?[t,t,t,"ipc"]:t.includes("ipc")?t:[...t,"ipc"]}},7889:(e,t,n)=>{"use strict";const r=n(4970),i=n(31),o=n(4034),s=async(e,t)=>{if(e){e.destroy();try{return await t}catch(e){return e.bufferedData}}},a=(e,{encoding:t,buffer:n,maxBuffer:r})=>{if(e&&n)return t?i(e,{encoding:t,maxBuffer:r}):i.buffer(e,{maxBuffer:r})};e.exports={handleInput:(e,t)=>{void 0!==t&&void 0!==e.stdin&&(r(t)?t.pipe(e.stdin):e.stdin.end(t))},makeAllStream:(e,{all:t})=>{if(!t||!e.stdout&&!e.stderr)return;const n=o();return e.stdout&&n.add(e.stdout),e.stderr&&n.add(e.stderr),n},getSpawnedResult:async({stdout:e,stderr:t,all:n},{encoding:r,buffer:i,maxBuffer:o},c)=>{const l=a(e,{encoding:r,buffer:i,maxBuffer:o}),u=a(t,{encoding:r,buffer:i,maxBuffer:o}),d=a(n,{encoding:r,buffer:i,maxBuffer:2*o});try{return await Promise.all([c,l,u,d])}catch(r){return Promise.all([{error:r,signal:r.signal,timedOut:r.timedOut},s(e,l),s(t,u),s(n,d)])}},validateInputSync:({input:e})=>{if(r(e))throw new TypeError("The `input` option cannot be a stream in sync mode")}}},7908:(e,t,n)=>{var r,i=n(2357),o=n(5397),s=/^win/i.test(process.platform),a=n(8614);function c(){d&&(d=!1,o.forEach((function(e){try{process.removeListener(e,u[e])}catch(e){}})),process.emit=m,process.reallyExit=p,r.count-=1)}function l(e,t,n){r.emitted[e]||(r.emitted[e]=!0,r.emit(e,t,n))}"function"!=typeof a&&(a=a.EventEmitter),process.__signal_exit_emitter__?r=process.__signal_exit_emitter__:((r=process.__signal_exit_emitter__=new a).count=0,r.emitted={}),r.infinite||(r.setMaxListeners(1/0),r.infinite=!0),e.exports=function(e,t){i.equal(typeof e,"function","a callback must be provided for exit handler"),!1===d&&f();var n="exit";return t&&t.alwaysLast&&(n="afterexit"),r.on(n,e),function(){r.removeListener(n,e),0===r.listeners("exit").length&&0===r.listeners("afterexit").length&&c()}},e.exports.unload=c;var u={};o.forEach((function(e){u[e]=function(){process.listeners(e).length===r.count&&(c(),l("exit",null,e),l("afterexit",null,e),s&&"SIGHUP"===e&&(e="SIGINT"),process.kill(process.pid,e))}})),e.exports.signals=function(){return o},e.exports.load=f;var d=!1;function f(){d||(d=!0,r.count+=1,o=o.filter((function(e){try{return process.on(e,u[e]),!0}catch(e){return!1}})),process.emit=g,process.reallyExit=h)}var p=process.reallyExit;function h(e){process.exitCode=e||0,l("exit",process.exitCode,null),l("afterexit",process.exitCode,null),p.call(process,process.exitCode)}var m=process.emit;function g(e,t){if("exit"===e){void 0!==t&&(process.exitCode=t);var n=m.apply(this,arguments);return l("exit",process.exitCode,null),l("afterexit",process.exitCode,null),n}return m.apply(this,arguments)}},5397:e=>{e.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"],"win32"!==process.platform&&e.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT"),"linux"===process.platform&&e.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")},8150:e=>{"use strict";e.exports=e=>{const t="string"==typeof e?"\n":"\n".charCodeAt(),n="string"==typeof e?"\r":"\r".charCodeAt();return e[e.length-1]===t&&(e=e.slice(0,e.length-1)),e[e.length-1]===n&&(e=e.slice(0,e.length-1)),e}},2259:(e,t,n)=>{"use strict";n.r(t),n.d(t,{activate:()=>Bt,deactivate:()=>Ut});const r=require("hbuilderx");var i=n.n(r),o=n(5622),s=n.n(o),a=n(5747),c=n.n(a);const l=i().window.createOutputChannel("uni_modules");function u(e,t){"string"==typeof t?t=(e?`[${e}] `:"")+f(t):t.line=(e?`[${e}] `:"")+f(t.line),l.appendLine(t)}const d={UserNotLogin:"当前功能需要登录HBuilderX",HostNotFoundError:"网络发生错误，请稍后重试！",OperationCanceledError:"网络发生错误，请稍后重试！",NoPermission:"检测到uni_modules插件代码被篡改，有可能存在安全隐患，解决此问题需要重新安装该插件或者HBuilderX。"};function f(e){return d[e]||e}function p(e){e=f(e),i().window.showErrorMessage(e,["确定"])}function h(e,t){e=f(e),i().window.showMessageBox({type:"error",title:"错误提示",text:e,buttons:["确定"]}).then((()=>{t&&t()}))}function m(e){return Array.isArray(e)?e.map((e=>`[${e}]`)).join(""):e}function g(e,t,n){"string"==typeof n?n=(e?`[${e}]`:"")+`${m(t)} `+f(n):n.line=(e?`[${e}]`:"")+`${m(t)} `+f(n.line),l.appendLine(n)}function y(e,t){if(!c().existsSync(t))return!1;const n=c().readdirSync(e),r=c().readdirSync(t);return!!n.find((e=>r.includes(e)))}var v=n(2087),E=n.n(v);const w=E().tmpdir(),b=s().resolve(w,"uni_modules/upload"),S=s().resolve(w,"uni_modules/download"),_=s().resolve(w,"uni_modules/cache"),x=s().resolve(w,"uni_modules/tmp");function I(){return s().resolve(x,String(Date.now()),"uni_modules")}function k(e,t,n=!0){return function(e,t,n={},r=!0){const o=i().http.request({url:"https://ext.liuyingyong.cn"+t,method:e,header:{token:"${user.checked.token}",ideVersion:i().env.appVersion},params:n}).then((({data:e})=>{const t=JSON.parse(e);if(t.ret)throw new Error(t.desc);return t.data}));return r?o.catch((e=>{p(e.error||e.message)})):o}("post",e,t,n)}function C(e){return e.length?k("/modules/download-dependencies",{dependencies:e.join(",")},!1).then((e=>{if(e)return e})):Promise.resolve([])}function N(e){return k("/modules/create-sn",{param:e},!1).then((e=>{if(e)return e}))}const O=JSON.stringify([{id:1,name:"HBuilderX",pid:0,children:[{id:11,name:"HBuilderX",pid:1,type:"hbuilderx"}]}]);function A(){return JSON.parse(O)}const T=JSON.stringify([{id:3,name:"前端页面模板",pid:0,children:[{id:33,name:"uni-app前端项目模板",pid:3,type:"uniapp-template-project"}]},{id:7,name:"uniCloud",pid:0,children:[{id:72,name:"云端一体项目模板",pid:7,type:"unicloud-template-project"}]}]);function D(){return JSON.parse(T)}const L={category:[{id:2,pid:0,name:"前端组件",children:[{id:21,pid:2,name:"通用组件",type:"component-vue"},{id:23,pid:2,name:"小程序组件",type:"component-mp"}]},{id:4,pid:0,name:"JS SDK",children:[{id:41,pid:4,name:"通用 SDK",type:"sdk-js"}]},{id:3,pid:0,name:"uni-app前端模板",children:[{id:31,pid:3,name:"前端页面模板",type:"uniapp-template-page"}]},{id:7,pid:0,name:"uniCloud",children:[{id:71,pid:7,name:"云函数模板",type:"unicloud-template-function"},{id:73,pid:7,name:"云端一体页面模板",type:"unicloud-template-page"},{id:74,pid:7,name:"Admin插件",type:"unicloud-admin"},{id:76,pid:7,name:"DB Schema及验证函数",type:"unicloud-database"}]},{id:8,pid:0,name:"uts插件",children:[{id:81,pid:8,name:"API插件",type:"uts"},{id:82,pid:8,name:"组件插件",type:"component-uts"}]}],fe_platforms:[{id:24,pid:0,name:"Vue",children:[{id:25,pid:24,name:"vue2",type:0,desc:""},{id:26,pid:24,name:"vue3",type:0,desc:""}]},{id:1,pid:0,name:"App",children:[{id:2,pid:1,name:"app-vue",type:0,desc:""},{id:3,pid:1,name:"app-nvue",type:0,desc:""},{id:34,pid:1,name:"app-uvue",type:0,desc:""}]},{id:4,pid:0,name:"H5-mobile",children:[{id:5,pid:4,name:"Safari",type:0,desc:""},{id:6,pid:4,name:"Android Browser",type:0,desc:""},{id:7,pid:4,name:"微信浏览器(Android)",type:0,desc:""},{id:8,pid:4,name:"QQ浏览器(Android)",type:0,desc:""}]},{id:9,pid:0,name:"H5-pc",children:[{id:10,pid:9,name:"Chrome",type:0,desc:""},{id:11,pid:9,name:"IE",type:0,desc:""},{id:12,pid:9,name:"Edge",type:0,desc:""},{id:13,pid:9,name:"Firefox",type:0,desc:""},{id:14,pid:9,name:"Safari",type:0,desc:""}]},{id:15,pid:0,name:"小程序",children:[{id:16,pid:15,name:"微信",type:0,desc:""},{id:17,pid:15,name:"阿里",type:0,desc:""},{id:18,pid:15,name:"百度",type:0,desc:""},{id:19,pid:15,name:"字节跳动",type:0,desc:""},{id:20,pid:15,name:"QQ",type:0,desc:""},{id:27,pid:15,name:"钉钉",type:0,desc:""},{id:28,pid:15,name:"快手",type:0,desc:""},{id:29,pid:15,name:"飞书",type:0,desc:""},{id:30,pid:15,name:"京东",type:0,desc:""}]},{id:21,pid:0,name:"快应用",children:[{id:22,pid:21,name:"华为",type:0,desc:""},{id:23,pid:21,name:"联盟",type:0,desc:""}]}],tips:{plugin_id:"<p>插件 ID 命名规范：<br>1. 格式为：'作者ID-插件英文名称'，例如：'xx-yy'，其中作者ID和插件名称只能包含英文、数字<br>2. 作者ID由插件作者自定义，不能使用'DCloud'、'uni'等关键字<br>3. 插件名称需直观表达插件的作用，例如：tag、button等</p>",update_log:"<p>注意：<br>1. 请填写更新日志，支持 markdown 格式。<br>2. 此处填写的更新日志会展示在插件详情页面，默认展示最近两次的更新记录。<br>3. 更新日志不需要填写日期和版本，页面展示时，会自动读取发布时填写的版本和日期。<br><strong>4. 更新日志内容简要说明本次更新的主要内容即可，不要粘贴插件的说明文档，否则会导致页面展示时与下面的说明文档内容重复。</strong></p>",cover_img:"<p>请上传截图（尺寸保持一致），单张图片不超过1M。尺寸不小于480*800。JPG、PNG格式。</p>",plugin_package:'<p>注意：<br>1. 插件压缩包为标准 zip 格式，不要把 rar 等其他格式改名为 zip，会导致无法正确解压；<br>2. 插件包命名推荐使用"插件ID.zip"。插件包文件名最好使用英文+数字格式。使用中文命名的压缩包可能会导致处理异常。<br>3. 插件包中的文件尽量不要包含中文文件名，如果必须为中文文件名，请在压缩时选择 utf8 编码，否则会导致部分平台解压后文件名乱码。<br><strong>免费插件默认协议为MIT，如果在插件包根目录放置license.md，则以该license.md为准。付费插件许可协议为插件市场标准协议，勿在付费插件包的根目录包含license.md。</strong></p>',plugin_md:'<p>插件使用说明, md（markdown） 格式。<br>注意：<br>1. 文件编码请使用 utf-8 编码，其它编码可能会导致页面乱码。<br>2. 文档中请尽量只使用 markdown 语法，如果混排 html 语法可能会导致排版混乱。<br>3. 如果文档中使用了图片，请将图片上传到图床，在 markdown 中引用图床地址，否则会导致图片无法显示。<br><strong>如插件文档的markdown需要图床，或者有示例的apk缺少免费托管，或者有示例的h5网站需要部署，请开通<a href="https://unicloud.dcloud.net.cn" target="_blank">uniCloud</a>。在“云存储”里免费使用图床和apk下载，在“前端网页托管”里发布网页。</strong></p>',plugin_example:'<p>1. 建议上传插件使用示例工程（完整的 uni-app 工程），方便用户快速上手。<br>2. 压缩包文件名及压缩包中的文件尽量不要包含中文路径或文件名，可能会导致解压异常。<br>3. 如果插件历史版本存在示例工程，但发布新版时并未更新示例，则仍保留历史最新的示例工程。如需删除示例工程可前往 <a target="_blank" href="https://ext.dcloud.net.cn/manage">我发布的插件</a>进行操作。</p>',declaration_permissions:"<p>请如实填写，如不需要任何权限，可填“无”</p>",declaration_collect_data:'<p>请如实填写，如不采集任何数据，可填写“插件不采集任何数据”<br>如果使用的三方SDK需要采集数据，可填写“插件使用的 XX SDK会采集数据，详情可参考：https://other-sdk.com/"</p>',declaration_ads:"<p>请如实填写，如不需要任何权限，可填“无”</p>",platforms:"<p>设置兼容全部平台时，uniCloud目录必须含有-aliyun或-tcb或-alipay后缀；不要求同时有三个云函数目录。</p>",price:'<p>设置插件销售普通授权版价格，单位为元，如 8.88 元。如果为免费插件，设置普通授权版价格为 0 即可。<br><span>加密云函数配置参考： <a target="_blank" href="https://ask.dcloud.net.cn/article/35408">插件开发指南</a></span></p>',code_price:'<p>注意：<br>1.设置插件源码授权版价格，单位为元。该模式下插件包内必须有加密函数或者公共模块。加密云函数配置参考： <a target="_blank" href="https://ask.dcloud.net.cn/article/35408">插件开发指南</a><br>2.源码授权版价格大于普通授权版价格并且源码授权版价格大于100元时，购买者和插件作者需要签署“e签宝”电子协议，<a target="_blank" href="https://ask.dcloud.net.cn/article/37878">点击查看“e签宝”介绍</a><br>3.当用户购买源码授权版并需要签署电子协议时，“e签宝”会向您尾号 8654 的手机和 fxy***@gmail.com 的邮箱发送通知信息，请注意查收并及时签署电子协议！详细签署流程请参考：<a target="_blank" href="https://ask.dcloud.net.cn/article/37841">电子协议签署流程</a><br></p>',publisher_qq:"<p>插件作者 QQ，方便管理员审核时与作者快速沟通。</p>"},hxVersionList:["3.6.0","3.5.5","3.5.4","3.5.3","3.5.2","3.5.1","3.4.18","3.5.0","3.4.17","3.4.15","3.4.14","3.4.13","3.4.12","3.4.11","3.4.10","3.4.9","3.4.8","3.4.7","3.4.6","3.4.5","3.4.4","3.4.3","3.3.13","3.4.2","3.4.1","3.4.0","3.3.12","3.3.11","3.3.10","3.3.9","3.3.8","3.3.7","3.3.6","3.3.5","3.3.4","3.3.3","3.3.2","3.3.1","3.3.0","3.2.16","3.2.15","3.2.14","3.2.13","3.2.12","3.2.11","3.2.10","3.2.9","3.2.8","3.2.7","3.2.6","3.2.5"],androidVersionList:{19:"4.4",20:"4.4w",21:"5.0",22:"5.1",23:"6.0",24:"7.0",25:"7.1",26:"8.0",27:"8.1",28:"9.0",29:"10.0",30:"11.0",31:"12.0"},androidAbiList:["armeabi-v7a","arm64-v8a","x86"],iosVersionList:[9,10,11,12,13,14,15]},F=s().resolve(E().tmpdir(),"uni_modules.form_meta.v2.json");function P(e){let t=JSON.parse(JSON.stringify(L));if(c().existsSync(F))try{t=JSON.parse(c().readFileSync(F).toString())}catch(e){}return"project"===e?t.category=D():"extension"===e&&(t.category=A()),t=R(t),t}function R(e){if(e.fe_platforms){const t=e.fe_platforms.find((e=>1===e.id));t.children.find((e=>32===e.id))||t.children.push({id:32,pid:1,name:"app-android",type:0,desc:""}),t.children.find((e=>33===e.id))||t.children.push({id:33,pid:1,name:"app-ios",type:0,desc:""})}return e}function j(e,t){void 0===t&&(t=!1);var n=e.length,r=0,i="",o=0,s=16,a=0,c=0,l=0,u=0,d=0;function f(t,n){for(var i=0,o=0;i<t||!n;){var s=e.charCodeAt(r);if(s>=48&&s<=57)o=16*o+s-48;else if(s>=65&&s<=70)o=16*o+s-65+10;else{if(!(s>=97&&s<=102))break;o=16*o+s-97+10}r++,i++}return i<t&&(o=-1),o}function p(){if(i="",d=0,o=r,c=a,u=l,r>=n)return o=n,s=17;var t=e.charCodeAt(r);if(M(t)){do{r++,i+=String.fromCharCode(t),t=e.charCodeAt(r)}while(M(t));return s=15}if(B(t))return r++,i+=String.fromCharCode(t),13===t&&10===e.charCodeAt(r)&&(r++,i+="\n"),a++,l=r,s=14;switch(t){case 123:return r++,s=1;case 125:return r++,s=2;case 91:return r++,s=3;case 93:return r++,s=4;case 58:return r++,s=6;case 44:return r++,s=5;case 34:return r++,i=function(){for(var t="",i=r;;){if(r>=n){t+=e.substring(i,r),d=2;break}var o=e.charCodeAt(r);if(34===o){t+=e.substring(i,r),r++;break}if(92!==o){if(o>=0&&o<=31){if(B(o)){t+=e.substring(i,r),d=2;break}d=6}r++}else{if(t+=e.substring(i,r),++r>=n){d=2;break}switch(e.charCodeAt(r++)){case 34:t+='"';break;case 92:t+="\\";break;case 47:t+="/";break;case 98:t+="\b";break;case 102:t+="\f";break;case 110:t+="\n";break;case 114:t+="\r";break;case 116:t+="\t";break;case 117:var s=f(4,!0);s>=0?t+=String.fromCharCode(s):d=4;break;default:d=5}i=r}}return t}(),s=10;case 47:var p=r-1;if(47===e.charCodeAt(r+1)){for(r+=2;r<n&&!B(e.charCodeAt(r));)r++;return i=e.substring(p,r),s=12}if(42===e.charCodeAt(r+1)){r+=2;for(var m=n-1,g=!1;r<m;){var y=e.charCodeAt(r);if(42===y&&47===e.charCodeAt(r+1)){r+=2,g=!0;break}r++,B(y)&&(13===y&&10===e.charCodeAt(r)&&r++,a++,l=r)}return g||(r++,d=1),i=e.substring(p,r),s=13}return i+=String.fromCharCode(t),r++,s=16;case 45:if(i+=String.fromCharCode(t),++r===n||!U(e.charCodeAt(r)))return s=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return i+=function(){var t=r;if(48===e.charCodeAt(r))r++;else for(r++;r<e.length&&U(e.charCodeAt(r));)r++;if(r<e.length&&46===e.charCodeAt(r)){if(!(++r<e.length&&U(e.charCodeAt(r))))return d=3,e.substring(t,r);for(r++;r<e.length&&U(e.charCodeAt(r));)r++}var n=r;if(r<e.length&&(69===e.charCodeAt(r)||101===e.charCodeAt(r)))if((++r<e.length&&43===e.charCodeAt(r)||45===e.charCodeAt(r))&&r++,r<e.length&&U(e.charCodeAt(r))){for(r++;r<e.length&&U(e.charCodeAt(r));)r++;n=r}else d=3;return e.substring(t,n)}(),s=11;default:for(;r<n&&h(t);)r++,t=e.charCodeAt(r);if(o!==r){switch(i=e.substring(o,r)){case"true":return s=8;case"false":return s=9;case"null":return s=7}return s=16}return i+=String.fromCharCode(t),r++,s=16}}function h(e){if(M(e)||B(e))return!1;switch(e){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}return{setPosition:function(e){r=e,i="",o=0,s=16,d=0},getPosition:function(){return r},scan:t?function(){var e;do{e=p()}while(e>=12&&e<=15);return e}:p,getToken:function(){return s},getTokenValue:function(){return i},getTokenOffset:function(){return o},getTokenLength:function(){return r-o},getTokenStartLine:function(){return c},getTokenStartCharacter:function(){return o-u},getTokenError:function(){return d}}}function M(e){return 32===e||9===e||11===e||12===e||160===e||5760===e||e>=8192&&e<=8203||8239===e||8287===e||12288===e||65279===e}function B(e){return 10===e||13===e||8232===e||8233===e}function U(e){return e>=48&&e<=57}function G(e,t){for(var n="",r=0;r<t;r++)n+=e;return n}function H(e,t){return-1!=="\r\n".indexOf(e.charAt(t))}var $;function z(e,t){if(e){for(var n=e,r=0,i=t;r<i.length;r++){var o=i[r];if("string"==typeof o){if("object"!==n.type||!Array.isArray(n.children))return;for(var s=!1,a=0,c=n.children;a<c.length;a++){var l=c[a];if(Array.isArray(l.children)&&l.children[0].value===o){n=l.children[1],s=!0;break}}if(!s)return}else{var u=o;if("array"!==n.type||u<0||!Array.isArray(n.children)||u>=n.children.length)return;n=n.children[u]}}return n}}function Z(e,t,n){void 0===n&&(n=$.DEFAULT);var r=j(e,!1);function i(e){return e?function(){return e(r.getTokenOffset(),r.getTokenLength(),r.getTokenStartLine(),r.getTokenStartCharacter())}:function(){return!0}}function o(e){return e?function(t){return e(t,r.getTokenOffset(),r.getTokenLength(),r.getTokenStartLine(),r.getTokenStartCharacter())}:function(){return!0}}var s=i(t.onObjectBegin),a=o(t.onObjectProperty),c=i(t.onObjectEnd),l=i(t.onArrayBegin),u=i(t.onArrayEnd),d=o(t.onLiteralValue),f=o(t.onSeparator),p=i(t.onComment),h=o(t.onError),m=n&&n.disallowComments,g=n&&n.allowTrailingComma;function y(){for(;;){var e=r.scan();switch(r.getTokenError()){case 4:v(14);break;case 5:v(15);break;case 3:v(13);break;case 1:m||v(11);break;case 2:v(12);break;case 6:v(16)}switch(e){case 12:case 13:m?v(10):p();break;case 16:v(1);break;case 15:case 14:break;default:return e}}}function v(e,t,n){if(void 0===t&&(t=[]),void 0===n&&(n=[]),h(e),t.length+n.length>0)for(var i=r.getToken();17!==i;){if(-1!==t.indexOf(i)){y();break}if(-1!==n.indexOf(i))break;i=y()}}function E(e){var t=r.getTokenValue();return e?d(t):a(t),y(),!0}return y(),17===r.getToken()?!!n.allowEmptyContent||(v(4,[],[]),!1):function e(){switch(r.getToken()){case 3:return function(){l(),y();for(var t=!1;4!==r.getToken()&&17!==r.getToken();){if(5===r.getToken()){if(t||v(4,[],[]),f(","),y(),4===r.getToken()&&g)break}else t&&v(6,[],[]);e()||v(4,[],[4,5]),t=!0}return u(),4!==r.getToken()?v(8,[4],[]):y(),!0}();case 1:return function(){s(),y();for(var t=!1;2!==r.getToken()&&17!==r.getToken();){if(5===r.getToken()){if(t||v(4,[],[]),f(","),y(),2===r.getToken()&&g)break}else t&&v(6,[],[]);(10!==r.getToken()?(v(3,[],[2,5]),0):(E(!1),6===r.getToken()?(f(":"),y(),e()||v(4,[],[2,5])):v(5,[],[2,5]),1))||v(4,[],[2,5]),t=!0}return c(),2!==r.getToken()?v(7,[2],[]):y(),!0}();case 10:return E(!0);default:return function(){switch(r.getToken()){case 11:var e=r.getTokenValue(),t=Number(e);isNaN(t)&&(v(2),t=0),d(t);break;case 7:d(null);break;case 8:d(!0);break;case 9:d(!1);break;default:return!1}return y(),!0}()}}()?(17!==r.getToken()&&v(9,[],[]),!0):(v(4,[],[]),!1)}function V(e){switch(typeof e){case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"object":return e?Array.isArray(e)?"array":"object":"null";default:return"null"}}function J(e,t,n,r){for(var i,o=t.slice(),s=function(e,t,n){void 0===t&&(t=[]),void 0===n&&(n=$.DEFAULT);var r={type:"array",offset:-1,length:-1,children:[],parent:void 0};function i(e){"property"===r.type&&(r.length=e-r.offset,r=r.parent)}function o(e){return r.children.push(e),e}Z(e,{onObjectBegin:function(e){r=o({type:"object",offset:e,length:-1,parent:r,children:[]})},onObjectProperty:function(e,t,n){(r=o({type:"property",offset:t,length:-1,parent:r,children:[]})).children.push({type:"string",value:e,offset:t,length:n,parent:r})},onObjectEnd:function(e,t){i(e+t),r.length=e+t-r.offset,r=r.parent,i(e+t)},onArrayBegin:function(e,t){r=o({type:"array",offset:e,length:-1,parent:r,children:[]})},onArrayEnd:function(e,t){r.length=e+t-r.offset,r=r.parent,i(e+t)},onLiteralValue:function(e,t,n){o({type:V(e),offset:t,length:n,parent:r,value:e}),i(t+n)},onSeparator:function(e,t,n){"property"===r.type&&(":"===e?r.colonOffset=t:","===e&&i(t))},onError:function(e,n,r){t.push({error:e,offset:n,length:r})}},n);var s=r.children[0];return s&&delete s.parent,s}(e,[]),a=void 0,c=void 0;o.length>0&&(c=o.pop(),void 0===(a=z(s,o))&&void 0!==n);)"string"==typeof c?((i={})[c]=n,n=i):n=[n];if(a){if("object"===a.type&&"string"==typeof c&&Array.isArray(a.children)){var l=z(a,[c]);if(void 0!==l){if(void 0===n){if(!l.parent)throw new Error("Malformed AST");var u=a.children.indexOf(l.parent),d=void 0,f=l.parent.offset+l.parent.length;return u>0?d=(w=a.children[u-1]).offset+w.length:(d=a.offset+1,a.children.length>1&&(f=a.children[1].offset)),W(e,{offset:d,length:f-d,content:""},r)}return W(e,{offset:l.offset,length:l.length,content:JSON.stringify(n)},r)}if(void 0===n)return[];var p=JSON.stringify(c)+": "+JSON.stringify(n),h=void 0;return W(e,h=(b=r.getInsertionIndex?r.getInsertionIndex(a.children.map((function(e){return e.children[0].value}))):a.children.length)>0?{offset:(w=a.children[b-1]).offset+w.length,length:0,content:","+p}:0===a.children.length?{offset:a.offset+1,length:0,content:p}:{offset:a.offset+1,length:0,content:p+","},r)}if("array"===a.type&&"number"==typeof c&&Array.isArray(a.children)){var m=c;if(-1===m)return p=""+JSON.stringify(n),h=void 0,W(e,h=0===a.children.length?{offset:a.offset+1,length:0,content:p}:{offset:(w=a.children[a.children.length-1]).offset+w.length,length:0,content:","+p},r);if(void 0===n&&a.children.length>=0){var g=c,y=a.children[g];if(h=void 0,1===a.children.length)h={offset:a.offset+1,length:a.length-2,content:""};else if(a.children.length-1===g){var v=(w=a.children[g-1]).offset+w.length;h={offset:v,length:a.offset+a.length-2-v,content:""}}else h={offset:y.offset,length:a.children[g+1].offset-y.offset,content:""};return W(e,h,r)}if(void 0!==n){if(h=void 0,p=""+JSON.stringify(n),!r.isArrayInsertion&&a.children.length>c){var E=a.children[c];h={offset:E.offset,length:E.length,content:p}}else if(0===a.children.length||0===c)h={offset:a.offset+1,length:0,content:0===a.children.length?p:p+","};else{var w,b=c>a.children.length?a.children.length:c;h={offset:(w=a.children[b-1]).offset+w.length,length:0,content:","+p}}return W(e,h,r)}throw new Error("Can not "+(void 0===n?"remove":r.isArrayInsertion?"insert":"modify")+" Array index "+m+" as length is not sufficient")}throw new Error("Can not add "+("number"!=typeof c?"index":"property")+" to parent of type "+a.type)}if(void 0===n)throw new Error("Can not delete in empty document");return W(e,{offset:s?s.offset:0,length:s?s.length:0,content:JSON.stringify(n)},r)}function W(e,t,n){if(!n.formattingOptions)return[t];var r=X(e,t),i=t.offset,o=t.offset+t.content.length;if(0===t.length||0===t.content.length){for(;i>0&&!H(r,i-1);)i--;for(;o<r.length&&!H(r,o);)o++}for(var s=function(e,t,n){var r,i,o,s,a;if(t){for(s=t.offset,a=s+t.length,o=s;o>0&&!H(e,o-1);)o--;for(var c=a;c<e.length&&!H(e,c);)c++;i=e.substring(o,c),r=function(e,t){for(var n=0,r=0,i=t.tabSize||4;n<e.length;){var o=e.charAt(n);if(" "===o)r++;else{if("\t"!==o)break;r+=i}n++}return Math.floor(r/i)}(i,n)}else i=e,r=0,o=0,s=0,a=e.length;var l,u=function(e,t){for(var n=0;n<t.length;n++){var r=t.charAt(n);if("\r"===r)return n+1<t.length&&"\n"===t.charAt(n+1)?"\r\n":"\r";if("\n"===r)return"\n"}return e&&e.eol||"\n"}(n,e),d=!1,f=0;l=n.insertSpaces?G(" ",n.tabSize||4):"\t";var p=j(i,!1),h=!1;function m(){return u+G(l,r+f)}function g(){var e=p.scan();for(d=!1;15===e||14===e;)d=d||14===e,e=p.scan();return h=16===e||0!==p.getTokenError(),e}var y=[];function v(n,r,i){h||t&&!(r<a&&i>s)||e.substring(r,i)===n||y.push({offset:r,length:i-r,content:n})}var E=g();if(17!==E){var w=p.getTokenOffset()+o;v(G(l,r),o,w)}for(;17!==E;){for(var b=p.getTokenOffset()+p.getTokenLength()+o,S=g(),_="",x=!1;!d&&(12===S||13===S);)v(" ",b,p.getTokenOffset()+o),b=p.getTokenOffset()+p.getTokenLength()+o,_=(x=12===S)?m():"",S=g();if(2===S)1!==E&&(f--,_=m());else if(4===S)3!==E&&(f--,_=m());else{switch(E){case 3:case 1:f++,_=m();break;case 5:case 12:_=m();break;case 13:d?_=m():x||(_=" ");break;case 6:x||(_=" ");break;case 10:if(6===S){x||(_="");break}case 7:case 8:case 9:case 11:case 2:case 4:12===S||13===S?x||(_=" "):5!==S&&17!==S&&(h=!0);break;case 16:h=!0}!d||12!==S&&13!==S||(_=m())}17===S&&(_=n.insertFinalNewline?u:""),v(_,b,p.getTokenOffset()+o),E=S}return y}(r,{offset:i,length:o-i},n.formattingOptions),a=s.length-1;a>=0;a--){var c=s[a];r=X(r,c),i=Math.min(i,c.offset),o=Math.max(o,c.offset+c.length),o+=c.content.length-c.length}return[{offset:i,length:e.length-(r.length-o)-i,content:r.substring(i,o)}]}function X(e,t){return e.substring(0,t.offset)+t.content+e.substring(t.offset+t.length)}!function(e){e.DEFAULT={allowTrailingComma:!1}}($||($={}));function q(e,t,n,r){return J(e,t,n,r)}function K(e,t){for(var n=t.length-1;n>=0;n--)e=X(e,t[n]);return e}const Y={formattingOptions:{tabSize:4,insertSpaces:!0}};function Q(e){return function(e,t,n){void 0===t&&(t=[]),void 0===n&&(n=$.DEFAULT);var r=null,i=[],o=[];function s(e){Array.isArray(i)?i.push(e):null!==r&&(i[r]=e)}return Z(e,{onObjectBegin:function(){var e={};s(e),o.push(i),i=e,r=null},onObjectProperty:function(e){r=e},onObjectEnd:function(){i=o.pop()},onArrayBegin:function(){var e=[];s(e),o.push(i),i=e,r=null},onArrayEnd:function(){i=o.pop()},onLiteralValue:s,onError:function(e,n,r){t.push({error:e,offset:n,length:r})}},n),i[0]}(e)}function ee(e,t,n){return t=t||[],n=n||[],"object"!=typeof e||null===e||Array.isArray(e)?n.push(t):Object.keys(e).forEach((r=>{ee(e[r],t.concat(r),n)})),n}const te=["id","displayName","version","description","keywords","repository","engines","dcloudext","uni_modules"];function ne(e,t,n){const r=oe(Q(e||le),"HBuilderX"===t?"extension":n?"project":"uni_modules"),i=r.uni_modules&&r.uni_modules.platforms&&r.uni_modules.platforms.cloud;return i&&!i.alipay&&(i.alipay="u"),ee(r).reduce(((e,t)=>te.includes(t[0])?(["dependencies","encrypt"].includes(t[1])||e.push(t),e):e),[])}const re=["id"];function ie(e,t,n){for(let r=0;r<t.length;r++){const i=t[r];if(!e[i])return"插件["+(e.id||n)+"]根目录 package.json 中插件 "+i+" 不能为空"}}function oe(e,t){if(e.dcloudext&&e.dcloudext.category&&2===e.dcloudext.category.length){const n=function(e,t){const n=P(t).category;for(let t=0;t<n.length;t++){const r=n[t].children.find((t=>t.name===e));if(r)return r.type}}(e.dcloudext.category[1],t);n&&e.dcloudext.type!==n&&(e.dcloudext.type=n),delete e.dcloudext.category}return e}const se=re,ae={UniApp_Vue:function(e,t,n,r){const i=s().basename(e),o=ie(t,re,i);if(o)return u(r.workspaceFolder.name,{level:"error",line:o});const a=[t.id+"@"+t.version];if(!r.isPackageJson&&t.id!==i)return g(r.workspaceFolder.name,a,{level:"error",line:"根目录 package.json 中插件 id 必须与插件目录名保持一致"});if(!r.isPackageJson){const t=["pages.json","App.vue","main.js","manifest.json","uni.scss"].find((t=>c().existsSync(s().resolve(e,t))));if(t)return g(r.workspaceFolder.name,a,{level:"error",line:"根目录不支持"+t+"文件，请删除该文件后重试，若需要插件使用者修改项目"+t+"，请在插件文档说明要调整的"+t+"内容。"})}return t},Extension:function(e,t,n,r){const i=ie(t,se,s().basename(e));return i?u(r.workspaceFolder.name,{level:"error",line:i}):t.engines.HBuilderX?t:g(r.workspaceFolder.name,[t.id+"@"+t.version],{level:"error",line:"根目录 package.json 中插件 engines->HBuilderX 不能为空"})}};function ce(e,t,n){const r=e.fsPath,i=e.workspaceFolder,o=i&&i.nature||"UniApp_Vue",a=s().resolve(r,"package.json");if(!c().existsSync(a))return g(e.workspaceFolder.name,[s().basename(r)],{level:"error",line:"根目录package.json不存在"});if(!ae[o])return u(e.workspaceFolder.name,{level:"error",line:"项目类型不正确："+o});let l=Q;"HBuilderX"===n&&(l=JSON.parse);try{const i=l(c().readFileSync(a).toString()),s=ae[o](r,i,t,e);return s&&oe(s,"HBuilderX"===n?"extension":e.isPackageJson?"project":"uni_modules"),s}catch(t){const n="根目录package.json格式不正确："+t.message;return g(e.workspaceFolder.name,[s().basename(r)],{level:"error",line:n})}}const le='{\n  "id": "",\n  "displayName": "",\n  "version": "1.0.0",\n  "description": "",\n  "keywords": [],\n  "repository": "",\n  "engines": {\n    "HBuilderX": "^3.1.0"\n  },\n  "dcloudext": {\n    "type": "",\n    "sale": {\n      "regular": {\n        "price": "0.00"\n      },\n      "sourcecode": {\n        "price": "0.00"\n      }\n    },\n    "contact": {\n      "qq": ""\n    },\n    "declaration": {\n      "ads": "",\n      "data": "",\n      "permissions": ""\n    },\n    "npmurl": ""\n  },\n  "uni_modules": {\n    "dependencies": [],\n    "encrypt": [],\n    "platforms": {\n      "cloud": {\n        "tcb": "u",\n        "aliyun": "u",\n        "alipay": "u"\n      },\n      "client": {\n        "Vue": {\n          "vue2": "u",\n          "vue3": "u"\n        },\n        "App": {\n          "app-vue": "u",\n          "app-nvue": "u",\n          "app-uvue": "u"\n        },\n        "H5-mobile": {\n          "Safari": "u",\n          "Android Browser": "u",\n          "微信浏览器(Android)": "u",\n          "QQ浏览器(Android)": "u"\n        },\n        "H5-pc": {\n          "Chrome": "u",\n          "IE": "u",\n          "Edge": "u",\n          "Firefox": "u",\n          "Safari": "u"\n        },\n        "小程序": {\n          "微信": "u",\n          "阿里": "u",\n          "百度": "u",\n          "字节跳动": "u",\n          "QQ": "u",\n          "钉钉": "u",\n          "快手": "u",\n          "飞书": "u",\n          "京东": "u"\n        },\n        "快应用": {\n          "华为": "u",\n          "联盟": "u"\n        }\n      }\n    }\n  }\n}',ue=[{id:2,name:"前端组件",children:[{id:21,name:"通用组件",alias:"前端组件-通用组件",files:["components","components/{id}","component.vue"],type:"component-vue"},{id:23,name:"小程序组件",alias:"前端组件-小程序组件",files:["wxcomponents"],type:"component-mp"}]},{id:4,name:"JS SDK",children:[{id:41,name:"JS SDK",files:["js_sdk"],type:"sdk-js"}]},{id:8,name:"UTS插件",children:[{id:81,name:"API插件",alias:"UTS插件-API插件",files:["uts-api"],type:"uts"},{id:82,name:"组件插件",alias:"UTS插件-组件插件",files:["uts-component"],type:"component-uts"}]},{id:3,name:"前端页面模板",children:[{id:31,name:"前端页面模板",files:["pages"],type:"uniapp-template-page"}]},{id:7,name:"uniCloud",children:[{id:71,name:"云函数模板",files:["uniCloud/cloudfunctions","uniCloud/database"],type:"unicloud-template-function"},{id:73,name:"云端一体页面模板",files:["uniCloud/cloudfunctions","uniCloud/database","pages"],type:"unicloud-template-page"},{id:74,name:"Admin插件",alias:"uniCloud Admin插件",files:["uniCloud/cloudfunctions","uniCloud/database","pages","menu.json"],type:"unicloud-admin"},{id:76,name:"DB Schema及验证函数",files:["uniCloud/database"],type:"unicloud-database"}]}],de=ue.reduce(((e,t)=>(t.children.forEach((t=>{e.push(Object.assign({type:t.type},t))})),e)),[]),fe=["package.json","src/pages.json","src/manifest.json","src/App.vue"];function pe(e){return!fe.find((t=>!c().existsSync(s().resolve(e,t))))}function he(e,t){return t?e:s().resolve(e,"../..")}function me(e,t){if(t)return e;const n=s().resolve(e,"../.."),r=s().resolve(e,"../../..");return pe(r)?r:n}function ge(e){if(e){const t=(e=>{for(let t=0;t<ue.length;t++){const n=ue[t],r=n.children.find((t=>t.type===e));if(r)return[n,r]}})(e);if(t){const e=[t[0].name,t[1].name];return e[0]===e[1]?e[0]:e[0]+"-"+e[1]}}return"插件"}function ye(e){try{const{S:t}=("uni_helpers",require(s().resolve(i().env.appRoot,"plugins/","uni_helpers")));return t(e)}catch(e){}}function ve(e,t){const n=c().existsSync(e),r=c().existsSync(t);if(!n)return[];const i=c().readdirSync(e);if(!r)return i;const o=c().readdirSync(t);return i.filter((e=>!o.includes(e)))}var Ee=n(5285),we=n.n(Ee),be=n(353),Se=n.n(be);function _e(e,t,n=20){return String(e).padEnd(n," ")+t}const xe=n(3035),Ie=["package.json","readme.md"];function ke(e,t,n,r){const i=[n.id+"@"+n.version];return g(e,i,"=== 插件信息 ==="),g(e,i,_e("id",n.id)),g(e,i,_e("version",n.version)),g(e,i,_e("displayName",n.displayName)),g(e,i,_e("filename",s().basename(t))),g(e,i,_e("package size",xe(c().statSync(t).size))),g(e,i,_e("total files",r.length)),g(e,i,"=== 文件列表 ==="),r.forEach((t=>{g(e,i,_e(t.size,t.path))})),t}async function Ce(e,t,n){const r=n.id+"@"+n.version,i=new(we()),o=[];Ie.forEach((e=>{const n=s().resolve(t,e);if(!c().existsSync(n))return;const r=s().dirname(e);i.addLocalFile(n,"."===r?"":r),o.push({size:xe(c().statSync(n).size),path:e})}));const a=s().resolve(b,`${r}.zip`);return i.writeZip(a),ke(e,a,n,o),a}const Ne=["unpackage",".hbuilderx"];function Oe(e,t,n=!1){return Se()({path:e,includeEmpty:!0}).then((r=>{const i=new(we()),o=r.filter((e=>!Ne.find((t=>e.startsWith(t))))).map((t=>{const n=s().resolve(e,t),r=s().dirname(t);return i.addLocalFile(n,"."===r?"":r),{size:xe(c().statSync(n).size),path:t}}));if(n){const t=s().join(e,"node_modules");c().existsSync(t)&&(i.addLocalFolder(t,"node_modules"),o.push({size:"---",path:"node_modules"}))}const a=s().resolve(b,`${t}.zip`);return i.writeZip(a),[a,o]}))}function Ae(e,t,n,r,i){if(i&&r.directories&&r.directories.example){const e=s().resolve(i,r.directories.example);c().existsSync(e)&&(t=e)}return Oe(t,n).then((([t,n])=>function(e,t,n,r){const i=[r.id+"@"+r.version];return g(e,i,"=== 示例工程信息 ==="),g(e,i,_e("filename",s().basename(t))),g(e,i,_e("package size",xe(c().statSync(t).size))),g(e,i,_e("total files",n.length)),t}(e,t,n,r)))}function Te(e,t,n,r=!1){return Oe(t,n.id+"@"+n.version,r).then((([t,r])=>ke(e,t,n,r)))}n(4076);const De="uniCloud-tcb",Le="uniCloud-aliyun",Fe="uniCloud-alipay";var Pe=n(4247),Re=n.n(Pe);const je=require("node:process");var Me=n(1083);const Be=function({onlyFirst:e=!1}={}){const t=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(t,e?void 0:"g")}(),Ue=require("node:os"),Ge=(()=>{const{env:e}=je;if("win32"===je.platform)return e.COMSPEC||"cmd.exe";try{const{shell:e}=(0,Ue.userInfo)();if(e)return e}catch{}return"darwin"===je.platform?e.SHELL||"/bin/zsh":e.SHELL||"/bin/sh"})(),He=["-ilc",'echo -n "_SHELL_ENV_DELIMITER_"; env; echo -n "_SHELL_ENV_DELIMITER_"; exit'],$e={DISABLE_AUTO_UPDATE:"true"};var ze=n(3129);function Ze(e,t,n){return new Promise((r=>{setTimeout((()=>{u(s().basename(e),"开始执行"+t+"脚本"),u(s().basename(e),"> "+n),(0,ze.exec)(n,{cwd:e},(n=>{if(n)throw n;u(s().basename(e),t+"脚本执行结束"),r(!0)}))}),50)}))}function Ve(e,{wd:t,ids:n}){const r=function(e){const t=s().resolve(e,"uni_modules.config.json");if(!c().existsSync(t))return{scripts:{}};let n={};try{n=Q(c().readFileSync(t).toString())}catch(e){}return n.scripts||(n.scripts={}),n}(t).scripts[e];return r?(process.env.UNI_MODULES_ID=n.join(","),Ze(t,e,r)):Promise.resolve(!1)}async function Je(e,t){return Ve("preupload",{wd:e,ids:[t]})}async function We(e,t){const n=require(s().resolve(e,"package.json")),r=(n&&n.uni_modules&&n.uni_modules.scripts||{})[t];if(r)return Ze(e,t,r)}function Xe(e){try{const{uni_modules:t}=Q(c().readFileSync(s().resolve(e,"package.json")).toString());if(t&&t.dependencies&&Array.isArray(t.dependencies))return Array.from(new Set(t.dependencies))}catch(e){}return[]}function qe(e,t){if(!t||!Object.keys(t).length)return;const n=s().resolve(e,"package.json");if(!c().existsSync(n))return;const r=c().readFileSync(n,"utf8");c().writeFileSync(n,function(e,t){return K(e,q(e,["uni_modules","extends"],t,Y))}(r,t))}"win32"!==je.platform&&(je.env.PATH=function(){const{PATH:e}=function(e){if("win32"===je.platform)return je.env;try{const{stdout:e}=Me.sync(Ge,He,{env:$e});return(e=>{e=e.split("_SHELL_ENV_DELIMITER_")[1];const t={};for(const n of function(e){if("string"!=typeof e)throw new TypeError(`Expected a \`string\`, got \`${typeof e}\``);return e.replace(Be,"")}(e).split("\n").filter((e=>Boolean(e)))){const[e,...r]=n.split("=");t[e]=r.join("=")}return t})(e)}catch(e){return je.env}}();return e}()||["./node_modules/.bin","/.nodebrew/current/bin","/usr/local/bin",je.env.PATH].join(":"));const Ke=/opendb-(.*).schema.json$/;function Ye(e){return c().readdirSync(e,{withFileTypes:!0}).filter((e=>e.isFile()&&Ke.test(e.name))).map((e=>e.name))}function Qe(e,t,n,r=[]){n.useCache=!1!==n.useCache,n.deps=!1!==n.deps;const o=n.workspaceFolder?.name||"",a=e.id+"@"+e.version,l=a+".zip",u=s().resolve(n.output,e.id);if(c().existsSync(u))return Promise.resolve();const d=[...r,a];g(o,d,"开始下载");let p=s().resolve(_,e.type||"");const h=s().resolve(p,l);function m(){return function(e,t){return new Promise(((n,r)=>{if(c().existsSync(t))return n(!1);try{new(we())(e).extractAllToAsync(t,!0,(t=>t?(c().unlinkSync(e),r(t)):n(!0)))}catch(t){return console.error("extractAllToAsync",t),c().unlinkSync(e),r(t)}}))}(h,u).then((async e=>{g(o,d,"已下载到临时目录"),qe(u,n.extends);try{await function(e,t,n){if(!e)return Promise.resolve();const r=s().resolve(t,"uniCloud/database"),o=s().resolve(n,"uniCloud/database");if(!c().existsSync(r)&&!c().existsSync(o))return Promise.resolve();const a=Ye(r),l=Ye(o),u=[];l.forEach((e=>{u.push({local:s().resolve(o,e),server:a.includes(e)?s().resolve(r,e):""})})),a.forEach((e=>{l.includes(e)||u.push({local:"",server:s().resolve(r,e)})}));const d=i().extensions.getExtension("unicloud");return d&&d.updatedbSchema?d.updatedbSchema({workspaceFolder:e,serverPath:r,updateSchemas:u}):Promise.resolve()}(n.workspaceFolder,u,n.input)}catch(e){console.error("downloadSchemas",e)}if(e&&n.deps)return async function(e,t,n){const r=Xe(e);if(r.length){const i=await C(r);for(let r of i)r.downloadUrl&&await Qe({id:r.id,version:r.latestVersion,type:r.type},r.downloadUrl,{workspaceFolder:n.workspaceFolder,useCache:n.useCache,input:s().resolve(e,"..",r.id),output:n.output,deps:n.deps,extends:r.extends||{}},t)}}(u,d,n)}))}return n.useCache&&c().existsSync(h)?m().catch((e=>{throw g(o,d,{level:"error",line:"解压失败，请重试！"}),"解压失败，请重试！"})):function(e,t,n){const r=s().resolve(n||S,e);return i().http.request({url:t,downloadFile:r}).then((()=>r))}(l,t,p).then((()=>m())).catch((e=>{throw g(o,d,{level:"error",line:"string"==typeof e?e:`下载失败：${f(e.error||e.message)}`}),"下载失败"}))}function et(e,t,n){return i().workspace.copyFileWithPrompt({src:i().Uri.file(t),dest:i().Uri.file(n),defaction:"compare",showcomparebutton:!0}).then((e=>e)).catch((t=>{g(e,[],{level:"error",line:t.toString()})}))}async function tt(e,t,n){if(!i().workspace.showSubPackgeWindow)return 3;const r="pages_init.json",o=function(e,t){const n=[];return nt(e).forEach((e=>{const t=s().join(e,"pages_init.json");if(c().existsSync(t))try{const e=Q(c().readFileSync(t,"utf-8"));Array.isArray(e.pages)&&e.pages.length&&n.push(...e.pages)}catch(e){}})),n}(e);if(!o.length)return 3;const a=s().join(e,r);try{c().writeFileSync(a,JSON.stringify({pages:o}))}catch(e){return 3}n&&n.length&&g((await i().workspace.getWorkspaceFolder(t))?.name||"",n,"有 pages_init.json 文件，请处理合并");const l=await i().workspace.showSubPackgeWindow({srcPath:e,destPath:t,specialFile:r,pluginName:"schema2code",showWindow:!0});return function(e,t){try{c().unlinkSync(s().join(e,t))}catch(e){}nt(e).forEach((e=>{const n=s().join(e,t);if(c().existsSync(n))try{c().unlinkSync(n)}catch(e){}}))}(e,r),l}function nt(e){return c().readdirSync(e,{withFileTypes:!0}).filter((e=>e.isDirectory())).map((t=>s().join(e,t.name)))}function rt({name:e,version:t,size:n}){return e.length,`<table width="100%">\n    <tr>\n        <td>插件名称：${function(e,t=20){const n=e.substring(0,t),r=n.match(/[\u4e00-\u9fa5]/g),i=r?r.length:0,o=2*n.length-i;return e.substr(0,o)+(o<e.length?"...":"")}(e)}</td>\n        <td>插件版本：${t}</td>\n    </tr>\n    <tr>\n        <td>插件大小：${n}</td>\n        <td></td>\n    </tr>\n  </table>`}async function it({fsPath:e}){let t=s().resolve(e,"uni_modules");if(!c().existsSync(t)&&(t=s().resolve(e,"src","uni_modules"),!c().existsSync(t)))return"";const n=[];return c().readdirSync(t).forEach((e=>{const r=s().resolve(t,e),i=s().resolve(r,"package.json");if(!c().existsSync(i))return;const o=function(e){try{const{id:t,version:n,uni_modules:r}=JSON.parse(c().readFileSync(e,"utf8"));if(!t||!n||!r)return;if(r.extends&&r.extends.sn)return;if(!Array.isArray(r.encrypt)||!r.encrypt.length)return;if(!r.encrypt.filter((e=>!e.startsWith("uniCloud")&&e.endsWith(".js"))).length)return;return{plugin_id:t,version:n}}catch(e){}}(i);o&&n.push(o)})),n.length?N(JSON.stringify({plugins:n})).then((e=>{e.forEach((e=>{const n=s().resolve(t,e.id);try{qe(n,e.extends)}catch(e){}}))})):void 0}async function ot({deps:e,fsPath:t}){let n=t;pe(t)&&(n=s().resolve(t,"src"));const r=await i().workspace.getWorkspaceFolder(t),o=I();try{const t=await C(e);for(const e of t)e.downloadUrl?await Qe({id:e.id,version:e.latestVersion,type:e.type},e.downloadUrl,{input:s().resolve(n,"uni_modules",e.id),output:o,extends:e.extends||{},workspaceFolder:r}):u(r?.name||"",{level:"warn",line:`[${e.id}]不存在`});const i=o+"/",a=s().resolve(n,"uni_modules");await tt(i,n);const c=ve(i,a);y(i,a)&&u(r?.name||"","有同名文件，请处理合并"),et(r&&r.name||"",i,a).then((async e=>{if(1===e)u(r?.name||"",{level:"warn",line:"安装插件依赖被取消"});else if(0===e){for(let e=0;e<c.length;e++){const t=c[e],n=s().resolve(a,t);await We(n,"init")}u(r?.name||"",{level:"success",line:"插件依赖安装完成"})}}))}catch(e){console.log(e),u(r?.name||"",{level:"error",line:"插件依赖安装失败："+f(e.error||e.message)})}}function st(e){return e>9?String(e):"0"+e}function at(e,t,n=new Date){return`## ${e}（${n.getFullYear()}-${st(n.getMonth()+1)}-${st(n.getDate())}）\n${t}\n`}function ct(e){const[t,n]=function(e){const t=/##\s+([0-9\.]+).*/g,n=t.exec(e);if(!n)return[];const r={version:n[1].trim(),line:n[0]},i=t.exec(e);return i?[r,{version:i[1].trim(),line:i[0]}]:[r]}(e);if(!t)return{version:"",log:"",loc:{start:0,end:0}};const r=e.indexOf(t.line),i=r+t.line.length,o=n?e.indexOf(n.line):e.length;return{version:t.version,log:e.substring(i,o).trim(),loc:{start:r,end:o}}}function lt(e){let t=e;return".md"!==s().extname(e)&&(t=s().resolve(e,"changelog.md")),c().existsSync(t)?ct(c().readFileSync(t).toString()):{version:"",log:"",loc:{start:0,end:0}}}function ut(){return{installDeps:ot,encrypt:it}}function dt(){}const ft=require("querystring");var pt=n(1890),ht=n.n(pt);const mt="^[a-zA-Z]\\w*(-[a-zA-Z\\w]*)+[a-zA-Z0-9]$",gt=new RegExp(mt),yt=/^(uni|dcloud|uts)/i;const vt=[{pattern:"",errorMsg:"插件ID不能为空"},{pattern:mt,errorMsg:"插件ID格式不正确，格式为：'作者ID-插件英文名称'，如：xx-yy"}],Et=[{pattern:"^(?i)(?!uni|dcloud|uts)",errorMsg:"插件ID不能使用`DCloud`、`uni`、`uts`等关键字"}];async function wt(e){const t=e.fsPath,n=await async function(){if(i().authorize.requestUserInfo)try{const e=await i().authorize.requestUserInfo();return e.isLogin&&e.email.endsWith("@dcloud.io")}catch(e){}return!1}();i().window.showFileWizardDialog({title:"新建uni_modules插件",footer:'<p style="text-align:left">插件名称等更多信息后续可以在插件根目录的package.json中修改，详见：<a style="color:#3aad4f" href="https://uniapp.dcloud.net.cn/uni_modules?id=packagejson">文档</a></p>\n<p style="text-align:left"><a style="color:#3aad4f" href="https://ext.dcloud.net.cn/search?q=uni_modules">从插件市场获取更多uni_modules</a></p>',template:de.map((e=>e.alias||e.name)),listTitle:"选择分类",namePlaceholder:"请输入插件ID，格式为：'作者ID-插件英文名称'，如：xx-yy",folderEditable:!1,nameValidators:n?vt:vt.concat(Et)}).then((r=>{if(!r.file)return;const i=s().basename(r.file);if(!gt.test(i))return p("插件ID格式不正确，格式为：'作者ID-插件英文名称'，如：xx-yy");if(!n&&yt.test(i))return p("插件ID不能使用`DCloud`、`uni`等关键字");const o=s().resolve(t,i);if(c().existsSync(o))return p("目录["+i+"]已存在");let a;const l=[];r.template&&(a=de.find((e=>e.alias===r.template||e.name===r.template)),a&&l.push(...a.files));try{c().mkdirSync(o)}catch(e){return p(e.message)}const d=function(e,t){return function(n,r=""){const i=s().resolve(t,e,n),o=s().dirname(i);try{c().existsSync(o)||c().mkdirSync(o),c().writeFileSync(i,r)}catch(e){p(e.message)}}}(i,t);if(l.length)try{l.forEach((e=>{"component.vue"===(e=e.replace(/\{id\}/g,i))?d("components/"+i+"/"+i+".vue","<template>\n</template>\n<script>\n<\/script>\n<style>\n</style>\n"):"menu.json"===e?d("menu.json",JSON.stringify([],null,2)):".uts"===s().extname(e)?d(e,""):!a||"component-uts"!==a.type&&"uts"!==a.type?ht().sync(s().resolve(t,i,e)):bt(s().resolve(__dirname,"lib/"+e),s().resolve(o))}))}catch(e){return p(e.message)}d("readme.md",function(e,t){const n=[`# ${e}`];return!t||"uts"!==t.type&&"component-uts"!==t.type||(n.push("### 开发文档"),n.push("[UTS 语法](https://uniapp.dcloud.net.cn/tutorial/syntax-uts.html)"),n.push("[UTS API插件](https://uniapp.dcloud.net.cn/plugin/uts-plugin.html)"),n.push("[UTS 组件插件](https://uniapp.dcloud.net.cn/plugin/uts-component.html)"),n.push("[Hello UTS](https://gitcode.net/dcloud/hello-uts)")),n.join("\n")}(i,a)),d("changelog.md"),d("package.json",function(e,t){return function(e,t="",n=le){return n=K(n,q(n,["id"],e,Y)),n=K(n,q(n,["displayName"],e,Y)),n=K(n,q(n,["description"],e,Y)),n=K(n,q(n,["keywords"],[e],Y)),n=K(n,q(n,["dcloudext","type"],t,Y)),"uts"!==t&&"component-uts"!==t||(n=K(n,q(n,["engines","HBuilderX"],"uts"===t?"^3.6.8":"^3.7.0",{formattingOptions:{tabSize:2,insertSpaces:!0}})),n=K(n,q(n,["uni_modules","platforms","client","App"],{"app-android":"u","app-ios":"u"},{formattingOptions:{tabSize:2,insertSpaces:!0}}))),n}(e,t&&t.type)}(i,a)),u(e.workspaceFolder.name,{level:"success",line:ge(a&&a.type)+"["+i+"]创建成功"})}))}function bt(e,t){c().existsSync(t)||c().mkdirSync(t),c().readdirSync(e).forEach((n=>{const r=s().join(e,n),i=s().join(t,n),o=c().statSync(r);c().statSync(r).isFile()?c().copyFileSync(r,i):o.isDirectory()&&bt(r,i)}))}async function St(e){if(!ce(e,p))return;const t=e.fsPath,n=s().basename(t),r=function(e){try{const{version:t}=Q(c().readFileSync(s().resolve(e,"package.json"),"utf8"));return t}catch(e){}return""}(t),i=Xe(t),o=n+"@"+r;if(i.length){const n=I();try{const r=await C(i);for(const i of r)i.downloadUrl?await Qe({id:i.id,version:i.latestVersion,type:i.type},i.downloadUrl,{workspaceFolder:e.workspaceFolder,input:s().resolve(t,"..",i.id),output:n,extends:i.extends||{}},[o]):g(e.workspaceFolder.name,[o],{level:"warn",line:`[${i.id}]不存在`});const a=n+"/",c=s().resolve(t,"..");await tt(a,s().resolve(c,".."),[o]);const l=ve(a,c);y(a,c)&&g(e.workspaceFolder.name,[o],"有同名文件，请处理合并"),et(e.workspaceFolder.name,a,c).then((async t=>{if(1===t)g(e.workspaceFolder.name,[o],{level:"warn",line:"安装依赖被取消"});else if(0===t){for(let e=0;e<l.length;e++){const t=l[e],n=s().resolve(c,t);await We(n,"init")}g(e.workspaceFolder.name,[o],{level:"success",line:"已安装完依赖"})}}))}catch(t){console.log(t),g(e.workspaceFolder.name,[o],{level:"error",line:"依赖安装失败："+f(t.error||t.message)})}}else g(e.workspaceFolder.name,[o],"依赖列表为空")}function _t(e){let t=e.fsPath;pe(t)&&(t=s().resolve(t,"src"));const n=s().resolve(t,"uni_modules");if(c().existsSync(n))return u(e.workspaceFolder.name,{level:"warn",line:"当前项目已存在目录[uni_modules]"});try{c().mkdirSync(n)}catch(t){return u(e.workspaceFolder.name,{level:"error",line:t.message})}u(e.workspaceFolder.name,{level:"success",line:"目录创建成功"})}function xt(e,t,n){const r=ce(e,p);if(!r)return;const i=[r.id+"@"+r.version];g(e.workspaceFolder.name,i,"开始检查更新");const o=e.isPackageJson?void 0:e.workspaceFolder;return k("/modules/check-update",{plugin_id:r.id,version:r.version},!1).catch((t=>{g(e.workspaceFolder.name,i,{level:"error",line:t.error||t.message})})).then((a=>{if(a){if(a.hasNewVersion)return n.push(r.id),g(e.workspaceFolder.name,i,"发现新版本["+a.latestVersion+"]"),Qe({id:r.id,version:a.latestVersion,type:a.type},a.downloadUrl,{workspaceFolder:o,input:e.fsPath,output:t,deps:!1,extends:a.extends||{}}).then((async()=>{const n=Xe(s().resolve(t,r.id));if(n.length){const r=await C(n);for(let n of r)n.downloadUrl?await Qe({id:n.id,version:n.latestVersion,type:n.type},n.downloadUrl,{workspaceFolder:o,input:s().resolve(e.fsPath,"..",n.id),output:t,extends:n.extends||{}},i):g(e.workspaceFolder.name,i,{level:"warn",line:`依赖[${n.id}]不存在`})}}));g(e.workspaceFolder.name,i,"已经是最新版本")}}))}async function It(e){let t=!1,n="";const r=(Array.isArray(e)?e[0]:e).workspaceFolder,i=I();if(!Array.isArray(e)){const r=e.fsPath;if(r.endsWith("uni_modules")){n=me(s().resolve(r,"test"),!1);const t=Object.assign({},e),i=c().readdirSync(e.fsPath);e=[];for(const n of i){const i=s().resolve(r,n);c().existsSync(s().resolve(i,"package.json"))&&e.push(Object.assign({},t,{fsPath:i}))}}else r.endsWith("package.json")?(t=!0,e.fsPath=s().dirname(e.fsPath),e.isPackageJson=!0,n=e.fsPath,e=[e]):e=[e]}if(n||(n=me(e[0].fsPath,!1)),!e.length)return u(r.name,"未查找到uni_modules插件");const o=[];for(const t of e)await xt(t,i,o);if(o.length){const e=pe(n)?s().resolve(n,"src"):n,a=(t?s().join(i,o[0]):i)+"/",l=t?n:s().resolve(e,"uni_modules");t&&function(e,t){const n=[s().resolve(t,De),s().resolve(t,Le),s().resolve(t,Fe)];if(1!==n.filter((e=>c().existsSync(e))).length)return;const r=[s().resolve(e,De),s().resolve(e,Le),s().resolve(e,Fe)];if(1!==r.filter((e=>c().existsSync(e))).length)return;const i=n.findIndex((e=>c().existsSync(e))),o=r.findIndex((e=>c().existsSync(e)));i!==o&&c().renameSync(r[o],r[i])}(a,l),await tt(a,e);const d=ve(a,l);u(r.name,"有同名文件，请处理合并");const f=await et(r.name,a,l);if(1===f)u(r.name,{level:"error",line:"插件更新被取消"});else if(0===f){u(r.name,{level:"success",line:"插件更新成功"});for(let e=0;e<d.length;e++){const t=d[e],n=s().resolve(l,t);await We(n,"init")}await async function(e,t){return Ve("postupdate",{wd:e,ids:t})}(n,o)}}}class kt{constructor(e,t){this._loaded=!1,this._callbacks={loaded:[],submit:[],message:[],restore:[]},this._dialog=t,this._webview=t.webView,this._init(e)}_init(e){this._webview.html=e,this._webview.onDidReceiveMessage((e=>{switch(e.type){case"cancel":this._onCancel();break;case"loaded":this._onLoaded();break;case"submit":this._onSubmit(e.data);break;case"error":this._onError(e.data);break;case"restore":this._callback("restore",e);break;default:this._callback("message",e)}}))}_onLoaded(){this._loaded=!0,this._callback("loaded")}_onCancel(){this._dialog.close()}_onSubmit(e){this._callback("submit",e)}_onError(e){this.showError(e)}_callback(e,t){this._callbacks[e].forEach((e=>e(t)))}_addCallback(e,t){this._callbacks[e].push(t)}show(){return this._dialog.show()}close(){return this._dialog.close()}showError(e){return["OperationCanceledError","HostNotFoundError"].includes(e)&&(e="网络发生错误，请稍后重试！"),this._dialog.displayError(e)}postMessage(e){const t=()=>{const t=e&&e.delay||0;setTimeout((()=>{this._webview.postMessage(e)}),t)};this._loaded?t():this._addCallback("loaded",t)}setButtonStatus(e,t){return this._dialog.setButtonStatus(e,t)}clearButtonStatus(e){return this._dialog.setButtonStatus(e,[])}addEventlistener(e,t){this._addCallback(e,t)}}const Ct="提交",Nt=314572800,Ot=c().readFileSync(s().join(__dirname,"webview/upload/index.html")).toString(),At={modal:!1,title:"发布到插件市场",description:"向插件市场发布新插件或新版本",dialogButtons:[Ct,"取消"],size:{width:730,height:600}};function Tt(e,t,n,r){const i=t.uni_modules&&t.uni_modules.platforms&&t.uni_modules.platforms.client&&t.uni_modules.platforms.client.App;if(i&&t.dcloudext)if("uts"===t.dcloudext.type||"component-uts"===t.dcloudext.type){delete i["app-vue"],delete i["app-nvue"],delete i["app-uvue"];const{"app-android":t,"app-ios":n}=i;"object"==typeof t&&t.minVersion&&Dt(s().resolve(e,"utssdk/app-android/config.json"),"minSdkVersion",t.minVersion),"object"==typeof n&&n.minVersion&&Dt(s().resolve(e,"utssdk/app-ios/config.json"),"deploymentTarget",n.minVersion)}else delete i["app-android"],delete i["app-ios"];c().writeFileSync(s().resolve(e,"package.json"),function(e,t,n,r){return function(e,t,n,r){ne(e,n,r).forEach((r=>{if("HBuilderX"!==n||"uni_modules"!==r[0]&&"sale"!==r[1])try{const n=function(e,t){const n=e.slice();let r,i=t;for(;void 0!==(r=n.shift());)i=i[r];return i}(r,t);e=K(e,q(e,r,n,Y))}catch(e){}}));try{t.displayName&&(e=K(e,q(e,["displayName"],t.displayName,Y))),e=K(e,q(e,["dcloudext","category"],void 0,Y))}catch(e){}return e}(c().readFileSync(s().resolve(e,"package.json")).toString(),t,n,r)}(e,t,n,r))}function Dt(e,t,n){if(c().existsSync(e)){const r=c().readFileSync(e,"utf8");c().writeFileSync(e,K(r,q(r,[t],n,{})))}else{const r=s().dirname(e);c().existsSync(r)||c().mkdirSync(r,{recursive:!0}),c().writeFileSync(e,JSON.stringify({[t]:n},null,2))}}async function Lt({dir:e,data:t,extType:n,webview:r,response:o,withNodeModules:a,isPackageJson:l,workspaceFolderName:u}){if((d=t.pkg.version)===o.pluginInfo.version&&(r.showError("插件市场已存在该版本["+d+"]，发布新版本，请修改版本号"),1))return r.postMessage({type:"Focus",data:"#J_Version"});var d;const p=t.pkg,h=[p.id+"@"+p.version];if(Tt(e,p,n,l),function(e,t,n){c().writeFileSync(s().resolve(e,"changelog.md"),function(e,t,n,r){let i=e;return".md"!==s().extname(e)&&(i=s().resolve(e,"changelog.md")),c().existsSync(i)?function(e,t,n,r){const{version:i,loc:o}=ct(e);return i===t?e.substring(0,o.start)+at(t,n,r)+e.substring(o.end,e.length):e=at(t,n,r)+e}(c().readFileSync(i).toString(),t,n,r):at(t,n,r)}(e,t,n))}(e,p.version,t.update_log),t.plugin_example){const t=ye(he(e,l));if(t)return r.showError(`示例工程不能上传源码版插件[${t}]`)}return await Je(me(e,l),p.id),function(e,t,n,r=!1,i=!1){const o=[Te(e,t,n,i)];return r&&o.push(Ae(e,me(t,!1),n.id+"@"+n.version+"_example",n,t)),Promise.all(o)}(u,e,p,t.plugin_example,a).then((async([e,n])=>{if(c().statSync(e).size>Nt)return g(u,h,{level:"error",line:"插件压缩包太大，不能超过 300M"});if(n&&c().statSync(n).size>Nt)return g(u,h,{level:"error",line:"插件示例工程压缩包太大，不能超过 300M"});g(u,h,"正在上传插件"+s().basename(e));const{category_level1:r,category_level2:o,update_log:a}=t,l={category_level1:r,category_level2:o,update_log:a,plugin_package:i().Uri.file(e)};return n&&(l.plugin_example=i().Uri.file(n)),function(e){return k("/modules/publish",e,!1).then((e=>{if(e)return e}))}(l)})).then((e=>{if(e){const e="上传插件市场成功，插件地址：https://ext.dcloud.net.cn/plugin?name="+p.id;r.close(),g(u,h,{level:"success",line:e})}})).catch((e=>{const t=f(e.error||e.message);g(u,h,{level:"error",line:"上传插件失败："+t}),r.showError(t)}))}function Ft(e,t,n,r){const o=t.isPackageJson&&t.workspaceFolder&&"UniApp_Vue"===t.workspaceFolder.nature,a=t.workspaceFolder&&"Extension"===t.workspaceFolder.nature,l=a?"HBuilderX":"uni_modules",u=a;return async function(d){d.show().then((async p=>{p&&2===p.code||async function(){let p;try{p=await(m=r.id,k("/modules/publish-validate",{plugin_id:m},!1).then((e=>{if(e)return e})))}catch(e){return h(e.error||e.message||"网络错误",(()=>{d.close()}))}var m;const{isExists:y,pluginInfo:v,category:E,tips:w,fe_platforms:b,hxVersionList:S,androidVersionList:_,iosVersionList:x}=p;if("update"===e&&!y)return h("插件["+r.id+"]尚未发布到插件市场",(()=>{d.close()}));function I(){const e={category:E,tips:w,fe_platforms:b,hxVersionList:S,androidVersionList:_,iosVersionList:x};!function(e){try{c().writeFileSync(F,JSON.stringify(R(e)))}catch(e){}}(e),o?e.category=D():a&&(e.category=A()),d.postMessage({type:"Update",data:Object.assign({isExists:y,pluginInfo:v||{}},e),options:{updateTime:Date.now()}})}function C(){d.clearButtonStatus(Ct)}I(),d.addEventlistener("restore",(function(){I()})),d.addEventlistener("message",(function(e){if("deleteImage"===e.type){const t=e.data.id;(function(e,t){return k("/modules/delete-image",{id:e,plugin_id:t},!1).then((e=>{if(e)return e}))})(t,e.data.pluginId).then((()=>{d.postMessage({type:"DeleteImage",data:{id:t,status:"success"}})})).catch((e=>{const n=f(e.toString());d.showError(n),d.postMessage({type:"DeleteImage",data:{id:t,status:"error",errMsg:n}})}))}else"uploadImage"===e.type&&function({index:e,pluginId:t},n){i().request("window.showFileDialog",{title:"请选择截图",filter:"Images (*.png *.xpm *.jpg)",supportMulti:!1}).then((e=>e[0])).then((r=>{if(!r)return n.postMessage({type:"UploadImage",data:{index:e,status:"cancel"}});n.postMessage({type:"UploadImageStarted",data:{index:e}}),function(e,t,n){return k("/modules/add-image",{plugin_id:n,sort:t,file:i().Uri.file(e)},!1).then((e=>{if(e)return e}))}(r,e,t).then((t=>{n.postMessage({type:"UploadImage",data:{id:t.id,status:"success",url:t.url,index:e}})})).catch((t=>{const r=f(t.toString());n.showError(r),n.postMessage({type:"UploadImage",data:{index:e,status:"error",errMsg:r}})}))}))}(e.data,d)})),d.addEventlistener("submit",(function(r){d.setButtonStatus(Ct,["loading","disable"]);const o=ce(t,d.showError);if(!o)return C();const{id:a,displayName:h,version:m,description:y,keywords:v,repository:E,engines:w,dcloudext:b,uni_modules:S}=r.pkg;r.pkg=Object.assign(o,{id:a,displayName:h,version:m,description:y,keywords:v,repository:E,engines:w,dcloudext:b,uni_modules:S}),("upload"===e?Lt({dir:n,data:r,webview:d,response:p,withNodeModules:u,extType:l,isPackageJson:!!t.isPackageJson,workspaceFolderName:t.workspaceFolder.name}):async function({dir:e,data:t,extType:n,webview:r,isPackageJson:o,workspaceFolderName:a}){const l=t.pkg;if(Tt(e,l,n,o),t.plugin_example){const t=ye(he(e,o));if(t)return r.showError(`示例工程不能上传源码版插件[${t}]`)}return await Je(me(e,o),l.id),async function(e,t,n,r=!1){const i=[Ce(e,t,n)];return r&&i.push(Ae(e,me(t,!1),n.id+"@"+n.version+"_example",n,t)),Promise.all(i)}(a,e,l,t.plugin_example).then((([e,n])=>{if(c().statSync(e).size>Nt)return g(a,l.id,{level:"error",line:"插件压缩包太大，不能超过 300M"});if(n&&c().statSync(n).size>Nt)return g(a,l.id,{level:"error",line:"插件示例工程压缩包太大，不能超过 300M"});g(a,[l.id+"@"+l.version],"正在上传插件"+s().basename(e));const{category_level1:r,category_level2:o}=t,u={category_level1:r,category_level2:o,plugin_package:i().Uri.file(e)};return n&&(u.plugin_example=i().Uri.file(n)),function(e){return k("/modules/edit-info",e,!1).then((e=>{if(e)return e}))}(u)})).then((e=>{if(e){const e="修改成功，插件地址：https://ext.dcloud.net.cn/plugin?name="+l.id;r.close(),g(a,[l.id+"@"+l.version],{level:"success",line:e})}})).catch((e=>{const t=f(e.error||e.message);g(a,[l.id+"@"+l.version],{level:"error",line:"修改插件信息失败："+t}),r.showError(t)}))}({dir:n,data:r,webview:d,response:p,extType:l,isPackageJson:!!t.isPackageJson,workspaceFolderName:t.workspaceFolder.name})).then((()=>(C(),async function(e,t){return Ve("postupload",{wd:e,ids:[t]})}(me(n,!!t.isPackageJson),a)))).catch((e=>{C()}))}))}()}))}}function Pt(e,t,n){const r=t.fsPath,o=t.workspaceFolder&&"Extension"===t.workspaceFolder.nature,a=ce(t,p,o?"HBuilderX":"uni_modules");if(!a)return function(e){i().workspace.openTextDocument(s().resolve(e,"package.json"))}(r);(function(e,t){return Promise.resolve(function(e,t){return new kt(e,t)}(e,i().window.createWebViewDialog(t,{enableScripts:!0})))})(Ot.replace("__INIT_MESSAGE__",JSON.stringify(function(e,t,n){const r=t.isPackageJson&&t.workspaceFolder&&"UniApp_Vue"===t.workspaceFolder.nature,i=t.workspaceFolder&&"Extension"===t.workspaceFolder.nature,o=P(r?"project":i?"extension":"uni_modules");return{type:"Init",data:Object.assign({type:e,pkg:n,changelog:lt(t.fsPath)},o),options:{}}}(e,t,a))),n).then(Ft(e,t,r,a)).catch((e=>{g(t.workspaceFolder.name,[`${a.id}@${a.version}`],{level:"error",line:e.toString()})}))}async function Rt(e){if(Array.isArray(e))return p("您选择了多个目录，仅支持上传单个插件");e.fsPath.endsWith("package.json")&&(e.fsPath=s().dirname(e.fsPath),e.isPackageJson=!0),Pt("upload",e,At)}async function jt(e){if(Array.isArray(e))return u(e[0].workspaceFolder.name,{level:"error",line:"您选择了多个目录，仅支持修改单个插件基本信息"});e.fsPath.endsWith("package.json")&&(e.fsPath=s().dirname(e.fsPath),e.isPackageJson=!0),Pt("update",e,Object.assign({},At,{title:"修改插件基本信息",description:"修改插件市场插件的基本信息，readme.md等。"}))}function Mt(e){e.fsPath.endsWith("package.json")&&(e.fsPath=s().dirname(e.fsPath),e.isPackageJson=!0);const t=ce(e,p);t&&i().env.openExternal("https://ext.dcloud.net.cn/plugin?name="+t.id)}function Bt(e){const{commands:t}=i(),{subscriptions:n}=e;return function(e){i().window.registerUriHandler({handleUri:function(e){const{plugin:t}=(0,ft.parse)(e.query);t&&function(e){const t=e.ide_version;if(t)try{if(1===Re()(t,i().env.appVersion))return i().window.showMessageBox({type:"warning",title:"升级提示",text:`导入当前插件需要HBuilderX ${t} 以上版本，请先升级。<br>可通过菜单【帮助】-【检查更新】触发升级流程`,buttons:["知道了"]})}catch(e){}i().window.showWorkspaceFolderPick({title:"选择一个uni-app项目导入该插件",description:rt(e),platforms:e.platforms||[],filterTypes:["UniApp_Vue"],showSpaceName:!0}).then((async({path:t,platform:n})=>{if(!t)return;const r=await i().workspace.getWorkspaceFolder(t),o=r?.name||"",a=t;let l=s().basename(t),u="uni_modules";if(pe(t)&&(t=s().resolve(t,"src"),u="src/uni_modules"),e.vue_version&&!await function(e,t){const n=s().resolve(e,"manifest.json");if(!c().existsSync(n))return Promise.resolve(!0);const r=Q(c().readFileSync(n,"utf8"));if(!r)return Promise.resolve(!0);const o=r.vueVersion||"2";return o==t?Promise.resolve(!0):i().window.showMessageBox({type:"warn",title:`即将导入的插件的vue版本是${t}，而项目的vue版本是${o}。不匹配的版本可能导致项目运行异常，是否继续导入。`,text:"",buttons:["继续导入","取消"]}).then((e=>"继续导入"==e))}(t,e.vue_version))return;const d=I();(function(e){if(!e.extends)return Promise.resolve(!1);const t=[{plugin_id:e.id,version:e.version}];return N(JSON.stringify({plugins:t})).then((t=>(t.length&&(e.extends=t[0].extends||{}),!1))).catch((e=>!1))})(e).then((()=>{Qe({id:e.id,version:e.version,type:e.type},e.download_url,{workspaceFolder:r,input:s().resolve(a,u,e.id),output:d,extends:e.extends||{}}).then((()=>tt(d+"/",t,[e.id+"@"+e.version]))).then((()=>{const n=d+"/",r=s().resolve(t,"uni_modules"),i=ve(n,r),a=[e.id+"@"+e.version];y(n,r)&&g(o,a,"有同名文件，请处理合并"),et(o,n,r).then((async e=>{if(1===e)g(o,a,{level:"warn",line:"导入被取消"});else if(0===e){for(let e=0;e<i.length;e++){const t=i[e],n=s().resolve(r,t);await We(n,"init")}g(o,a,{level:"success",line:"导入["+l+"/"+u+"]成功"})}}))}))}))}))}(JSON.parse(t))}},e)}(e),n.push(t.registerCommand("uni_modules.create",wt)),n.push(t.registerCommand("uni_modules.install",St)),n.push(t.registerCommand("uni_modules.mkdir",_t)),n.push(t.registerCommand("uni_modules.update",It)),n.push(t.registerCommand("uni_modules.updateInfo",jt)),n.push(t.registerCommand("uni_modules.upload",Rt)),n.push(t.registerCommand("uni_modules.view",Mt)),ut&&ut()}function Ut(){return dt&&void 0}},2479:e=>{e.exports=function e(t,n){if(t&&n)return e(t)(n);if("function"!=typeof t)throw new TypeError("need wrapper function");return Object.keys(t).forEach((function(e){r[e]=t[e]})),r;function r(){for(var e=new Array(arguments.length),n=0;n<e.length;n++)e[n]=arguments[n];var r=t.apply(this,e),i=e[e.length-1];return"function"==typeof r&&r!==i&&Object.keys(i).forEach((function(e){r[e]=i[e]})),r}}},4076:(e,t,n)=>{e.exports=f,f.sync=y;var r=n(2357),i=n(5622),o=n(5747),s=void 0;try{s=n(2884)}catch(e){}var a=parseInt("666",8),c={nosort:!0,silent:!0},l=0,u="win32"===process.platform;function d(e){if(["unlink","chmod","stat","lstat","rmdir","readdir"].forEach((function(t){e[t]=e[t]||o[t],e[t+="Sync"]=e[t]||o[t]})),e.maxBusyTries=e.maxBusyTries||3,e.emfileWait=e.emfileWait||1e3,!1===e.glob&&(e.disableGlob=!0),!0!==e.disableGlob&&void 0===s)throw Error("glob dependency not found, set `options.disableGlob = true` if intentional");e.disableGlob=e.disableGlob||!1,e.glob=e.glob||c}function f(e,t,n){"function"==typeof t&&(n=t,t={}),r(e,"rimraf: missing path"),r.equal(typeof e,"string","rimraf: path should be a string"),r.equal(typeof n,"function","rimraf: callback function required"),r(t,"rimraf: invalid options argument provided"),r.equal(typeof t,"object","rimraf: options should be object"),d(t);var i=0,o=null,a=0;if(t.disableGlob||!s.hasMagic(e))return c(null,[e]);function c(e,r){return e?n(e):0===(a=r.length)?n():void r.forEach((function(e){p(e,t,(function r(s){if(s){if(("EBUSY"===s.code||"ENOTEMPTY"===s.code||"EPERM"===s.code)&&i<t.maxBusyTries)return i++,setTimeout((function(){p(e,t,r)}),100*i);if("EMFILE"===s.code&&l<t.emfileWait)return setTimeout((function(){p(e,t,r)}),l++);"ENOENT"===s.code&&(s=null)}l=0,function(e){o=o||e,0==--a&&n(o)}(s)}))}))}t.lstat(e,(function(n,r){if(!n)return c(null,[e]);s(e,t.glob,c)}))}function p(e,t,n){r(e),r(t),r("function"==typeof n),t.lstat(e,(function(r,i){return r&&"ENOENT"===r.code?n(null):(r&&"EPERM"===r.code&&u&&h(e,t,r,n),i&&i.isDirectory()?g(e,t,r,n):void t.unlink(e,(function(r){if(r){if("ENOENT"===r.code)return n(null);if("EPERM"===r.code)return u?h(e,t,r,n):g(e,t,r,n);if("EISDIR"===r.code)return g(e,t,r,n)}return n(r)})))}))}function h(e,t,n,i){r(e),r(t),r("function"==typeof i),n&&r(n instanceof Error),t.chmod(e,a,(function(r){r?i("ENOENT"===r.code?null:n):t.stat(e,(function(r,o){r?i("ENOENT"===r.code?null:n):o.isDirectory()?g(e,t,n,i):t.unlink(e,i)}))}))}function m(e,t,n){r(e),r(t),n&&r(n instanceof Error);try{t.chmodSync(e,a)}catch(e){if("ENOENT"===e.code)return;throw n}try{var i=t.statSync(e)}catch(e){if("ENOENT"===e.code)return;throw n}i.isDirectory()?v(e,t,n):t.unlinkSync(e)}function g(e,t,n,o){r(e),r(t),n&&r(n instanceof Error),r("function"==typeof o),t.rmdir(e,(function(s){!s||"ENOTEMPTY"!==s.code&&"EEXIST"!==s.code&&"EPERM"!==s.code?s&&"ENOTDIR"===s.code?o(n):o(s):function(e,t,n){r(e),r(t),r("function"==typeof n),t.readdir(e,(function(r,o){if(r)return n(r);var s,a=o.length;if(0===a)return t.rmdir(e,n);o.forEach((function(r){f(i.join(e,r),t,(function(r){if(!s)return r?n(s=r):void(0==--a&&t.rmdir(e,n))}))}))}))}(e,t,o)}))}function y(e,t){var n;if(d(t=t||{}),r(e,"rimraf: missing path"),r.equal(typeof e,"string","rimraf: path should be a string"),r(t,"rimraf: missing options"),r.equal(typeof t,"object","rimraf: options should be object"),t.disableGlob||!s.hasMagic(e))n=[e];else try{t.lstatSync(e),n=[e]}catch(r){n=s.sync(e,t.glob)}if(n.length)for(var i=0;i<n.length;i++){e=n[i];try{var o=t.lstatSync(e)}catch(n){if("ENOENT"===n.code)return;"EPERM"===n.code&&u&&m(e,t,n)}try{o&&o.isDirectory()?v(e,t,null):t.unlinkSync(e)}catch(n){if("ENOENT"===n.code)return;if("EPERM"===n.code)return u?m(e,t,n):v(e,t,n);if("EISDIR"!==n.code)throw n;v(e,t,n)}}}function v(e,t,n){r(e),r(t),n&&r(n instanceof Error);try{t.rmdirSync(e)}catch(o){if("ENOENT"===o.code)return;if("ENOTDIR"===o.code)throw n;"ENOTEMPTY"!==o.code&&"EEXIST"!==o.code&&"EPERM"!==o.code||function(e,t){r(e),r(t),t.readdirSync(e).forEach((function(n){y(i.join(e,n),t)}));for(var n=u?100:1,o=0;;){var s=!0;try{var a=t.rmdirSync(e,t);return s=!1,a}finally{if(++o<n&&s)continue}}}(e,t)}}},2357:e=>{"use strict";e.exports=require("assert")},4293:e=>{"use strict";e.exports=require("buffer")},3129:e=>{"use strict";e.exports=require("child_process")},8614:e=>{"use strict";e.exports=require("events")},5747:e=>{"use strict";e.exports=require("fs")},503:e=>{"use strict";e.exports=require("original-fs")},2087:e=>{"use strict";e.exports=require("os")},5622:e=>{"use strict";e.exports=require("path")},2413:e=>{"use strict";e.exports=require("stream")},1669:e=>{"use strict";e.exports=require("util")},8761:e=>{"use strict";e.exports=require("zlib")}},t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}return n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(2259)})());